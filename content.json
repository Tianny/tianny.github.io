{"meta":{"title":"Tianny's Blog","subtitle":"Tianny","description":"What is a real programmer?","author":"Tianny","url":"https://tianny.cc","root":"/"},"pages":[{"title":"about","date":"2018-10-05T08:33:28.000Z","updated":"2019-06-02T11:37:29.738Z","comments":true,"path":"about/index.html","permalink":"https://tianny.cc/about/index.html","excerpt":"","text":""},{"title":"categories","date":"2018-10-01T16:47:23.000Z","updated":"2019-06-02T11:37:29.738Z","comments":true,"path":"categories/index.html","permalink":"https://tianny.cc/categories/index.html","excerpt":"","text":""},{"title":"friends","date":"2018-12-13T15:43:47.000Z","updated":"2019-06-02T11:37:29.739Z","comments":true,"path":"friends/index.html","permalink":"https://tianny.cc/friends/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-09-12T15:24:17.000Z","updated":"2019-06-02T11:37:29.739Z","comments":true,"path":"tags/index.html","permalink":"https://tianny.cc/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Javaå…¥é—¨-åå°„","slug":"Java/åŸºç¡€/åå°„","date":"2020-04-23T02:06:48.000Z","updated":"2020-04-23T09:27:32.858Z","comments":true,"path":"2020/04/23/java/ji-chu/fan-she/","link":"","permalink":"https://tianny.cc/2020/04/23/java/ji-chu/fan-she/","excerpt":"","text":"","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ³›å‹é€šé…ç¬¦","slug":"Java/åŸºç¡€/æ³›å‹é€šé…ç¬¦","date":"2020-04-20T23:47:42.000Z","updated":"2020-04-22T06:59:42.642Z","comments":true,"path":"2020/04/21/java/ji-chu/fan-xing-tong-pei-fu/","link":"","permalink":"https://tianny.cc/2020/04/21/java/ji-chu/fan-xing-tong-pei-fu/","excerpt":"","text":"åœ¨å‰é¢è¯´è¿‡ï¼Œæ³›å‹æ˜¯ä¸å˜çš„ï¼Œä¸ºäº†å®ç°æ³›å‹çš„åå˜ä¸é€†å˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³›å‹é€šé…ç¬¦ã€‚é€šé…ç¬¦public void test(List&lt;Object> c) { for (int i = 0; i &lt; c.size(); i++) { System.out.prinln(c.get(i)); } }è¿™ä¸ªæ–¹æ³•å£°æ˜æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯è°ƒç”¨è¯¥æ–¹æ³•å®é™…ä¼ å…¥çš„å‚æ•°å€¼ï¼Œå¯èƒ½ä¼šå‡ºé”™ã€‚è€ƒè™‘å¦‚ä¸‹ä»£ç ï¼šList&lt;String> strList = new ArrayList&lt;>(); test(strList); // ç¼–è¯‘å‡ºé”™ï¼Œå› ä¸ºæ³›å‹æ˜¯ä¸å˜çš„ï¼Œ List&lt;String> å¹¶ä¸æ˜¯ List&lt;Object> çš„å­ç±»ã€‚ä¸ºäº†è¡¨ç¤ºå„ç§æ³›å‹ List çš„çˆ¶ç±»ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹é€šé…ç¬¦ã€‚List&lt;?&gt; è¡¨ç¤ºå…ƒç´ ç±»å‹æœªçŸ¥çš„ Listã€‚è¿™ä¸ª ï¼Ÿ å·è¢«ç§°ä¸ºé€šé…ç¬¦ï¼Œå®ƒå¯ä»¥åŒ¹é…ä»»ä½•ç±»å‹ã€‚å°†ä¸Šé¢çš„ä»£ç ï¼Œæ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼špublic void test(List&lt;?> c) { for (int i = 0; i &lt; c.size(); i++) { System.out.prinln(c.get(i)); } }ç°åœ¨ä¼ å…¥ä»»ä½•ç±»å‹çš„ Listï¼Œç¨‹åºå¯ä»¥æ­£å¸¸æ‰“å°é›†åˆ c ä¸­çš„å…ƒç´ ã€‚è¿™ç§æ–¹æ³•åŒæ—¶å¸¦æ¥äº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œå³é›†åˆä¸­å…ƒç´ çš„ç±»å‹ä¼šè¢«å½“æˆ Object ç±»å‹å¯¹å¾…ã€‚æ³›å‹é€šé…ç¬¦çš„ä¸Šç•Œclass Fruit {} class Apple extends Fruit {} class Jonathan extends Apple {} class Orange extends Fruit {} public class GenericsAndCovariance { public static void main(String[] args) { List&lt;? extends Fruit> flist = new ArrayList&lt;Apple>(); flist.add(new Apple()); // ç¼–è¯‘é”™è¯¯ flist.add(new Fruit()); // ç¼–è¯‘é”™è¯¯ flist.add(new Object()); // ç¼–è¯‘é”™è¯¯ } }ç°åœ¨ flist çš„ç±»å‹æ˜¯ &lt;? extends Fruit&gt;ï¼Œextends æŒ‡å‡ºäº†æ³›å‹çš„ä¸Šç•Œä¸º Fruitã€‚ä¸‹è¾¹ç•Œæ˜¯ä»»æ„ Fruit çš„å­ç±»ï¼Œç†è®ºä¸Šæ¥è¯´å¯ä»¥æ˜¯æ— é™å¤šã€‚ä½¿ç”¨é€šé…ç¬¦å¯ä»¥å°† ArrayList&lt;Apple&gt; å‘ä¸Šè½¬å‹äº†ï¼Œä¹Ÿå°±å®ç°äº†åå˜ã€‚è¿™æ ·çš„è½¬æ¢ä¹Ÿæœ‰ä¸€å®šçš„å‰¯ä½œç”¨ã€‚é‚£å°±æ˜¯å®¹å™¨çš„éƒ¨åˆ†åŠŸèƒ½å¯èƒ½å¤±æ•ˆã€‚æˆ‘ä»¬ä¸èƒ½å‘ä¸€ä¸ªåå˜æ³›å‹çš„ç»“æ„ä¸­åŠ å…¥ä»»ä½•å…ƒç´ ï¼ˆé™¤äº† nullï¼‰ã€‚è§‚å¯Ÿä¸Šé¢ä»£ç ï¼Œå†ä¹Ÿä¸èƒ½å¾€å®¹å™¨é‡Œä»»ä½•ä¸œè¥¿ã€‚å› ä¸ºæ³›å‹çš„ç±»å‹æ“¦é™¤åŸå› ï¼Œç±»å‹æ£€æŸ¥ç§»åˆ°äº†ç¼–è¯‘æœŸï¼Œä½†åå˜è¿‡ç¨‹åˆä¸¢æ‰äº†å…·ä½“çš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯ Fruit ç±»çš„ä»»ä½•å­ç±»ï¼Œæ— æ³•ç¡®å®šåˆ°åº•æ˜¯å“ªä¸ªå­ç±»ï¼‰ï¼Œå¯¼è‡´ç¼–è¯‘å™¨æ— æ³•ç¡®å®šçœŸå®çš„ç±»å‹ä¿¡æ¯ï¼Œæ‰€ä»¥æ‹’ç»äº†æ’å…¥æ“ä½œã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸è®ºå®ƒæ˜¯ä»€ä¹ˆç±»å‹ï¼Œå®ƒæ€»æ˜¯ Fruit çš„å­ç±»å‹ï¼Œå½“æˆ‘ä»¬åœ¨è¯»å–æ•°æ®æ—¶ï¼Œèƒ½ç¡®ä¿å¾—åˆ°çš„æ•°æ®æ˜¯ä¸€ä¸ª Fruit ç±»å‹çš„å®ä¾‹ï¼šFruit get = flist.get(0);æ€»ç»“ï¼šå¦‚æœä¸€ä¸ªå®¹å™¨æ˜¯åªè¯»çš„ï¼Œæ‰èƒ½åå˜ã€‚ä¸ç„¶å¾ˆå®¹æ˜“å°±èƒ½æŠŠä¸€äº›ç‰¹æ®Šçš„å®¹å™¨åå˜åˆ°æ›´ä¸€èˆ¬çš„å®¹å™¨ï¼Œå†å¾€é‡Œé¢æ·»åŠ è¿›ä¸åº”è¯¥å‚¨å­˜çš„ç±»å‹ã€‚åå˜ç»“æ„å¯è¯»ï¼Œä¸å¯å†™ã€‚æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œä½¿ç”¨é€šé…ç¬¦ ? super Tï¼Œå…¶ä¸­ T æ˜¯ä¸€ä¸ªåŸºç±»å‹ï¼Œæˆ–è€…è¯´çˆ¶ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€†å˜ç»“æ„ä¸­æ·»åŠ ä»»ä½• T åŠ T çš„å­ç±»ã€‚é€†å˜ç»“æ„å¯å†™ï¼Œä¸å¯è¯»ã€‚Fruit get = flist.get(0);æ€»ç»“ï¼šå¦‚æœä¸€ä¸ªå®¹å™¨æ˜¯åªè¯»çš„ï¼Œæ‰èƒ½åå˜ã€‚ä¸ç„¶å¾ˆå®¹æ˜“å°±èƒ½æŠŠä¸€äº›ç‰¹æ®Šçš„å®¹å™¨åå˜åˆ°æ›´ä¸€èˆ¬çš„å®¹å™¨ï¼Œå†å¾€é‡Œé¢æ·»åŠ è¿›ä¸åº”è¯¥å‚¨å­˜çš„ç±»å‹ã€‚åå˜ç»“æ„å¯è¯»ï¼Œä¸å¯å†™ã€‚æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œä½¿ç”¨é€šé…ç¬¦ ? super Tï¼Œå…¶ä¸­ T æ˜¯ä¸€ä¸ªåŸºç±»å‹ï¼Œæˆ–è€…è¯´çˆ¶ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€†å˜ç»“æ„ä¸­æ·»åŠ ä»»ä½• T åŠ T çš„å­ç±»ã€‚é€†å˜ç»“æ„å¯å†™ï¼Œä¸å¯è¯»ã€‚class Fruit {} class Apple extends Fruit {} class Jonathan extends Apple {} class Orange extends Fruit {} public class SuperTypeWildcards { static void writeTo(List apples) { apples.add(new Apple()); apples.add(new Jonathan()); apples.add(new Fruit()); // ç¼–è¯‘é”™è¯¯ } }List&lt;? super Apple&gt; æŒ‡å®šäº†æ³›å‹çš„ä¸‹ç•Œæ˜¯ Appleã€‚ä¸Šè¾¹ç•Œæ˜¯æ¨¡ç³Šçš„ï¼Œä»»æ„ Apple çš„çˆ¶ç±»éƒ½å¯ä»¥ï¼Œå­˜åœ¨æ— é™çš„å¯èƒ½æ€§ï¼Œæ— æ³•ç¡®å®šå…·ä½“çš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯ Apple çš„ä»»ä½•çˆ¶ç±»ï¼Œæ— æ³•ç¡®å®šåˆ°åº•æ˜¯å“ªä¸ªçˆ¶ç±»ï¼‰ã€‚æ‰€ä»¥åªèƒ½æ·»åŠ  Apple åŠå…¶å­ç±»ã€‚åªèƒ½å–å‡º Object å®ä¾‹ï¼šå› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“è¶…ç±»ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œç¼–è¯‘å™¨å”¯ä¸€èƒ½ä¿è¯çš„åªæ˜¯å®ƒæ˜¯ä¸ª Objectï¼Œå› ä¸º Object æ˜¯ä»»ä½• Java ç±»å‹çš„è¶…ç±»ã€‚å­˜å–åŸåˆ™å¦‚æœä½ æƒ³ä»ä¸€ä¸ªæ•°æ®ç±»å‹é‡Œè·å–æ•°æ®ï¼Œä½¿ç”¨&lt;? extends T&gt; é€šé…ç¬¦ã€‚å¦‚æœä½ æƒ³æŠŠå¯¹è±¡å†™å…¥ä¸€ä¸ªæ•°æ®ç»“æ„é‡Œï¼Œä½¿ç”¨&lt;? super T&gt; é€šé…ç¬¦ã€‚å¦‚æœä½ æ—¢æƒ³å­˜ï¼Œåˆæƒ³å–ï¼Œé‚£å°±åˆ«ç”¨é€šé…ç¬¦ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-åå˜ä¸é€†å˜","slug":"Java/åŸºç¡€/åå˜ä¸é€†å˜","date":"2020-04-20T06:59:53.000Z","updated":"2020-04-22T06:48:06.056Z","comments":true,"path":"2020/04/20/java/ji-chu/xie-bian-yu-ni-bian/","link":"","permalink":"https://tianny.cc/2020/04/20/java/ji-chu/xie-bian-yu-ni-bian/","excerpt":"","text":"åœ¨ä»‹ç»æ³›å‹çš„é€šé…ç¬¦ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦äº†è§£ä¸‹åå˜ä¸é€†å˜çš„ç›¸å…³çŸ¥è¯†ã€‚å®šä¹‰é€†å˜ä¸åå˜ç”¨æ¥æè¿°ç±»å‹è½¬æ¢ï¼ˆtype transformationï¼‰åçš„ç»§æ‰¿å…³ç³»ï¼Œå…¶å®šä¹‰ï¼šå¦‚æœ ğ´ã€ğµ è¡¨ç¤ºç±»å‹ï¼Œğ‘“(â‹…) è¡¨ç¤ºç±»å‹è½¬æ¢ï¼Œâ‰¤ è¡¨ç¤ºç»§æ‰¿å…³ç³»ï¼ˆæ¯”å¦‚ ğ´â‰¤ğµ è¡¨ç¤º ğ´ æ˜¯ç”± ğµ æ´¾ç”Ÿå‡ºæ¥çš„å­ç±»ï¼‰ğ‘“(â‹…) æ˜¯é€†å˜ï¼ˆcontravariantï¼‰çš„ï¼Œå½“ ğ´â‰¤ğµ æ—¶æœ‰ ğ‘“(ğµ)â‰¤ğ‘“(ğ´) æˆç«‹ï¼›ğ‘“(â‹…) æ˜¯åå˜ï¼ˆcovariantï¼‰çš„ï¼Œå½“ ğ´â‰¤ğµ æ—¶æœ‰ ğ‘“(ğ´)â‰¤ğ‘“(ğµ) æˆç«‹ï¼›ğ‘“(â‹…) æ˜¯ä¸å˜ï¼ˆinvariantï¼‰çš„ï¼Œå½“ ğ´â‰¤ğµ æ—¶ä¸Šè¿°ä¸¤ä¸ªå¼å­å‡ä¸æˆç«‹ï¼Œå³ ğ‘“(ğ´) ä¸ ğ‘“(ğµ) ç›¸äº’ä¹‹é—´æ²¡æœ‰ç»§æ‰¿å…³ç³»ã€‚æ•°ç»„æ˜¯åå˜çš„Number[] numbers = new Number[3]; numbers[0] = new Integer(10); numbers[1] = new Double(3.14); numbers[2] = new Long(99L);åŒ…è£…ç±» Integerã€Doubleã€Long æ˜¯ Number çš„å­ç±»ï¼Œnumbers æ•°ç»„ä¸­çš„å…ƒç´ çš„ç±»å‹å¯ä»¥æ˜¯ä»»ä½• Number çš„å­ç±»ã€‚æˆ‘ä»¬ç§° Java æ•°ç»„æ˜¯åå˜çš„ (Covariant)ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä¸‹é¢çš„ä»£ç ä¹Ÿæ˜¯åˆæ³•çš„ï¼šInteger[] IntArray = {1,2,3,4}; Number[] NumberArray = IntArray; Number n = NumberArray[0]; //ä»ä¸€ä¸ªåå˜ç»“æ„ä¸­è¯»å–å…ƒç´ æ ¹æ®åå˜çš„å®šä¹‰ï¼Œå› ä¸ºæ•°ç»„æ˜¯åå˜çš„ï¼Œæ‰€ä»¥ Integer[] æ˜¯ Number[] çš„å­ç±»ã€‚å¯ä»¥å°†å­ç±»å‹çš„æ•°ç»„èµ‹äºˆåŸºç±»å‹çš„æ•°ç»„å¼•ç”¨ã€‚å³çˆ¶ç±»çš„å¼•ç”¨å¯ä»¥æŒ‡å‘å­ç±»å¯¹è±¡ã€‚ä½†æ˜¯è¿™ä¼šå¯¼è‡´ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼šInteger[] IntArray = {1,2,3,4}; Number[] NumberArray = IntArray; NumberArray[0] = 9; NumberArray[0] = 3.14; //å°è¯•æ±¡æŸ“ä¸€ä¸ªIntegeræ•°ç»„ runtime erroråœ¨ç¼–è¯‘æ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶æœ€åä¸€è¡Œä»£ç ä¼šæŠ›å‡º ArrayStoreExceptionã€‚å¾ˆæ˜æ˜¾ï¼Œå³ä½¿é€šè¿‡ä¸€ä¸ª Number[] å¼•ç”¨ï¼Œä¹Ÿä¸èƒ½å°†ä¸€ä¸ªæµ®ç‚¹æ•°æ”¾å…¥ä¸€ä¸ªäº‹å®ä¸Šçš„ Integer[] æ•°ç»„ã€‚å› ä¸ºåœ¨è¿è¡Œæ—¶çŸ¥é“è¿™ä¸ªæ•°ç»„çš„çœŸå®ç±»å‹ä¸ºå­˜æ”¾ Integer ç±»å‹çš„æ•°ç»„ã€‚æ³›å‹æ˜¯ä¸å˜çš„è¦ç†è§£æ³›å‹æ˜¯ä¸å˜çš„ï¼Œéœ€è¦åœ¨æ­¤ä¹‹å‰è¯´æ˜æ³›å‹çš„æ“¦é™¤æœºåˆ¶ã€‚å› ä¸º JDK1.5 ä¸­æ‰å¼•å…¥æ³›å‹æœºåˆ¶ï¼Œä¸ºäº†å…¼å®¹æ—§çš„å­—èŠ‚ç ï¼ŒJava è§„èŒƒåœ¨ç¼–è¯‘æ—¶å¯¹æ³›å‹è¿›è¡Œäº†ç±»å‹æ“¦é™¤ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä½¿ç”¨çš„æ‰€æœ‰æ³›å‹ä»…ä»…å­˜åœ¨äºç¼–è¯‘æœŸé—´ï¼Œå½“é€šè¿‡ç¼–è¯‘å™¨æ£€æŸ¥åï¼Œæ³›å‹ä¿¡æ¯éƒ½ä¼šè¢«åˆ é™¤ã€‚åœ¨è¿è¡Œæ—¶ï¼ŒJVM å¤„ç†çš„éƒ½æ˜¯æ²¡æœ‰æºå¸¦æ³›å‹ä¿¡æ¯çš„ç±»å‹ã€‚public class ErasedTypeEquivalence { public static void main(String[] args) { Class c1 = new ArrayList&lt;String>().getClass(); Class c2 = new ArrayList&lt;Integer>().getClass(); System.out.println(c1 == c2); } }ä¸Šé¢çš„æ‰§è¡Œç»“æœä¸º trueã€‚å°½ç®¡ ArrayList&lt;String&gt; å’Œ ArrayList&lt;Integer&gt; çœ‹ä¸Šå»æ˜¯ä¸åŒçš„ç±»å‹ï¼Œä½†åœ¨è¿è¡Œæ—¶å®é™…ä¸Šæ˜¯ç›¸åŒçš„ç±»å‹ã€‚è¿™ä¸¤ç§ç±»å‹éƒ½è¢«æ“¦é™¤æˆå®ƒä»¬çš„åŸç”Ÿç±»å‹ï¼Œå³ ArrayListã€‚å†çœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼šclass Fruit {} class Apple extends Fruit {} public class NonCovariantGenerics { List&lt;Fruit> flist = new ArrayList&lt;Apple>(); // ç¼–è¯‘é”™è¯¯ } public class CovariantArrays { public static void main(String[] args) { Fruit[] fruit = new Apple[10]; // ç¼–è¯‘æ­£ç¡® }ä¸æ•°ç»„ä¸åŒï¼Œæ³›å‹æ²¡æœ‰å†…å»ºçš„åå˜ç±»å‹ã€‚è™½ç„¶ Apple æ˜¯ Fruit çš„å­ç±»ï¼Œä½† ArrayList&lt;Apple&gt; å¹¶ä¸æ˜¯ List&lt;Fruit&gt; çš„å­ç±»ï¼ŒNonCovariantGenerics ç›´æ¥åœ¨ç¼–è¯‘æ—¶æŠ¥é”™äº†ã€‚æ³›å‹è™½ç„¶æ˜¯ä¸å˜çš„ï¼Œä½†æœ‰æ—¶éœ€è¦å®ç°åå˜å’Œé€†å˜ï¼Œè¿™æ—¶å°±è¦ç”¨åˆ°æ³›å‹é€šé…ç¬¦äº†ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ³›å‹","slug":"Java/åŸºç¡€/æ³›å‹","date":"2020-04-17T09:17:43.000Z","updated":"2020-04-20T08:40:56.757Z","comments":true,"path":"2020/04/17/java/ji-chu/fan-xing/","link":"","permalink":"https://tianny.cc/2020/04/17/java/ji-chu/fan-xing/","excerpt":"","text":"èƒŒæ™¯åœ¨æ²¡æœ‰æ³›å‹å‰ï¼Œä¸€æ—¦æŠŠä¸€ä¸ªå¯¹è±¡ä¸¢è¿›é›†åˆä¸­ï¼Œé›†åˆå°±ä¼šå¿˜è®°å¯¹è±¡çš„ç±»å‹ï¼ŒæŠŠæ‰€æœ‰çš„å¯¹è±¡éƒ½å½“æˆ Object ç±»å‹å¤„ç†ã€‚å½“ç¨‹åºä»é›†åˆä¸­å–å‡ºå¯¹è±¡åï¼Œå°±éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè¿™ç§è½¬æ¢å¾ˆå®¹æ˜“å¼•èµ· ClassCastException å¼‚å¸¸ã€‚å®šä¹‰ç¨‹åºåœ¨åˆ›å»ºé›†åˆæ—¶æŒ‡å®šé›†åˆå…ƒç´ çš„ç±»å‹ã€‚å¢åŠ äº†æ³›å‹æ”¯æŒåçš„é›†åˆï¼Œå¯ä»¥è®°ä½é›†åˆä¸­å…ƒç´ çš„ç±»å‹ï¼Œå¹¶å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥é›†åˆä¸­å…ƒç´ çš„ç±»å‹ï¼Œå¦‚æœè¯•å›¾å‘é›†åˆä¸­æ·»åŠ ä¸æ»¡è¶³ç±»å‹è¦æ±‚çš„å¯¹è±¡ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚ç¤ºä¾‹ä¸¤ä¸ªç¤ºä¾‹ï¼Œç®€å•ä»‹ç»æ³›å‹çš„åŸºæœ¬ä½¿ç”¨ã€‚é›†åˆä½¿ç”¨æ³›å‹import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.util.Map; public class DiamondTest { public static void main(String[] args) { List&lt;String> books = new ArrayList&lt;>(); books.add(\"learn\"); books.add(\"java\"); books.forEach(book -> System.out.println(book.length())); Map&lt;String, List&lt;String>> schoolsInfo = new HashMap&lt;>(); List&lt;String> schools = new ArrayList&lt;>(); schools.add(\"i\"); schools.add(\"love\"); schoolsInfo.put(\"java\", schools); schoolsInfo.forEach((key, value) -> System.out.println(key + \"--->\" + value)); } }ç±»ã€æ¥å£ä½¿ç”¨æ³›å‹public class Apple&lt;T> { private T info; public Apple() {} public Apple(T info) { this.info = info; } public void setInfo(T info) { this.info = info; } public T getinfo() { return this.info; } public static void main(String[] args) { Apple&lt;String> a1 = new Apple&lt;>(\"Apple\"); System.out.println(a1.getinfo()); Apple&lt;Double> a2 = new Apple&lt;>(5.67); System.out.println(a2.getinfo()); } }","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-é›†åˆ","slug":"Java/åŸºç¡€/é›†åˆ","date":"2020-04-02T12:43:17.000Z","updated":"2020-04-02T23:13:10.401Z","comments":true,"path":"2020/04/02/java/ji-chu/ji-he/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/ji-he/","excerpt":"","text":"List é›†åˆList é›†åˆä¸­å…ƒç´ æœ‰åºã€å¯é‡å¤ï¼Œé›†åˆä¸­æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„ç´¢å¼•é¡ºåºã€‚List åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåªè¦é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› true å³å¯ã€‚çœ‹ä¸ªä¾‹å­ï¼špublic class A { public boolean equals(Object obj) { return true; } } import java.util.ArrayList; import java.util.List; public class ListTest2 { public static void main(String[] args) { List books = new ArrayList(); books.add(new String(\"a\")); books.add(new String(\"b\")); books.add(new String(\"c\")); System.out.println(books); books.remove(new A()); System.out.println(books); books.remove(new A()); System.out.println(books); } }å½“è¯•å›¾åˆ é™¤ä¸€ä¸ª A å¯¹è±¡æ—¶ï¼ŒList ä¼šè°ƒç”¨ A å¯¹è±¡çš„ equals æ–¹æ³•ä¾æ¬¡ä¸é›†åˆå…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœ equals æ–¹æ³•ä»¥æŸä¸ªé›†åˆå…ƒç´ ä½œä¸ºå‚æ•°æ—¶è¿”å› trueï¼ŒList å°†ä¼šåˆ é™¤è¯¥å…ƒç´ ã€‚è¿™é‡Œ A é‡å†™äº† equals æ–¹æ³•ï¼Œæ€»æ˜¯è¿”å› trueï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šä» List é›†åˆä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚ArrayList ç±»ArrayList ç±»æ˜¯åŸºäºæ•°ç»„å®ç°çš„ List ç±»ï¼Œå®Œå…¨æ”¯æŒå‰é¢ä»‹ç»çš„ List æ¥å£çš„å…¨éƒ¨åŠŸèƒ½ã€‚ArrayList å°è£…äº†ä¸€ä¸ªåŠ¨æ€çš„ã€å…è®¸å†åˆ†é…çš„ Object[] æ•°ç»„ã€‚Set é›†åˆHashSet ç±»å…ƒç´ æ²¡æœ‰é¡ºåºï¼Œé›†åˆå…ƒç´ çš„å€¼å¯ä»¥æ˜¯ nullHashSet ä¸æ˜¯åŒæ­¥çš„ï¼Œå‡è®¾æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹äº† HashSet é›†åˆæ—¶ï¼Œå¿…é¡»é€šè¿‡ä»£ç æ¥ä¿è¯å…¶åŒæ­¥HashSet åˆ¤æ–­å…ƒç´ ç›¸ç­‰çš„æ ‡å‡†æ˜¯ä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals() æ¯”è¾ƒç›¸ç­‰ï¼ŒåŒæ—¶ä¸¤ä¸ªå¯¹è±¡çš„ hashCode()è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚hashCode å’Œ equals ç¬¦åˆè¿™æ ·ä¸€ä¸ªçº¦å®š:equals è¿”å› trueï¼Œ hashCode å¿…é¡»ç›¸ç­‰ã€‚å¾ˆå¤š Java ç±»åº“ä¸­çš„ä»£ç éƒ½æ˜¯æŒ‰ç…§è¿™ç§çº¦å®šä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•çš„ï¼Œæ¯”å¦‚ HashSetã€‚å½“å‘ HashSet é›†åˆä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHashSet ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ hashCode() æ–¹æ³•æ¥è·å¾—è¯¥å¯¹è±¡çš„ hashCode å€¼ï¼Œç„¶åæ ¹æ®è¯¥ hashCode å€¼å†³å®šè¯¥å¯¹è±¡åœ¨ HashSet ä¸­çš„å­˜å‚¨ä½ç½®ã€‚HashSet ä¸­æ¯ä¸ªèƒ½å­˜å‚¨å…ƒç´ çš„æ§½ä½ç§°ä¸ºæ¡¶(bucket)ã€‚å¦‚æœå¤šä¸ªå…ƒç´ çš„ hashCode å€¼ç›¸åŒï¼Œä½†å®ƒä»¬é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› falseï¼Œå°±éœ€è¦åœ¨ä¸€ä¸ªæ¡¶é‡Œæ”¾å¤šä¸ªå…ƒç´ ï¼Œè¿™ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚æ‰€ä»¥ï¼Œå»ºè®®åœ¨éœ€è¦æŠŠæŸä¸ªç±»çš„å¯¹è±¡ä¿å­˜åˆ° HashSet é›†åˆæ—¶ï¼Œé‡å†™è¯¥ç±»çš„ equals å’Œ hashCode æ–¹æ³•ï¼Œå°½é‡ä¿è¯ä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œä»–ä»¬çš„ hashCode æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚å½“æŠŠå¯å˜å¯¹è±¡æ·»åŠ åˆ° HashSet ä¸­åï¼Œéœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå°½é‡ä¸è¦å»ä¿®æ”¹å¯å˜å¯¹è±¡ä¸­å‚ä¸è®¡ç®— hashCode() ã€equals() æ–¹æ³•çš„å®ä¾‹å˜é‡ï¼Œå¦åˆ™ä¼šå¯¼è‡´ HashSet æ— æ³•æ­£ç¡®è®¿é—®è¿™äº›é›†åˆå…ƒç´ ã€‚çœ‹ä¸ªä¾‹å­ï¼špublic class R { int count; public R(int count) { this.count = count; } public String toString() { return \"R[count:\" + count + \"]\"; } @Override public boolean equals(Object obj) { if (this == obj) { return true; } if (obj != null &amp;&amp; obj.getClass() == R.class) { R r = (R)obj; return this.count == r.count; } return false; } public int hashCode() { return this.count; } } import java.util.HashSet; import java.util.Iterator; public class HashSetTest2 { public static void main(String[] args) { HashSet hs = new HashSet(); hs.add(new R(5)); hs.add(new R(-3)); hs.add(new R(9)); hs.add(new R(-2)); System.out.println(hs); Iterator it = hs.iterator(); R first = (R)it.next(); first.count = -3; System.out.println(hs); hs.remove(new R(-3)); System.out.println(hs); System.out.println(\"hs æ˜¯å¦åŒ…å« count ä¸º -3 çš„ R å¯¹è±¡\" + hs.contains(new R(-3))); System.out.println(\"hs æ˜¯å¦åŒ…å« count ä¸º -2 çš„ R å¯¹è±¡\" + hs.contains(new R(-2))); } } /* [R[count:-2], R[count:-3], R[count:5], R[count:9]] [R[count:-3], R[count:-3], R[count:5], R[count:9]] [R[count:-3], R[count:5], R[count:9]] hs æ˜¯å¦åŒ…å« count ä¸º -3 çš„ R å¯¹è±¡false hs æ˜¯å¦åŒ…å« count ä¸º -2 çš„ R å¯¹è±¡false */LinkedHashSet ç±»LinkedHashSet æ˜¯ HashSet çš„å­ç±»ï¼ŒåŒæ ·æ ¹æ® hashCode å€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ã€‚ä½†æ˜¯ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œä½¿å¾—å½“éå† LinkedHashSet é›†åˆé‡Œçš„å…ƒç´ æ—¶ï¼ŒLinkedHashSet ä¼šæŒ‰å…ƒç´ çš„æ·»åŠ é¡ºåºè®¿é—®é›†åˆé‡Œçš„å…ƒç´ ã€‚LinkedHashSet éœ€è¦ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå› æ­¤æ€§èƒ½ç•¥ä½äº HashSetï¼Œä½†åœ¨è¿­ä»£è®¿é—® Set é‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶ä¼šæœ‰å¾ˆå¥½çš„æ€§èƒ½ï¼Œå› ä¸ºå®ƒä»¥é“¾è¡¨ç»´æŠ¤å†…éƒ¨çš„é¡ºåºã€‚TreeSet ç±»TreeSet æ˜¯ SortedSet æ¥å£çš„å®ç°ç±»ï¼Œé¡¾åæ€ä¹‰è¿™æ˜¯ä¸€ç§æ’åºçš„ Set é›†åˆã€‚TreeSet åº•å±‚ä½¿ç”¨ TreeMap å®ç°ï¼Œé‡‡ç”¨çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨é›†åˆå…ƒç´ ã€‚TreeSet æ”¯æŒä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨è‡ªç„¶æ’åºã€‚è‡ªç„¶æ’åºJava æä¾›äº† Comparable æ¥å£ï¼Œæ¥å£å®šä¹‰äº†ä¸€ä¸ª compareTo(Object obj) æ–¹æ³•ã€‚å®ç°è¯¥æ¥å£çš„ç±»å¿…é¡»å®ç°è¯¥æŠ½è±¡æ–¹æ³•ã€‚compareTo(Object obj) æ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼šobj1.compareTo(obj2) è¿”å›å€¼ä¸º 0ï¼Œè¡¨æ˜ç›¸ç­‰obj1.compareTo(obj2) è¿”å›å€¼å¤§äº 0ï¼Œè¡¨æ˜ obj1 &gt; obj2obj1.compareTo(obj2) è¿”å›å€¼å°äº 0ï¼Œè¡¨æ˜ obj1 &lt; obj2TreeSet ä¼šè°ƒç”¨é›†åˆå…ƒç´ çš„ compareTo(Object obj) æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ å¤§å°å…³ç³»ï¼Œå†å°†é›†åˆå…ƒç´ æŒ‰å‡åºæ’åºï¼Œè¿™å°±æ˜¯è‡ªç„¶æ’åºã€‚æ‰€ä»¥è‡ªç„¶æ’åºä¸­çš„å…ƒç´ å¯¹è±¡éƒ½å¿…é¡»å®ç°äº† Comparable æ¥å£ã€‚å¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡ compareTo(Object obj) æ¯”è¾ƒç›¸ç­‰ï¼Œ å³è¿”å›å€¼ä¸º0ï¼ŒTreeSet è®¤ä¸ºå®ƒä»¬ç›¸ç­‰ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å°†æ— æ³•æ·»åŠ åˆ° TreeSet é›†åˆä¸­ã€‚å¦‚æœå¸Œæœ› TreeSet èƒ½æ­£å¸¸å·¥ä½œï¼ŒTreeSet åªèƒ½æ·»åŠ åŒä¸€ç§ç±»å‹çš„å¯¹è±¡ã€‚å®šåˆ¶æ’åºå¦‚æœéœ€è¦å®ç°å®šåˆ¶æ’åºï¼Œéœ€è¦åœ¨åˆ›å»º TreeSet é›†åˆå¯¹è±¡æ—¶ï¼Œæä¾›ä¸€ä¸ª Comparator å¯¹è±¡ä¸è¯¥ TreeSet é›†åˆå…³è”ã€‚Comparator æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨ Lambda è¡¨è¾¾å¼ä»£æ›¿ã€‚é€šè¿‡å®šåˆ¶æ’åºæ–¹å¼æ—¶ï¼Œä¾ç„¶ä¸å¯ä»¥å‘ TreeSet ä¸­æ·»åŠ ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œå¦åˆ™å¼•å‘ ClassCastException å¼‚å¸¸ã€‚æ­¤æ—¶é›†åˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šé€šè¿‡ Comparator æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ è¿”å›äº† 0ï¼Œ è¿™æ · TreeSet ä¹Ÿä¸ä¼šæŠŠç¬¬äºŒä¸ªå…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ã€‚import java.util.TreeSet; public class TreeSettest4 { public static void main(String[] args) { TreeSet ts = new TreeSet((o1, o2) -> { M m1 = (M) o1; M m2 = (M) o2; return m1.age > m2.age ? -1 : m1.age &lt; m2.age ? 1: 0; }); ts.add(new M(5)); ts.add(new M(-3)); ts.add(new M(9)); System.out.println(ts); } }ä¸Šé¢ä½¿ç”¨ç›®æ ‡ç±»å‹ä¸º Comparator çš„ Lambda è¡¨è¾¾å¼ï¼Œå®ƒè´Ÿè´£ ts é›†åˆçš„æ’åºã€‚æ‰€æœ‰ M ç±»æ— éœ€å®ç° Comparable æ¥å£ï¼Œè€Œæ˜¯ç”± TreeSet å…³è”çš„ Lambda è¡¨è¾¾å¼è´Ÿè´£å…ƒç´ çš„æ’åºã€‚åœ¨å®ç° compareTo æ–¹æ³•æ—¶ï¼Œå¼ºçƒˆæ¨èä¸ equals ç»“æœä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ã€‚å› ä¸ºæœ‰äº›ç±»æ˜¯æ ¹æ® equals æ¥åˆ¤æ–­é‡å¤æ€§ï¼Œæœ‰äº›æ˜¯åˆ©ç”¨è‡ªç„¶æ’åº x.compareTo(y) == 0 æ¥åˆ¤æ–­ã€‚compareTo æ˜¯åˆ¤æ–­å…ƒç´ åœ¨æ’åºä¸­çš„ä½ç½®æ˜¯å¦ç›¸ç­‰ï¼Œequals æ˜¯åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œæ—¢ç„¶ä¸€ä¸ªå†³å®šæ’åºä½ç½®ï¼Œä¸€ä¸ªå†³å®šç›¸ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éå¸¸æœ‰å¿…è¦ç¡®ä¿å½“æ’åºä½ç½®ç›¸åŒæ—¶ï¼Œå…¶equalsä¹Ÿåº”è¯¥ç›¸ç­‰ã€‚EnumSet ç±»EnumSet æ˜¯ä¸“ä¸ºæšä¸¾ç±»è®¾è®¡çš„é›†åˆç±»ï¼ŒEnumSet ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»æ˜¯æŒ‡å®šæšä¸¾ç±»å‹çš„æšä¸¾ç±»ï¼Œè¯¥æšä¸¾ç±»å‹åœ¨åˆ›å»º EnumSet æ—¶æ˜¾å¼æˆ–éšå¼çš„çš„æŒ‡å®šã€‚EnumSet çš„é›†åˆå…ƒç´ æ˜¯æœ‰åºçš„ï¼Œä»¥æšä¸¾å€¼åœ¨ Enum ç±»å†…çš„å®šä¹‰é¡ºåºæ¥å†³å®šé›†åˆå…ƒç´ çš„é¡ºåºã€‚EnumSet é›†åˆä¸å…è®¸æ’å…¥ null å…ƒç´ ã€‚EnumSet å†…éƒ¨ä»¥ä½å‘é‡çš„å½¢å¼å­˜å‚¨ï¼Œè¿™ç§å­˜å‚¨å½¢å¼ç´§å‡‘é«˜æ•ˆï¼Œå ç”¨å†…å­˜å¾ˆå°ï¼Œè¿è¡Œæ•ˆç‡å¾ˆé«˜ã€‚å°¤å…¶æ˜¯åœ¨è¿›è¡Œæ‰¹é‡æ“ä½œæ—¶ï¼Œæ¯”å¦‚è°ƒç”¨ containsAll å’Œ retainAll æ–¹æ³•æ—¶ã€‚Map é›†åˆå®šä¹‰ï¼šMap ç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼Œkey å’Œ value ä¹‹é—´å­˜åœ¨å•å‘çš„ä¸€å¯¹ä¸€å…³ç³»ï¼Œkey ä¸å…è®¸é‡å¤ã€‚Set ä¸ Map ä¹‹é—´å…³ç³»éå¸¸å¯†åˆ‡ï¼Œå¦‚æœæŠŠ key-value å¯¹ä¸­çš„ value å½“æˆ key çš„é™„åº¸ï¼Œkey åœ¨å“ªé‡Œï¼Œvalue å°±åœ¨å“ªé‡Œã€‚è¿™æ ·å°±å¯ä»¥åƒå¯¹å¾… Set ä¸€æ ·å¯¹å¾… Map äº†ã€‚å®é™…ä¸Šï¼ŒMap æä¾›äº†ä¸€ä¸ª Entry å†…éƒ¨ç±»æ¥å°è£… key-value å¯¹ï¼Œè€Œè®¡ç®— Entry å­˜å‚¨æ—¶åˆ™åªè€ƒè™‘ Entry å°è£…çš„ keyã€‚ä»æºç æ¥çœ‹ï¼ŒJava æ˜¯å…ˆå®ç°äº† Mapï¼Œç„¶åé€šè¿‡åŒ…è£…ä¸€ä¸ªæ‰€æœ‰ value éƒ½ä¸º null çš„ Map å°±å®ç°äº† Set é›†åˆã€‚HashMap å®ç°ç±»HashMap ä¸­ç”¨ä½œ key çš„å¯¹è±¡å¿…é¡»å®ç° hashCode() æ–¹æ³•å’Œ equals() æ–¹æ³•ã€‚HashMap åˆ¤æ–­ä¸¤ä¸ª key ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ª key é€šè¿‡ equals() æ–¹æ³•æ¯”è¾ƒè¿”å› trueï¼Œä¸¤ä¸ª key çš„ hashCode å€¼ä¹Ÿç›¸ç­‰ã€‚HashMap åˆ¤æ–­ä¸¤ä¸ª value ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals() æ–¹æ³•è¿”å› true å³å¯ã€‚ä¸ HashSet ç±»ä¼¼ï¼Œå½“ä½¿ç”¨è‡ªå®šä¹‰ç±»ä½œä¸º HashMap çš„ key æ—¶ï¼Œå¦‚æœé‡å†™è¯¥ç±»çš„ equals() æ–¹æ³• å’Œ hashCode() æ–¹æ³•ï¼Œåˆ™åº”è¯¥ä¿è¯ä¸¤ä¸ªæ–¹æ³•çš„åˆ¤æ–­æ ‡å‡†ä¸€è‡´ï¼Œå³å½“ä¸¤ä¸ª key é€šè¿‡ equals() æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œä¸¤ä¸ª key çš„ hashCode() æ–¹æ³•è¿”å›å€¼ä¹Ÿåº”è¯¥ç›¸åŒã€‚ä¸ HashSet ç±»ä¼¼ï¼Œå°½é‡ä¸è¦ä½¿ç”¨å¯å˜å¯¹è±¡ä½œä¸º HashMap çš„ keyï¼Œå¦‚æœä½¿ç”¨äº†ï¼Œåˆ™å°½é‡ä¸è¦åœ¨ç¨‹åºä¸­ä¿®æ”¹ä½œä¸º key çš„å¯å˜å¯¹è±¡ã€‚LinkedHashMap å®ç°ç±»LinkedHashMap ä¹Ÿä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤ key-value å¯¹çš„æ¬¡åºï¼ˆå…¶å®åªéœ€è¦è€ƒè™‘ key çš„æ¬¡åºï¼‰ï¼Œè¯¥é“¾è¡¨è´Ÿè´£ç»´æŠ¤ Map çš„è¿­ä»£é¡ºåºï¼Œè¿­ä»£é¡ºåºä¸ key-value å¯¹çš„æ’å…¥é¡ºåºä¿æŒä¸€è‡´ã€‚import java.util.LinkedHashMap; public class LinkedHashMapTest { public static void main(String[] args) { LinkedHashMap scores = new LinkedHashMap(); scores.put(\"Chinses\", 80); scores.put(\"English\", 82); scores.put(\"Math\", 76); scores.forEach((key ,value) -> System.out.println(key + \"--->\" + value)); } }TreeMap å®ç°ç±»TreeMap æ˜¯ä¸€ä¸ªçº¢é»‘æ ‘æ•°æ®ç»“æ„ï¼Œæ¯ä¸ª key-value å¯¹å³ä½œä¸ºçº¢é»‘æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚TreeMap å­˜å‚¨ key-value å¯¹èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ ¹æ® key å¯¹èŠ‚ç‚¹è¿›è¡Œæ’åºã€‚TreeMap å¯ä»¥ä¿è¯æ‰€æœ‰çš„ key-value å¯¹å¤„äºæœ‰åºçŠ¶æ€ã€‚ä¸¤ç§æ’åºæ–¹å¼ï¼šè‡ªç„¶æ’åºï¼šTreeMap çš„æ‰€æœ‰ key å¿…é¡»å®ç° Comparable æ¥å£ï¼Œè€Œä¸”æ‰€æœ‰çš„ key åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¦åˆ™ä¼šæŠ›å‡º ClassCastException å¼‚å¸¸å®šåˆ¶æ’åºï¼šåˆ›å»º TreeMap æ—¶ï¼Œä¼ å…¥ä¸€ä¸ª Comparator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹ TreeMap ä¸­çš„æ‰€æœ‰ key è¿›è¡Œæ’åºã€‚é‡‡ç”¨å®šåˆ¶æ’åºæ—¶ä¸è¦æ±‚ Map çš„ key å®ç° Comparable æ¥å£TreeMap åˆ¤æ–­ä¸¤ä¸ª key ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ª key é€šè¿‡ compareTo æ–¹æ³•è¿”å› 0ã€‚ç±»ä¼¼äº TreeSetï¼Œå¦‚æœä½¿ç”¨è‡ªå®šä¹‰ç±»ä½œä¸º TreeMap çš„ keyï¼Œä¸ºäº†è®© TreeMap è‰¯å¥½çš„å·¥ä½œï¼Œåˆ™é‡å†™è¯¥ç±»çš„ equals() æ–¹æ³•å’Œ compareTo() æ–¹æ³•æ—¶åº”è¯¥ä¿æŒä¸€è‡´çš„ç»“æœï¼šä¸¤ä¸ª key é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œå®ƒä»¬é€šè¿‡ compareTo æ–¹æ³•æ¯”è¾ƒåº”è¯¥è¿”å› 0ã€‚åœ¨å®ç° compareTo æ–¹æ³•æ—¶ï¼Œå¼ºçƒˆæ¨èä¸ equals ç»“æœä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ã€‚å› ä¸ºæœ‰äº›ç±»æ˜¯æ ¹æ® equals æ¥åˆ¤æ–­é‡å¤æ€§ï¼Œæœ‰äº›æ˜¯åˆ©ç”¨è‡ªç„¶æ’åº x.compareTo(y) == 0 æ¥åˆ¤æ–­ã€‚compareTo æ˜¯åˆ¤æ–­å…ƒç´ åœ¨æ’åºä¸­çš„ä½ç½®æ˜¯å¦ç›¸ç­‰ï¼Œequals æ˜¯åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œæ—¢ç„¶ä¸€ä¸ªå†³å®šæ’åºä½ç½®ï¼Œä¸€ä¸ªå†³å®šç›¸ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éå¸¸æœ‰å¿…è¦ç¡®ä¿å½“æ’åºä½ç½®ç›¸åŒæ—¶ï¼Œå…¶equalsä¹Ÿåº”è¯¥ç›¸ç­‰ã€‚å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ï¼šVirtually all Java core classes that implement Comparable have natural orderings that are consistent with equals.EnumMap å®ç°ç±»EnumMap çš„ key å¿…é¡»æ˜¯å•ä¸ªæšä¸¾ç±»çš„æšä¸¾å€¼ã€‚EnumMap å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼šEnumMap åœ¨å†…éƒ¨ä»¥æ•°ç»„å½¢å¼ä¿å­˜EnumMap æ ¹æ® key çš„è‡ªç„¶é¡ºåºï¼ˆå³æšä¸¾å€¼åœ¨æšä¸¾ç±»ä¸­çš„å®šä¹‰é¡ºåºï¼‰æ¥ç»´æŠ¤ key-value å¯¹çš„é¡ºåºEnumMap ä¸èƒ½ä½¿ç”¨ null ä½œä¸º key å€¼åˆ›å»º EnumMap æ—¶å¿…é¡»æŒ‡å®šä¸€ä¸ªæšä¸¾ç±»ï¼Œä»è€Œå°†è¯¥ EnumMap å’ŒæŒ‡å®šæšä¸¾ç±»ç›¸å…³è”ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-å¼‚å¸¸","slug":"Java/åŸºç¡€/å¼‚å¸¸","date":"2020-04-02T03:18:57.000Z","updated":"2020-04-17T07:27:27.588Z","comments":true,"path":"2020/04/02/java/ji-chu/yi-chang/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/yi-chang/","excerpt":"","text":"å¼‚å¸¸å±‚æ¬¡Errorï¼šJava è¿è¡Œæ—¶ç³»ç»Ÿçš„å†…éƒ¨é”™è¯¯å’Œèµ„æºè€—å°½é”™è¯¯ã€‚åº”ç”¨ç¨‹åºä¸åº”è¯¥æŠ›å‡ºè¿™ç§ç±»å‹çš„å¯¹è±¡ã€‚å¦‚æœå‡ºç°äº†è¿™æ ·çš„å†…éƒ¨é”™è¯¯ï¼Œé™¤äº†é€šå‘Šç»™ç”¨æˆ·ï¼Œå¹¶å°½åŠ›ä½¿ç¨‹åºå®‰å…¨åœ°ç»ˆæ­¢ä¹‹å¤–ï¼Œå†ä¹Ÿæ— èƒ½ä¸ºåŠ›äº†ã€‚ExceptionRuntimeExceptionï¼šç”±ç¨‹åºé”™è¯¯å¯¼è‡´çš„å¼‚å¸¸å…¶ä»–å¼‚å¸¸ï¼šç¨‹åºæœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œä½†ç”±ç±»ä¼¼ IO é”™è¯¯å¯¼è‡´çš„å¼‚å¸¸Checked å¼‚å¸¸ &amp; Runtime å¼‚å¸¸Checked å¼‚å¸¸ï¼šä¸æ˜¯ RuntimeException ç±»åŠå…¶å­ç±»çš„å¼‚å¸¸å®ä¾‹Runtime å¼‚å¸¸ï¼šæ‰€æœ‰ RuntimeException ç±»åŠå…¶å­ç±»çš„å¼‚å¸¸å®ä¾‹Java è®¤ä¸º Checked å¼‚å¸¸éƒ½æ˜¯å¯ä»¥è¢«å¤„ç†ä¿®å¤çš„å¼‚å¸¸ï¼Œæ‰€ä»¥ç¨‹åºå¿…é¡»æ˜¾ç¤ºå¤„ç† Checked å¼‚å¸¸ï¼Œå¦‚æœç¨‹åºæ²¡æœ‰å¤„ç† Checked å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶ä¼šå‡ºé”™ã€‚Checked å¼‚å¸¸ä½“ç°äº† Java çš„è®¾è®¡ç†å¿µï¼Œæ²¡æœ‰å®Œå–„é”™è¯¯å¤„ç†çš„ä»£ç æ ¹æœ¬ä¸ä¼šè¢«æ‰§è¡Œã€‚å¯¹ Checked å¼‚å¸¸å¤„ç†æ–¹å¼ï¼šå½“å‰æ–¹æ³•æ˜ç¡®çŸ¥é“å¦‚ä½•å¤„ç†è¯¥å¼‚å¸¸ï¼Œåº”è¯¥ä½¿ç”¨ try-catch å¤„ç†è¯¥å¼‚å¸¸å½“å‰æ–¹æ³•ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¯¥å¼‚å¸¸ï¼Œåº”åœ¨å®šä¹‰è¯¥æ–¹æ³•æ—¶å£°æ˜æŠ›å‡ºè¯¥å¼‚å¸¸å¯¹ Runtime å¼‚å¸¸çš„å¤„ç†æ–¹å¼ï¼šRuntime å¼‚å¸¸æ— éœ€æ˜¾å¼å£°æ˜æŠ›å‡ºï¼Œå¦‚æœç¨‹åºéœ€è¦æ•è· Runtime å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ try-catch å—throws å£°æ˜æŠ›å‡ºå¼‚å¸¸å¦‚æœå½“å‰æ–¹æ³•ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¿™ç§ç±»å‹çš„å¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸åº”è¯¥ç”±ä¸Šä¸€çº§è°ƒç”¨è€…å¤„ç†ï¼Œå¦‚æœä¸Šä¸€çº§è°ƒç”¨è€…ä¹Ÿä¸çŸ¥é“å¦‚ä½•å¤„ç†ï¼Œå†æŠ›å‡ºç›´è‡³äº¤ç”± JVM å¤„ç†ã€‚throws å£°æ˜æŠ›å‡ºåªèƒ½åœ¨æ–¹æ³•å£°æ˜ä¸­ä½¿ç”¨ï¼Œå¯ä»¥å£°æ˜æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ç±»ã€‚ä¸€æ—¦ä½¿ç”¨ throws è¯­å¥å£°æ˜æŠ›å‡ºè¯¥å¼‚å¸¸ï¼Œç¨‹åºå°±æ— éœ€ä½¿ç”¨ try-catch æ¥æ•è·å¼‚å¸¸äº†ã€‚ç¤ºä¾‹ï¼šä¸‹é¢ç¨‹åºå£°æ˜ä¸å¤„ç† IOException å¼‚å¸¸ï¼Œè€Œæ˜¯å°†è¯¥å¼‚å¸¸äº¤ç”± JVM å¤„ç†import java.io.FileInputStream; import java.io.IOException; public class ThrowsTest { public void main(String[] args) throws IOException { FileInputStream fis = new FileInputStream(\"a.txt\"); } }å¦‚æœæŸæ®µä»£ç ä¸­è°ƒç”¨äº†ä¸€ä¸ªå¸¦ throws å£°æ˜çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å£°æ˜æŠ›å‡ºäº† Checked å¼‚å¸¸ï¼Œåˆ™è¡¨æ˜è¯¥æ–¹æ³•å¸Œæœ›å®ƒçš„è°ƒç”¨è€…æ¥å¤„ç†è¯¥å¼‚å¸¸ã€‚é‚£ä¹ˆè°ƒç”¨è€…åœ¨è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œè¦ä¹ˆå°†å…¶æ”¾å…¥ try å—ä¸­å¹¶æ˜¾ç¤ºæ•è·è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆæ”¾åœ¨å¦ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼šimport java.io.FileInputStream; import java.io.IOException; public class ThrowsTest2 { public static void test() throws IOException { /* å› ä¸º FileInputStream çš„æ„é€ å™¨å£°æ˜æŠ›å‡º IOException å¼‚å¸¸ æ‰€ä»¥è°ƒç”¨ test() æ–¹æ³• çš„ä»£ç è¦ä¹ˆå¤„äº try-catch å—ä¸­ è¦ä¹ˆå¤„äºå¦ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ */ FileInputStream fis = new FileInputStream(\"a.txt\"); } public static void main(String[] args) throws Exception { /* å› ä¸º test() æ–¹æ³•å£°æ˜æŠ›å‡º IOException å¼‚å¸¸ æ‰€ä»¥è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç è¦ä¹ˆå¤„äº try-catch å—ä¸­ è¦ä¹ˆå¤„äºå¦ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ */ test(); } }ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ throwå¦‚æœ throw è¯­å¥æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ Checked å¼‚å¸¸ï¼Œåˆ™è¯¥ throw è¯­å¥è¦ä¹ˆå¤„äº try å—é‡Œï¼Œæ˜¾å¼æ•è·è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆæ”¾åœ¨ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ï¼›å¦‚æœ throw è¯­å¥æŠ›å‡ºçš„æ˜¯ Runtime å¼‚å¸¸ï¼Œåˆ™æ— éœ€æ”¾åœ¨ try å—é‡Œï¼Œä¹Ÿæ— éœ€æ”¾åœ¨å¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ï¼Œæ—¢å¯ä»¥æ˜¾å¼çš„ç”¨ try-catch æ¥æ•è·å¹¶å¤„ç†å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥å®Œå…¨ä¸ç†ä¼šè¯¥å¼‚å¸¸ï¼ŒæŠŠè¯¥å¼‚å¸¸äº¤ç»™è¯¥æ–¹æ³•è°ƒç”¨è€…å¤„ç†ã€‚import java.io.IOException; public class ThrowTest3 { public static void throwChecked(int a) throws Exception { if (a > 0) { // è‡ªè¡ŒæŠ›å‡º Exception å¼‚å¸¸ // è¯¥ä»£ç å¿…é¡»å¤„äº try å—é‡Œï¼Œæˆ–å¤„äºå¸¦ throws å£°æ˜çš„æ–¹æ³•ä¸­ throw new Exception(\"açš„å€¼å¤§äº0ï¼Œä¸ç¬¦åˆè¦æ±‚\"); } } public static void throwRuntime(int a) { if (a > 0) { // è‡ªè¡ŒæŠ›å‡º RuntimeException å¼‚å¸¸ // æ—¢å¯ä»¥æ•è·è¯¥å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥å®Œå…¨ä¸ç†ä¼šè¯¥å¼‚å¸¸ï¼ŒæŠŠå¼‚å¸¸äº¤ç»™æ–¹æ³•è°ƒç”¨è€…å¤„ç† throw new RuntimeException(\"açš„å€¼å¤§äº0ï¼Œä¸ç¬¦åˆè¦æ±‚\"); } } public static void main(String[] args) { try { // è°ƒç”¨å£°æ˜æŠ›å‡º Checked å¼‚å¸¸çš„æ–¹æ³•ï¼Œè¦ä¹ˆæ˜¾å¼åœ¨ try-catch ä¸­æ•è·è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆåœ¨ main æ–¹æ³•ä¸­å†æ¬¡å£°æ˜æŠ›å‡º throwChecked(3); } catch (Exception e) { System.out.print(e.getMessage()); } // è°ƒç”¨å£°æ˜æŠ›å‡º Runtime å¼‚å¸¸çš„æ–¹æ³•æ—¢å¯ä»¥æ˜¾å¼æ•è·è¯¥å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥ä¸ç†ä¼šè¯¥å¼‚å¸¸ throwRuntime(3); } }è‡ªå®šä¹‰å¼‚å¸¸ç±»public class AuctionException extends Exception { // æ— å‚æ„é€ å™¨ public AuctionException() {} // å¸¦ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°çš„æ„é€ å™¨ public AuctionException(String msg) { super(msg); } }å¼‚å¸¸é“¾å°†åŸå§‹ä¿¡æ¯éšè—èµ·æ¥ï¼Œä»…å‘ä¸Šæä¾›å¿…è¦çš„å¼‚å¸¸æç¤ºä¿¡æ¯çš„å¤„ç†æ–¹å¼ï¼Œå¯ä»¥ä¿è¯åº•å±‚å¼‚å¸¸ä¸ä¼šæ‰©æ•£åˆ°è¡¨ç°å±‚ï¼Œé¿å…å‘ä¸Šæš´éœ²å¤ªå¤šçš„ç»†èŠ‚ï¼Œç¬¦åˆé¢å‘å¯¹è±¡çš„å°è£…åŸåˆ™ã€‚public calSal() throws SalException { try { // å®ç°ç»“ç®—å·¥èµ„çš„ä¸šåŠ¡é€»è¾‘ ... } catch (SQLException sqle) { // å°†åŸå§‹å¼‚å¸¸è®°å½•ä¸‹æ¥ï¼Œç•™ç»™ç®¡ç†å‘˜ ... // ä¸‹é¢å¼‚å¸¸ä¸­çš„ message å°±æ˜¯ç»™ç”¨æˆ·çš„æç¤º throw new SalException(\"è®¿é—®æ•°æ®åº“å¼‚å¸¸â€œ); } catch (Exception e) { // å°†åŸå§‹å¼‚å¸¸è®°å½•ä¸‹æ¥ï¼Œç•™ç»™ç®¡ç†å‘˜ ... // ä¸‹é¢å¼‚å¸¸ä¸­çš„ message å°±æ˜¯ç»™ç”¨æˆ·çš„æç¤º throw new SalException(\"ç³»ç»Ÿå‡ºç°æœªçŸ¥å¼‚å¸¸â€œ); } }","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-åŒ¿åå†…éƒ¨ç±»","slug":"Java/åŸºç¡€/åŒ¿åå†…éƒ¨ç±»","date":"2020-04-02T02:45:15.000Z","updated":"2020-04-02T02:46:33.952Z","comments":true,"path":"2020/04/02/java/ji-chu/ni-ming-nei-bu-lei/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/ni-ming-nei-bu-lei/","excerpt":"","text":"åŒ¿åå†…éƒ¨ç±»é€‚åˆåˆ›å»ºåªéœ€è¦ä¸€æ¬¡ä½¿ç”¨çš„ç±»ï¼Œåˆ›å»ºåŒ¿åå†…éƒ¨ç±»æ—¶ä¼šç«‹å³åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ï¼Œè¿™ä¸ªç±»å®šä¹‰ç«‹å³æ¶ˆå¤±ï¼ŒåŒ¿åç±»ä¸èƒ½é‡å¤ä½¿ç”¨ã€‚åŒ¿åç±»æ˜¯ç”¨æ¥åˆ›å»ºæ¥å£æˆ–è€…æŠ½è±¡ç±»çš„å®ä¾‹çš„ã€‚åŒ¿åå†…éƒ¨ç±»ä¸èƒ½å®šä¹‰æ„é€ å™¨ã€‚å› ä¸ºåŒ¿åå†…éƒ¨ç±»æ²¡æœ‰ç±»åï¼Œæ‰€æœ‰æ— æ³•å®šä¹‰æ„é€ å™¨ã€‚ä½†åŒ¿åå†…éƒ¨ç±»å¯ä»¥å®šä¹‰åˆå§‹åŒ–å—ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹åˆå§‹åŒ–å—æ¥å®Œæˆæ„é€ å™¨éœ€è¦å®Œæˆçš„äº‹æƒ…ã€‚å®šä¹‰åŒ¿åå†…éƒ¨ç±»æ ¼å¼å¦‚ä¸‹ï¼šnew å®ç°æ¥å£ | æŠ½è±¡çˆ¶ç±»æ„é€ å™¨(å®å‚åˆ—è¡¨) { åŒ¿åå†…éƒ¨ç±»çš„ç±»ä½“éƒ¨åˆ† }æœ€å¸¸ç”¨çš„åˆ›å»ºåŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼æ˜¯éœ€è¦åˆ›å»ºæŸä¸ªæ¥å£ç±»å‹çš„å¯¹è±¡ï¼Œå¦‚ä¸‹public interface ProductA { public double getPrice(); public String getName(); }public class AnonymousTest { public void test(ProductA p) { System.out.println(\"Buy a\" + p.getName() + \"Cost \" + p.getPrice()); } public static void main(String[] args) { AnonymousTest ta = new AnonymousTest(); // è°ƒç”¨ test() æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ª Product å‚æ•° // æ­¤å¤„ä¼ å…¥å…¶åŒ¿åå®ç°ç±»çš„å®ä¾‹ ta.test(new ProductA() { @Override public double getPrice() { return 567.8; } @Override public String getName() { return \"APG Card\"; } }); } }é€šè¿‡ç»§æ‰¿æŠ½è±¡çˆ¶ç±»æ¥åˆ›å»ºåŒ¿åå†…éƒ¨ç±»æ—¶ï¼ŒåŒ¿åå†…éƒ¨ç±»å°†æ‹¥æœ‰å’Œçˆ¶ç±»ç›¸åŒå½¢å‚åˆ—è¡¨çš„æ„é€ å™¨ã€‚çœ‹ä¸‹é¢ä¸€æ®µä»£ç public abstract class Device { private String name; public abstract double getPrice(); public Device() {}; public Device(String name) { this.name = name; } public String getName() { return this.name; } public void setName(String name) { this.name = name; } }public class AnonymousInner { public void test(Device d) { System.out.println(\"Buy a\" + d.getName()+ \"Cost\" + d.getPrice()); } public static void main(String[] args) { AnonymousInner ai = new AnonymousInner(); // è°ƒç”¨æœ‰å‚æ•°çš„æ„é€ å™¨åˆ›å»º Device åŒ¿åå®ç°ç±»çš„å¯¹è±¡ ai.test(new Device(\"ç”µå­æ˜¾ç¤ºå™¨\") { @Override public double getPrice() { return 67.8; } }); // è°ƒç”¨æ— å‚æ•°çš„æ„é€ å™¨åˆ›å»º Device åŒ¿åå®ç°ç±»çš„å¯¹è±¡ Device d = new Device() { // åˆå§‹åŒ–å— { System.out.println(\"åŒ¿åå†…éƒ¨ç±»çš„åˆå§‹åŒ–å—\"); } // å®ç°æŠ½è±¡æ–¹æ³• @Override public double getPrice() { return 56.2; } // é‡å†™çˆ¶ç±»çš„å®ä¾‹æ–¹æ³• public String getName() { return \"keyboard\"; } }; ai.test(d); } }","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-å†…éƒ¨ç±»","slug":"Java/åŸºç¡€/å†…éƒ¨ç±»","date":"2020-04-02T02:40:00.000Z","updated":"2020-04-02T02:45:06.182Z","comments":true,"path":"2020/04/02/java/ji-chu/nei-bu-lei/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/nei-bu-lei/","excerpt":"","text":"éé™æ€å†…éƒ¨ç±»public class Cow { private double weight; public Cow() { } public Cow(double weight) { this.weight = weight; } // å®šä¹‰ä¸€ä¸ªéé™æ€å†…éƒ¨ç±» private class CowLeg { private double length; private String color; public CowLeg() {} public CowLeg(double length, String color) { this.length = length; this.color = color; } public double getLength() { return this.length; } public void setLength(double length) { this.length = length; } public String getColor() { return this.color; } public void setColor(String color) { this.color = color; } public void info() { System.out.println(\"å½“å‰ç‰›è…¿çš„é¢œè‰²æ˜¯ \" + this.color + \", é•¿ \" + this.length); // ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„ private ä¿®é¥°çš„æˆå‘˜å˜é‡ System.out.println(\"è¯¥ç‰›è…¿æ‰€å±çš„å¥¶ç‰›é‡: \" + weight); } } public void test() { CowLeg cl = new CowLeg(1.12, \"é»‘ç™½ç›¸é—´\"); cl.info(); } public static void main(String[] args) { Cow cow = new Cow(378.9); cow.test(); } }åœ¨éé™æ€å†…éƒ¨ç±»é‡Œå¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„ private æˆå‘˜ï¼Œè¿™æ˜¯å› ä¸ºåœ¨éé™æ€å†…éƒ¨ç±»å¯¹è±¡é‡Œï¼Œä¿å­˜äº†ä¸€ä¸ªå®ƒæ‰€å¯„ç”Ÿçš„å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ã€‚å¦‚ä¸‹å›¾ï¼šå¦‚æœå¤–éƒ¨ç±»æˆå‘˜å˜é‡ã€å†…éƒ¨ç±»æˆå‘˜å˜é‡ä¸å†…éƒ¨ç±»é‡Œæ–¹æ³•çš„å±€éƒ¨å˜é‡ååŒåç›´æ¥è®¿é—®å±€éƒ¨å˜é‡thisï¼Œè®¿é—®å†…éƒ¨ç±»å®ä¾‹çš„å˜é‡å¤–éƒ¨ç±»ç±»å.this.varName è®¿é—®å¤–éƒ¨ç±»å®ä¾‹å˜é‡å¤–éƒ¨ç±»ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œæ— è®ºéé™æ€å†…éƒ¨ç±»çš„æˆå‘˜æ˜¯ä»€ä¹ˆä¿®é¥°ç¬¦ä¿®é¥°çš„ã€‚åªèƒ½æ˜¾ç¤ºåˆ›å»ºéé™æ€å†…éƒ¨ç±»å¯¹è±¡æ¥è®¿é—®å…¶å®ä¾‹æˆå‘˜ã€‚é™æ€å†…éƒ¨ç±»å¦‚æœç”¨ static ä¿®é¥°ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œåˆ™è¿™ä¸ªå†…éƒ¨ç±»å°±å±äºå¤–éƒ¨ç±»æœ¬èº«ï¼Œè€Œä¸å±äºå¤–éƒ¨ç±»çš„æŸä¸ªå¯¹è±¡ã€‚å› æ­¤ä¹Ÿå«åšç±»å†…éƒ¨ç±»ã€‚å³é™æ€å†…éƒ¨ç±»æ˜¯å¤–éƒ¨ç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜ã€‚é™æ€å†…éƒ¨ç±»å¯ä»¥åŒ…å«é™æ€æˆå‘˜ï¼Œä¹Ÿå¯ä»¥åŒ…å«éé™æ€æˆå‘˜ã€‚é™æ€å†…éƒ¨ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼Œåªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„ç±»æˆå‘˜ã€‚å¤–éƒ¨ç±»ä¾ç„¶ä¸èƒ½ç›´æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œä½†å¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»çš„ç±»åä½œä¸ºè°ƒç”¨è€…æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„ç±»æˆå‘˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»å¯¹è±¡ä½œä¸ºè°ƒç”¨è€…æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ã€‚åœ¨å¤–éƒ¨ç±»ä»¥å¤–çš„åœ°æ–¹è®¿é—®å†…éƒ¨ç±»ï¼ˆåŒ…æ‹¬é™æ€å’Œéé™æ€ä¸¤ç§ï¼‰ï¼Œåˆ™å†…éƒ¨ç±»ä¸èƒ½ä½¿ç”¨ private ä¿®é¥°ï¼Œprivate ä¿®é¥°çš„å†…éƒ¨ç±»åªèƒ½åœ¨å¤–éƒ¨ç±»å†…éƒ¨ä½¿ç”¨ã€‚å¯¹äºä½¿ç”¨å…¶ä»–è®¿é—®ä¿®é¥°ç¬¦çš„å†…éƒ¨ç±»ï¼ŒæŒ‰ç…§è®¿é—®ä¿®é¥°ç¬¦èŒƒå›´è®¿é—®ã€‚åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨éé™æ€å†…éƒ¨ç±»ç”±äºéé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡å¿…é¡»å¯„ç”Ÿåœ¨å¤–éƒ¨ç±»çš„å¯¹è±¡é‡Œï¼Œå› æ­¤åœ¨åˆ›å»ºéé™æ€å†…éƒ¨ç±»å¯¹è±¡ä¹‹å‰ï¼Œå¿…é¡»å…ˆåˆ›å»ºå…¶å¤–éƒ¨ç±»å¯¹è±¡ã€‚ç¤ºä¾‹ä»£ç ï¼Œå¦‚ä¸‹ï¼špublic class Out { // ä½¿ç”¨é»˜è®¤è®¿é—®æ§åˆ¶ç¬¦ï¼ŒåŒä¸€ä¸ªåŒ…ä¸­çš„å…¶ä»–ç±»å¯ä»¥è®¿é—®è¯¥å†…éƒ¨ç±» class In { public In(String msg) { System.out.println(msg); } } }public class CreateInnerInstance { public static void main(String[] args) { Out.In in = new Out().new In(\"Test Msg\"); /* ä¸Šé¢ä»£ç å¯ä»¥æ”¹ä¸ºå¦‚ä¸‹ä¸‰è¡Œä»£ç  ä½¿ç”¨ OutterClass.InnerClass çš„å½¢å¼å®šä¹‰å†…éƒ¨ç±»å˜é‡ Out.In in; åˆ›å»ºå¤–éƒ¨ç±»å®ä¾‹ï¼Œéé™æ€å†…éƒ¨ç±»å®ä¾‹å°†å¯„ç”Ÿåœ¨è¯¥å®ä¾‹ä¸­ Out out = new Out(); é€šè¿‡å¤–éƒ¨ç±»å®ä¾‹å’Œnewæ¥è°ƒç”¨å†…éƒ¨ç±»æ„é€ å™¨åˆ›å»ºéé™æ€å†…éƒ¨ç±»å®ä¾‹ in = out.new In(\"Test Msg\"); */ } }ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªå­ç±»ç»§æ‰¿äº† Out ç±»çš„éé™æ€å†…éƒ¨ç±» In ç±»public class SubClass extends Out.In{ // æ˜¾ç¤ºå®šä¹‰ SubClass çš„æ„é€ å™¨ public SubClass(Out out){ out.super(\"hello\"); } }ä¸Šé¢çš„ä»£ç å¯èƒ½çœ‹èµ·æ¥å¾ˆæ€ªï¼Œå…¶å®å¾ˆæ­£å¸¸ï¼šéé™æ€å†…éƒ¨ç±» In ç±»çš„æ„é€ å™¨å¿…é¡»ä½¿ç”¨å¤–éƒ¨ç±»å¯¹è±¡æ¥è°ƒç”¨ï¼Œä»£ç ä¸­ super ä»£è¡¨è°ƒç”¨ In ç±»çš„æ„é€ å™¨ï¼Œè€Œ out åˆ™ä»£è¡¨å¤–éƒ¨ç±»å¯¹è±¡ã€‚å¦‚æœéœ€è¦åˆ›å»º SubClass å¯¹è±¡æ—¶ï¼Œå¿…é¡»åˆ›å»ºä¸€ä¸ª Out å¯¹è±¡ã€‚å› ä¸º SubClass æ˜¯éé™æ€å†…éƒ¨ç±» In çš„å­ç±»ï¼Œéé™æ€å†…éƒ¨ç±» In å¯¹è±¡é‡Œå¿…é¡»æœ‰ä¸€ä¸ªå¯¹ Out å¯¹è±¡çš„å¼•ç”¨ï¼Œå…¶å­ç±» SubClass å¯¹è±¡é‡Œä¹Ÿåº”è¯¥æŒæœ‰å¯¹ Out å¯¹è±¡çš„å¼•ç”¨ã€‚å½“åˆ›å»º SubClass å¯¹è±¡æ—¶ä¼ ç»™è¯¥æ„é€ å™¨çš„ Out å¯¹è±¡ï¼Œå°±æ˜¯ SubClass å¯¹è±¡é‡Œ Out å¯¹åº”å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚ç»“åˆä¸Šé¢ä¸¤æ®µä»£ç ï¼Œéé™æ€å†…éƒ¨ç±» In å¯¹è±¡å’Œ SubClass å¯¹è±¡éƒ½å¿…é¡»æŒæœ‰æŒ‡å‘ Outer å¯¹è±¡çš„å¼•ç”¨ï¼ŒåŒºåˆ«æ˜¯åˆ›å»ºä¸¤ç§å¯¹è±¡æ—¶ä¼ å…¥ Out å¯¹è±¡çš„æ–¹å¼ä¸åŒï¼šå½“åˆ›å»ºéé™æ€å†…éƒ¨ç±» In ç±»çš„å¯¹è±¡æ—¶ï¼Œå¿…é¡»é€šè¿‡ Outer å¯¹è±¡æ¥è°ƒç”¨ new å…³é”®å­—ï¼›å½“åˆ›å»º SubClass ç±»çš„å¯¹è±¡æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ Outer å¯¹è±¡ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ In ç±»çš„æ„é€ å™¨åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨é™æ€å†…éƒ¨ç±»å› ä¸ºé™æ€å†…éƒ¨ç±»æ˜¯å¤–éƒ¨ç±»ç±»ç›¸å…³çš„ï¼Œå› æ­¤åˆ›å»ºé™æ€å†…éƒ¨ç±»å¯¹è±¡æ—¶æ— éœ€åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡ã€‚public class CreateStaticInnerInstance { public static void main(String[] args) { StaticOut.StaticIn in = new StaticOut.StaticIn(); /* ä¸Šé¢çš„ä»£ç å¯æ”¹ä¸ºå¦‚ä¸‹ä¸¤è¡Œä»£ç  ä½¿ç”¨ OuterClass.InnerClass çš„å½¢å¼å®šä¹‰å†…éƒ¨ç±»å˜é‡ StaticOut.StaticIn in; é€šè¿‡ new è°ƒç”¨å†…éƒ¨ç±»æ„é€ å™¨åˆ›å»ºé™æ€å†…éƒ¨ç±»å®ä¾‹ in = new StaticOut.StaticIn(); */ } }å› ä¸ºè°ƒç”¨é™æ€å†…éƒ¨ç±»çš„æ„é€ å™¨æ—¶ä¸éœ€è¦ä½¿ç”¨å¤–éƒ¨ç±»å¯¹è±¡ï¼Œæ‰€ä»¥åˆ›å»ºé™æ€å†…éƒ¨ç±»çš„å­ç±»ä¹Ÿæ¯”è¾ƒç®€å•ã€‚ä¸‹é¢ä»£ç ä¸ºé™æ€é™æ€å†…éƒ¨ç±» StaticIn å®šä¹‰äº†ä¸€ä¸ªç©ºçš„å­ç±»public class StaticSubClass extends StaticOut.StaticIn {}","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æŠ½è±¡ç±»","slug":"Java/åŸºç¡€/æŠ½è±¡ç±»","date":"2020-04-02T02:31:52.000Z","updated":"2020-04-02T02:54:50.676Z","comments":true,"path":"2020/04/02/java/ji-chu/chou-xiang-lei/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/chou-xiang-lei/","excerpt":"","text":"è®¾è®¡æ€æƒ³æŠ½è±¡ç±»æ˜¯æ¨¡æ¿æ¨¡å¼çš„è®¾è®¡æ¨¡å¼ä½“ç°ã€‚æŠ½è±¡ç±»æ˜¯ä»å¤šä¸ªå…·ä½“ç±»ä¸­æŠ½è±¡å‡ºæ¥çš„çˆ¶ç±»ï¼Œå…·æœ‰æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚ä»å¤šä¸ªå…·æœ‰ç›¸åŒç‰¹å¾çš„ç±»ä¸­æŠ½è±¡å‡ºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä»¥è¿™ä¸ªæŠ½è±¡ç±»ä¸ºå…¶å­ç±»çš„æ¨¡æ¿ï¼Œé¿å…å­ç±»è®¾è®¡çš„éšæ„æ€§ä½¿ç”¨æŠ½è±¡ç±»ä½¿ç”¨ abstract ä¿®é¥°ã€‚æŠ½è±¡ç±»å¯ä»¥å’Œæ™®é€šç±»ä¸€æ ·å¯ä»¥åŒ…å«æˆå‘˜å˜é‡ã€æ–¹æ³•ã€æ„é€ å™¨ã€åˆå§‹åŒ–å—ã€å†…éƒ¨ç±»ã€‚ä½†æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼ŒæŠ½è±¡ç±»çš„æ„é€ å™¨ä¸»è¦ç”¨æ¥è¢«å­ç±»è°ƒç”¨ã€‚æŠ½è±¡ç±»å¯ä»¥ä¸åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»è¢«å®šä¹‰ä¸ºæŠ½è±¡ç±»ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ¥å£","slug":"Java/åŸºç¡€/æ¥å£","date":"2020-04-02T02:27:19.000Z","updated":"2020-04-02T02:39:41.787Z","comments":true,"path":"2020/04/02/java/ji-chu/jie-kou/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/jie-kou/","excerpt":"","text":"è®¾è®¡æ€æƒ³æ¥å£ä½“ç°çš„æ˜¯è§„èŒƒå’Œå®ç°åˆ†ç¦»çš„è®¾è®¡å“²å­¦ï¼Œè®©è½¯ä»¶ç³»ç»Ÿçš„å„ç»„ä»¶ä¹‹é—´é¢å‘æ¥å£è€¦åˆï¼Œæ˜¯ä¸€ç§æ¾è€¦åˆçš„è®¾è®¡ã€‚æ¥å£å®šä¹‰çš„æ˜¯å¤šä¸ªç±»å…±åŒçš„å…¬å…±è¡Œä¸ºè§„èŒƒï¼Œè¿™äº›è¡Œä¸ºæ˜¯ä¸å¤–éƒ¨äº¤æµçš„é€šé“ï¼Œæ„å‘³ç€æ¥å£é€šå¸¸æ˜¯å®šä¹‰ä¸€ç»„å…¬å…±æ–¹æ³•ã€‚å®šä¹‰æ¥å£çš„ä¿®é¥°ç¬¦ï¼Œåªèƒ½æ˜¯ public æˆ–è€… defaultã€‚ç”±äºæ¥å£å®šä¹‰çš„æ˜¯ä¸€ç§è§„èŒƒï¼Œæ‰€ä»¥æ¥å£é‡Œä¸èƒ½åŒ…å«æ„é€ å™¨å’Œåˆå§‹åŒ–å—å®šä¹‰ï¼Œåªèƒ½åŒ…å«é™æ€å¸¸é‡ã€æ–¹æ³•ï¼ˆåªèƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œç±»æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•ï¼‰ä»¥åŠå†…éƒ¨ç±»ã€å†…éƒ¨æ¥å£ã€å†…éƒ¨æšä¸¾ã€‚æ¥å£é‡Œçš„å¸¸é‡åªèƒ½æ˜¯é™æ€å¸¸é‡ï¼Œé»˜è®¤ä½¿ç”¨ public static final ä¿®é¥°ã€‚æ¥å£é‡Œçš„å†…éƒ¨ç±»ã€å†…éƒ¨æ¥å£ã€å†…éƒ¨æšä¸¾ï¼Œé»˜è®¤ä½¿ç”¨ public static ä¿®é¥°ã€‚æ¥å£é‡Œçš„æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰æ–¹æ³•ä½“ï¼Œä½†ç±»æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•å¿…é¡»æœ‰æ–¹æ³•ä½“ã€‚æ–¹æ³•è¯´æ˜æ¥å£ä¸­å®šä¹‰æŠ½è±¡æ–¹æ³•å¯ä»¥çœç•¥ abstract å…³é”®å­—å’Œä¿®é¥°ç¬¦ï¼Œé»˜è®¤ä¿®é¥°ç¬¦ä¸º publicã€‚Java 8 æ–°å¢å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰é»˜è®¤æ–¹æ³•ï¼Œä½¿ç”¨ default ä¿®é¥°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä½¿ç”¨ public ä¿®é¥°é»˜è®¤æ–¹æ³•ã€‚Java 8 æ–°å¢å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰ç§æœ‰æ–¹æ³•ã€‚Java 8 æ–°å¢å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰é™æ€æ–¹æ³•ã€‚é™æ€æ–¹æ³•å¯ä»¥è¢«å®ç°çš„æ¥å£çš„ç±»ç»§æ‰¿ã€‚ä½¿ç”¨ä¸€ä¸ªç±»å¯ä»¥å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚ä¸€ä¸ªç±»å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œè¿™ä¸ªç±»å¿…é¡»é‡å†™æ‰€å®ç°çš„æ¥å£ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚å¦åˆ™ï¼Œè¯¥ç±»å¿…é¡»è¢«å®šä¹‰æˆæŠ½è±¡ç±»ï¼Œä¿ç•™ä»çˆ¶æ¥å£ç»§æ‰¿åˆ°çš„æŠ½è±¡æ–¹æ³•ã€‚æ¥å£ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å¯ä»¥ç”¨äºå£°æ˜å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œè¯¥å˜é‡å¿…é¡»æŒ‡å‘å®ç°è¯¥æ¥å£çš„ç±»çš„å®ä¾‹å¯¹è±¡ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-Object ç±»","slug":"Java/åŸºç¡€/Object-ç±»","date":"2020-04-02T02:04:19.000Z","updated":"2020-04-02T02:26:41.450Z","comments":true,"path":"2020/04/02/java/ji-chu/object-lei/","link":"","permalink":"https://tianny.cc/2020/04/02/java/ji-chu/object-lei/","excerpt":"","text":"Object ç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ã€‚ä¸‹é¢ä»‹ç»å‡ ä¸ª Object ç±»ä¸­å¸¸ç”¨çš„æ–¹æ³•ã€‚toStringtoString ç”¨äºè¾“å‡ºå¯¹è±¡çš„è‡ªæˆ‘æè¿°ä¿¡æ¯ã€‚Object ç±»æä¾›çš„ toString è¿”å›è¯¥å¯¹è±¡å®ç°ç±»çš„ â€œç±»å + @ + hashCodeâ€ã€‚é€šå¸¸éœ€è¦é‡å†™è¯¥æ–¹æ³•ã€‚==å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåªè¦ä¸¤ä¸ªå˜é‡çš„å€¼ç›¸ç­‰ï¼ˆä¸éœ€è¦æ•°æ®ç±»å‹å®Œå…¨ç›¸åŒï¼‰ï¼Œå°±è¿”å› trueã€‚å¯¹äºä¸¤ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåªæœ‰å®ƒä»¬æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ== åˆ¤æ–­æ‰ä¼šè¿”å› trueã€‚equalså¯¹äºå¼•ç”¨å˜é‡ï¼Œåªæœ‰æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ—¶æ‰è¿”å› trueã€‚å½“ä»…éœ€è¦åˆ¤æ–­å€¼ç›¸ç­‰æ—¶ï¼Œä¸€èˆ¬éœ€è¦é‡å†™ equals æ–¹æ³•ã€‚é‡å†™ equals æ–¹æ³•çš„ç¤ºä¾‹ï¼š public boolean equals(Object obj) { if (this == obj) { return true; } if (obj !=null &amp;&amp; obj.getClass() == Person.class) { Person personObj = (Person)obj; if (this.getIdStr().equals(personObj.getIdStr())) { return true; } } return false; }æ³¨æ„ï¼šå¦‚æœequals ä¸º trueï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦é‡å†™ hashcode æ–¹æ³•ï¼Œä»¥ä¿è¯ hashCode() è¿”å›å€¼ç›¸ç­‰ï¼Œè¿™æ˜¯ä¸€ç§çº¦å®šä¿—ç§°çš„è§„èŒƒã€‚å³ equals ä¸º true æ˜¯ hashCode ç›¸ç­‰çš„å……åˆ†éå¿…è¦æ¡ä»¶ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"é¡ºåº å¹¶è¡Œ å¹¶å‘","slug":"Java/å¤šçº¿ç¨‹/é¡ºåº-å¹¶è¡Œ-å¹¶å‘","date":"2020-03-29T05:53:00.000Z","updated":"2020-03-29T05:55:04.494Z","comments":true,"path":"2020/03/29/java/duo-xian-cheng/shun-xu-bing-xing-bing-fa/","link":"","permalink":"https://tianny.cc/2020/03/29/java/duo-xian-cheng/shun-xu-bing-xing-bing-fa/","excerpt":"","text":"","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://tianny.cc/tags/å¤šçº¿ç¨‹/"}]},{"title":"UML å›¾ç¤º","slug":"Java/åŸºç¡€/UML-å›¾ç¤º","date":"2020-03-26T01:23:37.000Z","updated":"2020-03-26T02:00:28.304Z","comments":true,"path":"2020/03/26/java/ji-chu/uml-tu-shi/","link":"","permalink":"https://tianny.cc/2020/03/26/java/ji-chu/uml-tu-shi/","excerpt":"","text":"UML æ˜¯åˆ†æç¨‹åºå’Œç†è§£ç¨‹åºé—´çš„è°ƒç”¨å…³ç³»æ—¶ï¼Œä¸å¯å¤šå¾—çš„åˆ©å™¨ã€‚è¿™é‡Œç®€å•ä»‹ç»å‡ ç§ç¨‹åºå¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„ UML è§†å›¾ï¼Œå¹¶è¾…ä»¥çœŸå®çš„ Java æ¡ˆä¾‹ã€‚ç±»å›¾UML ä¸­çš„ç±»å›¾è¡¨ç¤ºç”¨äºè¡¨ç¤ºç±»ã€æ¥å£ã€å®ä¾‹ä¹‹é—´çš„é™æ€å…³ç³»ã€‚ç±»çš„å±‚æ¬¡å…³ç³»å±•ç¤ºç±»çš„å±‚æ¬¡å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ¥å£ä¸å®ç°å±•ç¤ºæ¥å£ä¸å®ç°ç±»çš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾èšåˆåªè¦åœ¨ä¸€ä¸ªç±»ä¸­æŒæœ‰å¦ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ— è®ºæ˜¯å•ä¸ªè¿˜æ˜¯å¤šä¸ªï¼Œè¿™ç§æŒæœ‰å…³ç³»å°±ç§°ä¹‹ä¸ºèšåˆã€‚å±•ç¤ºèšåˆå…³ç³»ï¼Œå¦‚ä¸‹å›¾å¯è§æ€§ç±»çš„å±æ€§å’Œæ–¹æ³•çš„å¯è§æ€§ï¼ˆè®¿é—®æ§åˆ¶ï¼‰ï¼Œå¦‚ä¸‹å›¾ç±»çš„å…³è”ç±»ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå¦‚ä¸‹å›¾ï¼šæ—¶åºå›¾ç±»å›¾è¡¨ç¤ºçš„é™æ€å…³ç³»ä¸éšæ—¶é—´æµé€è€Œå˜åŒ–ï¼Œè€Œæ—¶åºå›¾æ°å¥½ç›¸åï¼Œéšç€æ—¶é—´æµé€è€Œå‘ç”Ÿå˜åŒ–çš„å…³ç³»ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-å¤šæ€","slug":"Java/åŸºç¡€/å¤šæ€","date":"2020-03-17T04:49:40.000Z","updated":"2020-03-17T05:05:53.257Z","comments":true,"path":"2020/03/17/java/ji-chu/duo-tai/","link":"","permalink":"https://tianny.cc/2020/03/17/java/ji-chu/duo-tai/","excerpt":"","text":"Java å¼•ç”¨å˜é‡æœ‰ä¸¤ä¸ªç±»å‹ã€‚å¦‚æœç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹ä¸ä¸€è‡´ï¼Œå°±å¯èƒ½å‡ºç°å¤šæ€ã€‚ç¼–è¯‘æ—¶ç±»å‹ï¼šç”±å£°æ˜è¯¥å˜é‡æ—¶ä½¿ç”¨çš„ç±»å‹å†³å®šè¿è¡Œæ—¶ç±»å‹ï¼šç”±å®é™…è¿è¡Œæ—¶èµ‹ç»™è¯¥å˜é‡çš„å¯¹è±¡å†³å®šå‘ä¸Šç±»å‹è½¬æ¢ç¤ºä¾‹ä»£ç ï¼špublic class BaseClass { public int book = 6; public void base() { System.out.println(\"çˆ¶ç±»çš„æ™®é€šæ–¹æ³•\"); } public void test() { System.out.println(\"çˆ¶ç±»çš„testæ–¹æ³•\"); } } public class SubClass extends BaseClass { public String book = \"è½»é‡çº§ Java EE\"; public void test() { System.out.println(\"å­ç±»çš„testæ–¹æ³•\"); } public void sub() { System.out.println(\"å­ç±»çš„subæ–¹æ³•\"); } public static void main(String[] args) { BaseClass ploymophicBc = new SubClass(); System.out.println(ploymophicBc.book); ploymophicBc.base(); ploymophicBc.test(); // å› ä¸º ploymophicBc çš„ç¼–è¯‘æ—¶ç±»å‹æ˜¯ BaseClass // BaseClass ç±»æ²¡æœ‰æä¾› sub æ–¹æ³•ï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç ç¼–è¯‘æ—¶ä¼šå‡ºé”™ // ploymophicBc.sub(); } }ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¼•ç”¨å˜é‡ ploymophicBc æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„ç¼–è¯‘æ—¶ç±»å‹æ˜¯ BaseClassï¼Œè€Œè¿è¡Œæ—¶ç±»å‹æ˜¯ SubClassã€‚ploymophicBc.sub() è¿™è¡Œä»£ç ä¼šåœ¨ç¼–è¯‘æ—¶æŠ¥é”™ï¼Œå› ä¸º ploymophicBc ç¼–è¯‘æ—¶ç±»å‹ä¸º BaseClassï¼Œè€Œ BaseClass ä¸­æ²¡æœ‰å®šä¹‰ sub æ–¹æ³•ï¼Œå› æ­¤ç¼–è¯‘æ—¶æ— æ³•é€šè¿‡ã€‚ä½†æ˜¯æ³¨æ„ï¼ŒploymophicBc.book çš„å€¼ä¸º 6ï¼Œ è€Œä¸æ˜¯ â€è½»é‡çº§ Java EEâ€œã€‚å› ä¸ºå¯¹è±¡çš„å®ä¾‹å˜é‡ä¸å…·å¤‡å¤šæ€æ€§ï¼Œç³»ç»Ÿæ€»æ˜¯è¯•å›¾è®¿é—®å®ƒç¼–è¯‘æ—¶ç±»å‹æ‰€å®šä¹‰çš„æˆå‘˜å˜é‡ï¼Œè€Œéè¿è¡Œæ—¶ã€‚å°ç»“å­ç±»å…¶å®æ˜¯ä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»ï¼Œå› æ­¤ java å…è®¸æŠŠçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œè¿™è¢«ç§°ä¸ºå‘ä¸Šè½¬å‹ï¼ˆupcastingï¼‰ï¼Œå‘ä¸Šè½¬å‹ç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆã€‚å¯ä»¥è°ƒç”¨å“ªäº›æ–¹æ³•ï¼Œå–å†³äºå¼•ç”¨ç±»å‹ï¼ˆç¼–è¯‘æ—¶ï¼‰ã€‚å…·ä½“è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œå–å†³äºå¼•ç”¨æŒ‡å‘çš„å®ä¾‹å¯¹è±¡ï¼ˆè¿è¡Œæ—¶ï¼‰ã€‚å‘ä¸‹ç±»å‹è½¬æ¢é—®é¢˜ï¼šå¼•ç”¨å˜é‡åœ¨ä»£ç ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œåªèƒ½è°ƒç”¨å®ƒç¼–è¯‘æ—¶ç±»å‹å…·å¤‡çš„æ–¹æ³•ï¼Œè€Œä¸èƒ½è°ƒç”¨å®ƒè¿è¡Œæ—¶ç±»å‹å…·å¤‡çš„æ–¹æ³•è§£å†³ï¼šå¼ºåˆ¶è½¬æ¢æˆè¿è¡Œæ—¶ç±»å‹æ–¹æ³•ï¼šå¼•ç”¨ç±»å‹ä¹‹é—´çš„è½¬æ¢åªèƒ½åœ¨æœ‰ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»å‹ä¹‹é—´è¿›è¡Œï¼Œå¦åˆ™ç¼–è¯‘å‡ºé”™ã€‚å¦‚æœæƒ³æŠŠä¸€ä¸ªçˆ¶ç±»å¼•ç”¨å˜é‡çš„ç¼–è¯‘æ—¶ç±»å‹è½¬æ¢æˆå­ç±»ç±»å‹ï¼Œåˆ™è¿™ä¸ªå¼•ç”¨å˜é‡çš„è¿è¡Œæ—¶ç±»å‹å¾—æ˜¯å­ç±»ç±»å‹ï¼Œå¦åˆ™å¼•å‘ ClassCastException å¼‚å¸¸ç¤ºä¾‹ä»£ç ï¼š//åˆ›å»ºå­ç±»å¯¹è±¡ Dog dog = new Dog(); // å‘ä¸Šç±»å‹è½¬æ¢(ç±»å‹è‡ªåŠ¨æå‡),ä¸å­˜åœ¨é£é™© // æ­¤æ—¶ animal ä¸º Dog ç±»å‹ Animal animal = dog; // é£é™©æ¼”ç¤ºï¼šç¼–è¯‘é˜¶æ®µä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä¼šæŠ¥é”™ // æ ¹æ®ä¸Šé¢çš„è¯­å¥ï¼Œæ­¤æ—¶ animal æŒ‡å‘ Dog ç±»å‹å¯¹è±¡ï¼Œæ²¡æœ‰åŠæ³•è½¬åŒ–æˆ Cat å¯¹è±¡ã€‚ Cat cat = (Cat)animal; // 1.å¼ºè½¬æˆåŠŸï¼Œç¼–è¯‘æ—¶æŒ‰ Cat ç±»å‹ 2. ä½†è¿è¡Œæ—¶ Dog ç±»å‹ï¼Œç±»å‹ä¸åŒ¹é…ï¼Œç›´æ¥æŠ¥é”™instanceofä¸ºäº†è§£å†³å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¯èƒ½å¼•å‘çš„ ClassCastException å¼‚å¸¸ï¼Œå¼•å…¥ instanceof è¿ç®—ç¬¦ã€‚instanceof è¿ç®—ç¬¦çš„å«ä¹‰ï¼šç”¨äºåˆ¤æ–­å·¦è¾¹çš„å¯¹è±¡ï¼ˆè¿è¡Œæ—¶ç±»å‹ï¼‰æ˜¯å¦æ˜¯å³è¾¹çš„ç±»æˆ–è€…å…¶å­ç±»ã€å®ç°ç±»çš„å®ä¾‹ã€‚å¦‚æœæ˜¯è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚åœ¨ä¹‹å‰çš„ä»£ç ä¸­ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢å‰ä½¿ç”¨ instanceof åˆ¤æ–­ï¼šif (anmial instanceof Cat) { Cat cat = (Cat)animal; }","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ–¹æ³•ä¼ å‚","slug":"Java/åŸºç¡€/æ–¹æ³•ä¼ å‚","date":"2020-03-17T01:29:04.000Z","updated":"2020-03-17T01:57:44.625Z","comments":true,"path":"2020/03/17/java/ji-chu/fang-fa-chuan-can/","link":"","permalink":"https://tianny.cc/2020/03/17/java/ji-chu/fang-fa-chuan-can/","excerpt":"","text":"æ— è®ºæ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’ï¼Œè¿˜æ˜¯å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’ï¼Œåœ¨ Java ä¸­æ–¹æ³•æ€»æ˜¯é‡‡ç”¨æŒ‰å€¼è°ƒç”¨ã€‚å¯¹äºå¼•ç”¨ç±»å‹ï¼Œä¼ é€’çš„æ˜¯å…¶å¯¹åº”çš„å†…å­˜ç©ºé—´åœ°å€ã€‚åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’public class PrimitiveTransferTest { public static void swap(int a, int b) { int tmp = a; a = b; b = tmp; System.out.println(\"swap æ–¹æ³•é‡Œ a çš„å€¼ä¸º: \" + a + \" bçš„å€¼ä¸º: \" + b); } public static void main(String[] args) { int a = 6; int b = 9; swap(a, b); System.out.println(\"äº¤æ¢ç»“æŸå a çš„å€¼ä¸º \" + a + \" bçš„å€¼ä¸º \" + b); } } /** è¿è¡Œç»“æœï¼š swap æ–¹æ³•é‡Œ a çš„å€¼ä¸º: 9 bçš„å€¼ä¸º: 6 äº¤æ¢ç»“æŸå a çš„å€¼ä¸º 6 bçš„å€¼ä¸º 9 */åˆ†æå›¾ï¼šmain æ–¹æ³•ä¸­å®šä¹‰äº†aã€b å˜é‡å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:main æ–¹æ³•ä¸­çš„å˜é‡ä½œä¸ºå‚æ•°å€¼ä¼ å…¥ swap() æ–¹æ³•å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:swap æ–¹æ³•ä¸­ aã€b äº¤æ¢åçš„å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:java ç¨‹åºæ€»æ˜¯ä» main() æ–¹æ³•å¼€å§‹æ‰§è¡Œï¼Œmain() æ–¹æ³•å®šä¹‰äº† aã€b ä¸¤ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸¤ä¸ªå˜é‡åœ¨ main æ ˆåŒºä¸­ã€‚åœ¨ main() æ–¹æ³•ä¸­è°ƒç”¨ swap() æ–¹æ³•æ—¶ï¼Œmain() æ–¹æ³•æ­¤æ—¶è¿˜æœªç»“æŸï¼Œå› æ­¤ç³»ç»Ÿä¸º main æ–¹æ³•å’Œ swap æ–¹æ³•åˆ†é…äº†ä¸¤å—æ ˆåŒºï¼Œç”¨äºä¿å­˜ main æ–¹æ³•å’Œ swap æ–¹æ³•çš„å±€éƒ¨å˜é‡ã€‚main æ–¹æ³•ä¸­çš„ aã€b å˜é‡ä½œä¸ºå‚æ•°ä¼ å…¥ swap æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯åœ¨ swap æ–¹æ³•æ ˆåŒºä¸­é‡æ–°äº§ç”Ÿäº†ä¸¤ä¸ªå˜é‡ aã€bï¼Œå¹¶å°† main æ–¹æ³•æ ˆåŒºä¸­ aã€b å˜é‡çš„å€¼åˆ†åˆ«èµ‹ç»™ swap æ–¹æ³•æ ˆåŒºä¸­çš„ aã€b å‚æ•°ï¼ˆè¿™å°±æ˜¯åˆå§‹åŒ–ï¼‰ã€‚æ­¤æ—¶ç³»ç»Ÿå†…å­˜ä¸­æœ‰ä¸¤ä¸ª a å˜é‡ã€ä¸¤ä¸ª b å˜é‡ï¼Œåªæ˜¯å­˜åœ¨äºä¸åŒçš„æ–¹æ³•æ ˆåŒºä¸­è€Œå·²ã€‚å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’public class ReferenceTransferTest { public static void swap(DataWrap dw) { int tmp = dw.a; dw.a = dw.b; dw.b = tmp; System.out.println(\"swap æ–¹æ³•é‡Œï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: \" + dw.a + \" b æˆå‘˜å˜é‡çš„å€¼ä¸º: \" + dw.b); } public static void main(String[] args) { DataWrap dw = new DataWrap(); dw.a = 6; dw.b = 9; swap(dw); System.out.println(\"äº¤æ¢ç»“æŸåï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: \" + dw.a + \" b æˆå‘˜å˜é‡çš„å€¼ä¸º: \" + dw.b); } } /** swap æ–¹æ³•é‡Œï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: 9 b æˆå‘˜å˜é‡çš„å€¼ä¸º: 6 äº¤æ¢ç»“æŸåï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: 9 b æˆå‘˜å˜é‡çš„å€¼ä¸º: 6 */ä½ å¯èƒ½ä¼šç–‘é—®ï¼Œdw å¯¹è±¡çš„æˆå‘˜å˜é‡ aã€bçš„å€¼ä¹Ÿè¢«æ›¿æ¢äº†ï¼Œè¿™è·Ÿå‰é¢åŸºæœ¬ç±»å‹çš„ä¼ é€’å®Œå…¨ä¸ä¸€æ ·ã€‚è¿™éå¸¸å®¹æ˜“è®©äººè§‰å¾—ï¼Œè°ƒç”¨ä¼ å…¥ swap æ–¹æ³•çš„å°±æ˜¯ dw å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯å®ƒçš„å¤åˆ¶å“ã€‚å…¶å®ä¼ é€’çš„ä¾ç„¶æ˜¯ dw çš„å€¼ã€‚åˆ†æå›¾ï¼šmain æ–¹æ³•ä¸­åˆ›å»º DataWrap å¯¹è±¡åçš„å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:main æ–¹æ³•ä¸­ dw ä¼ å…¥ swap() æ–¹æ³•åçš„å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:ç³»ç»Ÿä¸€æ ·èµ‹å€¼äº† dw çš„å‰¯æœ¬ï¼Œåªæ˜¯å…³é”®åœ¨äº dw åªæ˜¯ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œå®ƒå­˜å‚¨çš„å€¼åªæ˜¯ä¸€æ®µå†…å­˜åœ°å€ï¼Œå°†è¯¥å†…å­˜åœ°å€ä¼ é€’ç»™ swap æ ˆåŒºï¼Œæ­¤æ—¶ swap æ ˆåŒºçš„ dw å’Œ main æ ˆåŒºçš„ dw çš„å€¼ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€ç›¸åŒï¼Œè¯¥æ®µå†…å­˜åœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„ DataWrap å¯¹è±¡ã€‚å¯¹ swap æ ˆåŒºçš„ dw æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¯¹ DataWrap å¯¹è±¡æ“ä½œã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ•°ç»„","slug":"Java/åŸºç¡€/æ•°ç»„","date":"2020-03-15T06:30:28.000Z","updated":"2020-03-15T06:38:29.053Z","comments":true,"path":"2020/03/15/java/ji-chu/shu-zu/","link":"","permalink":"https://tianny.cc/2020/03/15/java/ji-chu/shu-zu/","excerpt":"","text":"æ•°ç»„æ˜¯ç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´ ã€‚ä¸€æ—¦æ•°ç»„åˆå§‹åŒ–å®Œæˆï¼Œæ•°ç»„åœ¨å†…å­˜ä¸­æ‰€å çš„ç©ºé—´å°†è¢«å›ºå®šä¸‹æ¥ï¼Œå› æ­¤æ•°ç»„çš„é•¿åº¦ä¸å¯ä»¥æ”¹å˜ã€‚å³ä½¿æŸä¸ªæ•°ç»„çš„å…ƒç´ è¢«æ¸…ç©ºï¼Œä½†æ˜¯å®ƒæ‰€å çš„ç©ºé—´ä¾ç„¶ä¿ç•™ã€‚æ•°ç»„æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œæ—¢å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å¼•ç”¨ç±»å‹ï¼Œåªè¦å­˜å‚¨çš„æ•°ç»„å…ƒç´ å…·æœ‰ç›¸åŒçš„ç±»å‹å³å¯ã€‚åˆå§‹åŒ–åŠ¨æ€åˆå§‹åŒ–æ‰§è¡ŒåŠ¨æ€åˆå§‹åŒ–æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®å£°æ˜çš„æ•°ç»„ç±»å‹è‡ªåŠ¨ä¸ºæ•°ç»„å…ƒç´ åˆ†é…åˆå§‹å€¼ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™æ•°ç»„å…ƒç´ çš„åˆå§‹å€¼ä¸º nullã€‚int[] scores = new int[5];é™æ€åˆå§‹åŒ–æ˜¾å¼æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„åˆå§‹å€¼int[] scores = {1,2,3,4};éå†æ•°ç»„foreach éå†æ•°ç»„int[] scores = new int[5];é™æ€åˆå§‹åŒ–æ˜¾å¼æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„åˆå§‹å€¼int[] scores = {1,2,3,4};éå†æ•°ç»„foreach éå†æ•°ç»„int[] scores = {1,2,3,4}; for (int score : scores) { System.out.println(score); }æ•°ç»„çš„æœ¬è´¨å°†æ•°ç»„çœ‹æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªéƒ¨åˆ†æ˜¯æ•°ç»„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨ä»£ç ä¸­å®šä¹‰çš„æ•°ç»„å¼•ç”¨å˜é‡ï¼›å¦ä¸€éƒ¨åˆ†æ˜¯å®é™…çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™éƒ¨åˆ†æ˜¯åœ¨å †å†…å­˜ä¸­è¿è¡Œçš„ï¼Œé€šå¸¸æ— æ³•ç›´æ¥è®¿é—®å®ƒï¼Œåªèƒ½é€šè¿‡å¼•ç”¨å˜é‡æ¥è®¿é—®ã€‚äºŒç»´æ•°ç»„äºŒç»´æ•°ç»„æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ç»´æ•°ç»„ï¼Œåªæ˜¯å…¶æ•°ç»„å…ƒç´ ä¹Ÿæ˜¯å¼•ç”¨ï¼Œæ•°ç»„å…ƒç´ é‡Œä¿å­˜çš„å¼•ç”¨æŒ‡å‘ä¸€ç»´æ•°ç»„ã€‚String [][] str1 = {new String[3], new String[]{\"hello\"}};ä»£ç ç¤ºæ„å›¾å¦‚ä¸‹ï¼š","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ§åˆ¶ç»“æ„","slug":"Java/åŸºç¡€/æ§åˆ¶ç»“æ„","date":"2020-03-15T06:13:21.000Z","updated":"2020-03-15T06:24:45.256Z","comments":true,"path":"2020/03/15/java/ji-chu/kong-zhi-jie-gou/","link":"","permalink":"https://tianny.cc/2020/03/15/java/ji-chu/kong-zhi-jie-gou/","excerpt":"","text":"if-elseif (condition) { statement; } else { statement; }Switchswitch (è¡¨è¾¾å¼) { case value1: statement1; break; case value2: statement2; break; case valuen: statementn; break; default: é»˜è®¤æ‰§è¡Œçš„ä»£ç ; }å½“ switch åè¡¨è¾¾å¼çš„å€¼å’Œ case è¯­å¥åçš„å€¼ç›¸åŒæ—¶ï¼Œä»è¯¥ä½ç½®å‘ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ° break è¯­å¥æˆ–è€… switch è¯­å¥å—ç»“æŸï¼›å¦‚æœæ²¡æœ‰åŒ¹é…çš„ case è¯­å¥åˆ™æ‰§è¡Œ default å—çš„ä»£ç ã€‚case åé¢çš„å€¼å¯ä»¥æ˜¯å¸¸é‡æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œä½†ä¸èƒ½æ˜¯å˜é‡æˆ–å¸¦æœ‰å˜é‡çš„è¡¨è¾¾å¼å¯ä»¥æŠŠåŠŸèƒ½ç›¸åŒçš„ case è¯­å¥åˆå¹¶èµ·æ¥default å—å¯ä»¥å‡ºç°åœ¨ä»»æ„ä½ç½®ï¼Œä¹Ÿå¯ä»¥çœç•¥whilewhile (condition) { statement; }do-whiledo { statement; } while (condition);forfor (å¾ªç¯å˜é‡åˆå§‹åŒ–; å¾ªç¯æ¡ä»¶; å¾ªç¯å˜é‡å˜åŒ–) { statementï¼› }","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"Javaå…¥é—¨-æ•°æ®ç±»å‹","slug":"Java/åŸºç¡€/æ•°æ®ç±»å‹","date":"2020-03-15T03:24:31.000Z","updated":"2020-03-15T06:09:24.281Z","comments":true,"path":"2020/03/15/java/ji-chu/shu-ju-lei-xing/","link":"","permalink":"https://tianny.cc/2020/03/15/java/ji-chu/shu-ju-lei-xing/","excerpt":"","text":"æ•°æ®ç±»å‹åŸºæœ¬æ•°æ®ç±»å‹å˜é‡å­˜å‚¨çš„æ˜¯æ•°æ®æœ¬èº«å¼•ç”¨ç±»å‹å˜é‡å­˜å‚¨çš„æ˜¯æ•°æ®çš„ç©ºé—´åœ°å€ç±»å‹è½¬æ¢è‡ªåŠ¨ç±»å‹è½¬æ¢æŠŠä¸€ä¸ªè¡¨æ•°èŒƒå›´å°çš„æ•°å€¼æˆ–å˜é‡ç›´æ¥èµ‹ç»™å¦ä¸€ä¸ªè¡¨æ•°èŒƒå›´å¤§çš„å˜é‡æ—¶ï¼Œç³»ç»Ÿå°†ä¼šè¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼è½¬æ¢ï¼‰ï¼Œå¦åˆ™éœ€è¦å¼ºåˆ¶è½¬æ¢ã€‚å¼ºåˆ¶ç±»å‹è½¬æ¢å¼ºåˆ¶ç±»å‹è½¬æ¢å¯èƒ½å­˜åœ¨æº¢å‡ºå¯¼è‡´æ•°æ®ç²¾åº¦ä¸¢å¤±çš„æƒ…å†µã€‚å­—ç¬¦ä¸²Java æ²¡æœ‰å†…ç½®çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œè€Œæ˜¯æä¾›äº†ä¸€ä¸ªæ ‡å‡†ç±»åº“ Stringã€‚ç‰¹å¾ï¼šä¸å¯å˜å­—ç¬¦ä¸²ä¼˜ç‚¹ï¼šç¼–è¯‘å™¨å¯ä»¥è®©å­—ç¬¦ä¸²å…±äº«ï¼ˆåªæœ‰å­—ç¬¦ä¸²å¸¸é‡æ˜¯å…±äº«çš„ï¼Œè€Œ + æˆ– substring ç­‰æ“ä½œäº§ç”Ÿçš„ç»“æœå¹¶ä¸æ˜¯å…±äº«çš„ï¼‰","categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"}]},{"title":"HDFS è¯»å†™æµç¨‹","slug":"å¤§æ•°æ®/HDFS/HDFS-è¯»å†™æµç¨‹","date":"2019-09-09T08:17:55.000Z","updated":"2020-03-14T10:56:30.466Z","comments":true,"path":"2019/09/09/da-shu-ju/hdfs/hdfs-du-xie-liu-cheng/","link":"","permalink":"https://tianny.cc/2019/09/09/da-shu-ju/hdfs/hdfs-du-xie-liu-cheng/","excerpt":"","text":"HDFS æ–‡ä»¶è¯»å–æµç¨‹Client ç«¯è°ƒç”¨ DistributedFileSystem å¯¹è±¡çš„ open() æ–¹æ³•ã€‚ç”± DistributedFileSystem é€šè¿‡ RPC å‘ NameNode è¯·æ±‚è¿”å›æ–‡ä»¶çš„ Block å—æ‰€åœ¨çš„ DataNode çš„åœ°å€ã€‚ï¼ˆæˆ‘ä»¬çŸ¥é“ HDFS é»˜è®¤ç­–ç•¥å¯¹æŸä¸ª Block ä¼šä¿å­˜ä¸‰ä»½å‰¯æœ¬åˆ°ä¸åŒçš„ DataNodeï¼Œé‚£ä¹ˆ NameNode åº”è¯¥è¿”å›å“ªä¸ª DataNodeï¼Ÿç­”æ¡ˆæ˜¯æ ¹æ® DataNode åˆ° Client ç«¯çš„è·ç¦»ã€‚å‡è®¾è¯·æ±‚çš„ Block å—åˆšå¥½å°±è½åœ¨ Client ç«¯æ‰€åœ¨æœºå™¨ä¸Šï¼Œå³ Client ç«¯æœ¬èº«ä¹Ÿæ˜¯ DataNodeï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—® DataNode å°†ä¼šè¿”å› Client ç«¯æ‰€åœ¨æœºå™¨åœ°å€ã€‚è¿™ä¹ŸéªŒè¯äº† Hadoop çš„ä¸€ä¸ªè®¾è®¡ç‰¹æ€§ï¼Œç§»åŠ¨è®¡ç®—è€Œä¸æ˜¯ç§»åŠ¨æ•°æ®ï¼Œæå¤§äº†å‡å°äº†å¸¦å®½ã€‚ï¼‰Client ç«¯è°ƒç”¨ FSDataInputStream å¯¹è±¡çš„ read() æ–¹æ³•ï¼Œé€šè¿‡ FSDataInputStream å‘ DataNode è·å– Block æ•°æ®ã€‚ä¹‹åæ•°æ®æµæºæºä¸æ–­åœ°ä» DataNode è¿”å›è‡³ Clientã€‚å½“æœ€åä¸€ä¸ª Block è¿”å›è‡³ Client ç«¯åï¼Œ DFSInputStream ä¼šå…³é—­ä¸ DataNode è¿æ¥ã€‚ä¸Šè¿°è¿‡ç¨‹å¯¹ Client ç«¯éƒ½æ˜¯é€æ˜çš„ï¼Œä» Client æ¥çœ‹ï¼Œå®ƒåªæ˜¯åœ¨ä¸åœçš„è¯»å–æ•°æ®æµã€‚å¦‚æœ DFSInputStream åœ¨è¯»å–çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ï¼Œå°†ä¼šå°è¯•ä¸å­˜æœ‰è¯¥ Block å‰¯æœ¬ä¸”è·ç¦»æœ€è¿‘çš„ DataNode é€šä¿¡ã€‚åŒæ—¶ï¼Œå®ƒä¼šè®°å½•ä¸‹å‡ºé—®é¢˜çš„ DataNodeï¼Œåœ¨ä¹‹åçš„æ•°æ®è¯·æ±‚è¿‡ç¨‹ä¸­ä¸å†ä¸ä¹‹é€šä¿¡ã€‚å¹¶æŠ¥å‘Šç»™ NameNodeã€‚DFSInputStream å…·å¤‡æ£€æŸ¥æ•°æ®æ ¡éªŒå’Œçš„åŠŸèƒ½ã€‚HDFS æ–‡ä»¶å†™å…¥æµç¨‹Client å†™å…¥æ–‡ä»¶æ—¶ï¼Œè°ƒç”¨ DistributedFileSystem å¯¹è±¡çš„ create() æ–¹æ³•ã€‚DistributedFileSystem é€šè¿‡ RPC è¯·æ±‚ NameNode å‘å…¶ NameSpace å†™å…¥æ–‡ä»¶å…ƒæ•°æ®ä¿¡æ¯ã€‚NameNode ä¼šåšå¤šç§æ£€æŸ¥ï¼Œå¦‚åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦æœ‰ç›¸åº”çš„å†™æƒé™ç­‰ç­‰ã€‚å¦‚æœæ£€æŸ¥é€šè¿‡ï¼ŒNameNode ä¼šå°†æ–‡ä»¶å…ƒæ•°æ®å†™å…¥ NameSpaceã€‚DistributedFileSystem å°†ä¼šè¿”å› FSDataOutputStream ç”¨äº Client ç«¯ç›´æ¥å‘ DataNode å†™å…¥æ•°æ®ã€‚DFSOutputStream å°† Client è¦å†™å…¥çš„æ•°æ®åˆ†å‰²æˆ Packetsã€‚Packets ä¼šè¢«ä¿å­˜åˆ° Data Queue é˜Ÿåˆ—ä¸­ï¼Œå¹¶ç”± DataStreamer æ¶ˆè´¹å¤„ç†ã€‚DataStreamer è¯·æ±‚ NameNode åˆ†é… DataNode åˆ—è¡¨ï¼Œå°† Packets å†™å…¥åˆ° DataNode ä¸­ã€‚å‡è®¾æ”¾ç½®å‰¯æœ¬çš„é»˜è®¤ç­–ç•¥æ˜¯ 3ï¼Œé‚£ä¹ˆ NameNode å°†è¿”å› 3 ä¸ª DataNodeï¼Œå¹¶ä¸²è”èµ·æ¥ç»„æˆä¸€æ¡ Pipelineã€‚ DataStreamer å°† Packets å†™å…¥åˆ°ç¬¬ä¸€ä¸ª DataNode1ï¼ŒDataNode1 å­˜å‚¨å®Œåç›´æ¥è½¬å‘è‡³ DataNode2ï¼ŒDataNode2 å­˜å‚¨å®Œåå†ç›´æ¥è½¬å‘è‡³ DataNode3ã€‚ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œç›´æ¥æ˜¯ DataNode1 ç›´æ¥å°† Packet è½¬å‘è‡³ DataNode2ã€‚ï¼‰DFSOutputStream ä¸ºäº†é˜²æ­¢å‡ºé—®é¢˜æ—¶æ•°æ®çš„ä¸¢å¤±ï¼Œç»´æŒäº†ä¸€ä¸ªç­‰å¾… DataNode æˆåŠŸå†™å…¥çš„ ACK Queueã€‚åªæœ‰å½“ Packet è¢«æˆåŠŸå†™å…¥ Pipeline ä¸­çš„æ¯ä¸ª DataNode æ—¶ï¼Œæ­¤ Packet æ‰ä¼šä» ACK Queue ä¸­ç§»é™¤ã€‚åœ¨ Pipeline å†™å…¥çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸä¸ª DataNode å‡ºç°é—®é¢˜ï¼ŒPipeline é¦–å…ˆå°†ä¼šè¢«å…³é—­ï¼Œéšååœ¨ ACK Queue ä¸­çš„ Packets ä¼šè¢«æ·»åŠ åˆ° Data Queue çš„æœ€å‰é¢ï¼Œç”¨æ¥é˜²æ­¢ä½äºé—®é¢˜èŠ‚ç‚¹ä¸‹æ¸¸çš„ DataNode å†™å…¥æ—¶çš„æ•°æ®ä¸¢å¤±ã€‚å‡ºé—®é¢˜çš„ DataNode ä¼šè¢«ä» Pipeline ä¸­ç§»é™¤ã€‚NameNode ä¼šé‡æ–°åˆ†é…ä¸€ä¸ªå¥åº·çš„ DataNode æ„æˆæ–°çš„ Pipelineã€‚å½“ Client ç«¯å†™å®Œæ•°æ®ï¼Œè°ƒç”¨ DFSOutputStream å¯¹è±¡çš„ close() æ–¹æ³•ã€‚è¯¥æ“ä½œå°†ä¼šå°†æ‰€æœ‰å‰©ä½™çš„ Packets åˆ·å†™åˆ° DataNode Pipeline å¹¶ç­‰å¾…è¿”å›ç¡®è®¤ï¼Œä¹‹åå‘ NameNode å‘é€æ–‡ä»¶å†™å…¥å®Œæˆä¿¡å·ã€‚","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"https://tianny.cc/categories/å¤§æ•°æ®/"}],"tags":[{"name":"HDFS","slug":"HDFS","permalink":"https://tianny.cc/tags/HDFS/"}]},{"title":"CM & CDH åŸºæœ¬ä»‹ç»","slug":"å¤§æ•°æ®/CDH/CM-CDH-åŸºæœ¬ä»‹ç»","date":"2019-08-17T08:00:02.000Z","updated":"2020-03-14T10:51:21.841Z","comments":true,"path":"2019/08/17/da-shu-ju/cdh/cm-cdh-ji-ben-jie-shao/","link":"","permalink":"https://tianny.cc/2019/08/17/da-shu-ju/cdh/cm-cdh-ji-ben-jie-shao/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ CDHHadoop æ˜¯å¼€æºé¡¹ç›®ï¼Œæ‰€ä»¥å¾ˆå¤šå…¬å¸åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå•†ä¸šåŒ–ï¼Œä¸æ”¶è´¹çš„ Hadoop ä¸»è¦æœ‰ä¸‰ä¸ªï¼šApacheï¼Œæœ€åŸå§‹çš„ç‰ˆæœ¬ï¼Œæ‰€æœ‰å‘è¡Œç‰ˆå‡åŸºäºè¿™ä¸ªç‰ˆæœ¬è¿›è¡ŒCloudearï¼Œå…¨ç§° Clouderaâ€™s Distribution Including Apache Hadoopï¼Œç®€ç§° CDHHortonworksï¼Œå…¨ç§° Hortonworks Data Platformï¼Œç®€ç§° HDPä»€ä¹ˆæ˜¯ Cloudera ManagerCloudear Managerï¼Œç®€ç§° CMï¼Œç”¨äºç®¡ç† CDH é›†ç¾¤ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯å¯¹ CDH é›†ç¾¤è¿›è¡Œç›‘æ§ï¼Œå¤§å¤§æ”¹å–„åŸç”Ÿ Apache Hadoop çš„å®‰è£…ã€é…ç½®å¤æ‚åº¦å’Œéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºç›‘æ§å·¥å…·æ‰€å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ï¼Œå¯è¿›è¡ŒèŠ‚ç‚¹å®‰è£…ã€é…ç½®ã€è¯Šæ–­ã€é›†æˆå¹¶æä¾› web ç•Œé¢ã€‚CM æ¶æ„åŸºæœ¬ç»„æˆï¼šServerAgentï¼šå®‰è£…åœ¨æ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¸Šï¼ŒServer ä¸‹å‘çš„æ“ä½œéƒ½ç”± Agent æ¥å®ç°Management Serviceï¼šç›‘æ§æŠ¥è­¦ç­‰åŠŸèƒ½Databaseï¼šå­˜å‚¨å„ç§æœåŠ¡é…ç½®ä¿¡æ¯å’ŒæŠ¥è­¦ä¿¡æ¯Cloudera Repoistoryï¼šç”¨æ¥åˆ†å‘ Parcels åŒ…çš„è¿œç¨‹ä»“åº“ClientsServer å’Œ Agent é€šä¿¡æ–¹å¼ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒAgent æ¯éš” 15s å‘ Server å‘é€å¿ƒè·³ã€‚ä½†æ˜¯å½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸ºäº†å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œä¼šåŠ å¿«å¿ƒè·³é¢‘ç‡ã€‚CM æœ¯è¯­host ä¸»æœºrack æœºæ¶cluster é›†ç¾¤service æœåŠ¡ï¼Œä¾‹å¦‚ HDFSã€YARN éƒ½æ˜¯ä¸€ä¸ªä¸ªæœåŠ¡role è§’è‰²ï¼Œä¾‹å¦‚ HDFS çš„ NameNode å’Œ DataNode éƒ½å¯ä»¥ç§°ä¸º HDFS çš„ è§’è‰²role group è§’è‰²ç»„ï¼Œå°†è§’è‰²åˆ’åˆ†ä¸ºä¸€ç»„æ–¹ä¾¿ç®¡ç†host template ä¸»æœºæ¨¡æ¿parcel åŒ…static service pool é™æ€æœåŠ¡æ± dynamic resource pool åŠ¨æ€èµ„æºæ± ","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"https://tianny.cc/categories/å¤§æ•°æ®/"}],"tags":[{"name":"CDH","slug":"CDH","permalink":"https://tianny.cc/tags/CDH/"}],"author":"Tianny"}],"categories":[{"name":"Java","slug":"Java","permalink":"https://tianny.cc/categories/Java/"},{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"https://tianny.cc/categories/å¤§æ•°æ®/"}],"tags":[{"name":"J2SE","slug":"J2SE","permalink":"https://tianny.cc/tags/J2SE/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://tianny.cc/tags/å¤šçº¿ç¨‹/"},{"name":"HDFS","slug":"HDFS","permalink":"https://tianny.cc/tags/HDFS/"},{"name":"CDH","slug":"CDH","permalink":"https://tianny.cc/tags/CDH/"}]}