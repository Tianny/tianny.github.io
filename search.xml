<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Javaå…¥é—¨-åå°„</title>
      <link href="/2020/04/23/java/ji-chu/fan-she/"/>
      <url>/2020/04/23/java/ji-chu/fan-she/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ³›å‹é€šé…ç¬¦</title>
      <link href="/2020/04/21/java/ji-chu/fan-xing-tong-pei-fu/"/>
      <url>/2020/04/21/java/ji-chu/fan-xing-tong-pei-fu/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>åœ¨å‰é¢è¯´è¿‡ï¼Œæ³›å‹æ˜¯ä¸å˜çš„ï¼Œä¸ºäº†å®ç°æ³›å‹çš„åå˜ä¸é€†å˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³›å‹é€šé…ç¬¦ã€‚</p><h2 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="é€šé…ç¬¦"></a>é€šé…ç¬¦</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Object<span class="token operator">></span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">prinln</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªæ–¹æ³•å£°æ˜æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯è°ƒç”¨è¯¥æ–¹æ³•å®é™…ä¼ å…¥çš„å‚æ•°å€¼ï¼Œå¯èƒ½ä¼šå‡ºé”™ã€‚</p><p>è€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-java"><code class="language-java">List<span class="token operator">&lt;</span>String<span class="token operator">></span> strList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¼–è¯‘å‡ºé”™ï¼Œå› ä¸ºæ³›å‹æ˜¯ä¸å˜çš„ï¼Œ List&lt;String> å¹¶ä¸æ˜¯ List&lt;Object> çš„å­ç±»ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸ºäº†è¡¨ç¤ºå„ç§æ³›å‹ List çš„çˆ¶ç±»ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹é€šé…ç¬¦ã€‚<code>List&lt;?&gt;</code> è¡¨ç¤ºå…ƒç´ ç±»å‹æœªçŸ¥çš„ Listã€‚è¿™ä¸ª <code>ï¼Ÿ</code> å·è¢«ç§°ä¸ºé€šé…ç¬¦ï¼Œå®ƒå¯ä»¥åŒ¹é…ä»»ä½•ç±»å‹ã€‚</p><p>å°†ä¸Šé¢çš„ä»£ç ï¼Œæ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">prinln</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ä¼ å…¥ä»»ä½•ç±»å‹çš„ Listï¼Œç¨‹åºå¯ä»¥æ­£å¸¸æ‰“å°é›†åˆ c ä¸­çš„å…ƒç´ ã€‚</p><p>è¿™ç§æ–¹æ³•åŒæ—¶å¸¦æ¥äº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œå³é›†åˆä¸­å…ƒç´ çš„ç±»å‹ä¼šè¢«å½“æˆ Object ç±»å‹å¯¹å¾…ã€‚</p><h2 id="æ³›å‹é€šé…ç¬¦çš„ä¸Šç•Œ"><a href="#æ³›å‹é€šé…ç¬¦çš„ä¸Šç•Œ" class="headerlink" title="æ³›å‹é€šé…ç¬¦çš„ä¸Šç•Œ"></a>æ³›å‹é€šé…ç¬¦çš„ä¸Šç•Œ</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Fruit</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Apple</span> <span class="token keyword">extends</span> <span class="token class-name">Fruit</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Jonathan</span> <span class="token keyword">extends</span> <span class="token class-name">Apple</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Orange</span> <span class="token keyword">extends</span> <span class="token class-name">Fruit</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericsAndCovariance</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        List<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Fruit</span><span class="token operator">></span> flist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Apple<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        flist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Apple</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// ç¼–è¯‘é”™è¯¯</span>        flist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Fruit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// ç¼–è¯‘é”™è¯¯</span>        flist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// ç¼–è¯‘é”™è¯¯</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ flist çš„ç±»å‹æ˜¯ <code>&lt;? extends Fruit&gt;</code>ï¼Œextends æŒ‡å‡ºäº†æ³›å‹çš„ä¸Šç•Œä¸º Fruitã€‚ä¸‹è¾¹ç•Œæ˜¯ä»»æ„ Fruit çš„å­ç±»ï¼Œç†è®ºä¸Šæ¥è¯´å¯ä»¥æ˜¯æ— é™å¤šã€‚ä½¿ç”¨é€šé…ç¬¦å¯ä»¥å°† <code>ArrayList&lt;Apple&gt;</code> å‘ä¸Šè½¬å‹äº†ï¼Œä¹Ÿå°±å®ç°äº†åå˜ã€‚</p><p>è¿™æ ·çš„è½¬æ¢ä¹Ÿæœ‰ä¸€å®šçš„å‰¯ä½œç”¨ã€‚é‚£å°±æ˜¯å®¹å™¨çš„éƒ¨åˆ†åŠŸèƒ½å¯èƒ½å¤±æ•ˆã€‚æˆ‘ä»¬ä¸èƒ½å‘ä¸€ä¸ªåå˜æ³›å‹çš„ç»“æ„ä¸­åŠ å…¥ä»»ä½•å…ƒç´ ï¼ˆé™¤äº† nullï¼‰ã€‚è§‚å¯Ÿä¸Šé¢ä»£ç ï¼Œå†ä¹Ÿä¸èƒ½å¾€å®¹å™¨é‡Œä»»ä½•ä¸œè¥¿ã€‚</p><p>å› ä¸ºæ³›å‹çš„ç±»å‹æ“¦é™¤åŸå› ï¼Œç±»å‹æ£€æŸ¥ç§»åˆ°äº†ç¼–è¯‘æœŸï¼Œä½†åå˜è¿‡ç¨‹åˆä¸¢æ‰äº†å…·ä½“çš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯ Fruit ç±»çš„ä»»ä½•å­ç±»ï¼Œæ— æ³•ç¡®å®šåˆ°åº•æ˜¯å“ªä¸ªå­ç±»ï¼‰ï¼Œå¯¼è‡´ç¼–è¯‘å™¨æ— æ³•ç¡®å®šçœŸå®çš„ç±»å‹ä¿¡æ¯ï¼Œæ‰€ä»¥æ‹’ç»äº†æ’å…¥æ“ä½œã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸è®ºå®ƒæ˜¯ä»€ä¹ˆç±»å‹ï¼Œå®ƒæ€»æ˜¯ Fruit çš„å­ç±»å‹ï¼Œå½“æˆ‘ä»¬åœ¨è¯»å–æ•°æ®æ—¶ï¼Œèƒ½ç¡®ä¿å¾—åˆ°çš„æ•°æ®æ˜¯ä¸€ä¸ª Fruit ç±»å‹çš„å®ä¾‹ï¼š</p><pre class="line-numbers language-java">Fruit get = flist.get(0);</code></pre><p>æ€»ç»“ï¼š</p><ul><li><p>å¦‚æœä¸€ä¸ªå®¹å™¨æ˜¯åªè¯»çš„ï¼Œæ‰èƒ½åå˜ã€‚ä¸ç„¶å¾ˆå®¹æ˜“å°±èƒ½æŠŠä¸€äº›ç‰¹æ®Šçš„å®¹å™¨åå˜åˆ°æ›´ä¸€èˆ¬çš„å®¹å™¨ï¼Œå†å¾€é‡Œé¢æ·»åŠ è¿›ä¸åº”è¯¥å‚¨å­˜çš„ç±»å‹ã€‚</p></li><li><p>åå˜ç»“æ„å¯è¯»ï¼Œä¸å¯å†™ã€‚</p></li></ul><h2 id="æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ"><a href="#æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ" class="headerlink" title="æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ"></a>æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ</h2><p>ä½¿ç”¨é€šé…ç¬¦ <code>? super T</code>ï¼Œå…¶ä¸­ T æ˜¯ä¸€ä¸ªåŸºç±»å‹ï¼Œæˆ–è€…è¯´çˆ¶ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€†å˜ç»“æ„ä¸­æ·»åŠ ä»»ä½• T åŠ T çš„å­ç±»ã€‚</p><p>é€†å˜ç»“æ„å¯å†™ï¼Œä¸å¯è¯»ã€‚</p><pre><code class="java"><code class="language-java">Fruit get = flist.get(0);</code></pre><p>æ€»ç»“ï¼š</p><ul><li><p>å¦‚æœä¸€ä¸ªå®¹å™¨æ˜¯åªè¯»çš„ï¼Œæ‰èƒ½åå˜ã€‚ä¸ç„¶å¾ˆå®¹æ˜“å°±èƒ½æŠŠä¸€äº›ç‰¹æ®Šçš„å®¹å™¨åå˜åˆ°æ›´ä¸€èˆ¬çš„å®¹å™¨ï¼Œå†å¾€é‡Œé¢æ·»åŠ è¿›ä¸åº”è¯¥å‚¨å­˜çš„ç±»å‹ã€‚</p></li><li><p>åå˜ç»“æ„å¯è¯»ï¼Œä¸å¯å†™ã€‚</p></li></ul><h2 id="æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ"><a href="#æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ" class="headerlink" title="æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ"></a>æ³›å‹é€šé…ç¬¦çš„ä¸‹ç•Œ</h2><p>ä½¿ç”¨é€šé…ç¬¦ <code>? super T</code>ï¼Œå…¶ä¸­ T æ˜¯ä¸€ä¸ªåŸºç±»å‹ï¼Œæˆ–è€…è¯´çˆ¶ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€†å˜ç»“æ„ä¸­æ·»åŠ ä»»ä½• T åŠ T çš„å­ç±»ã€‚</p><p>é€†å˜ç»“æ„å¯å†™ï¼Œä¸å¯è¯»ã€‚</p><pre><code class="java">class Fruit {}class Apple extends Fruit {}class Jonathan extends Apple {}class Orange extends Fruit {}public class SuperTypeWildcards {    static void writeTo(List<? super Apple> apples) {        apples.add(new Apple());        apples.add(new Jonathan());        apples.add(new Fruit());  // ç¼–è¯‘é”™è¯¯    }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>List&lt;? super Apple&gt;</code> æŒ‡å®šäº†æ³›å‹çš„ä¸‹ç•Œæ˜¯ Appleã€‚ä¸Šè¾¹ç•Œæ˜¯æ¨¡ç³Šçš„ï¼Œä»»æ„ Apple çš„çˆ¶ç±»éƒ½å¯ä»¥ï¼Œå­˜åœ¨æ— é™çš„å¯èƒ½æ€§ï¼Œæ— æ³•ç¡®å®šå…·ä½“çš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯ Apple çš„ä»»ä½•çˆ¶ç±»ï¼Œæ— æ³•ç¡®å®šåˆ°åº•æ˜¯å“ªä¸ªçˆ¶ç±»ï¼‰ã€‚æ‰€ä»¥åªèƒ½æ·»åŠ  Apple åŠå…¶å­ç±»ã€‚</p><p>åªèƒ½å–å‡º Object å®ä¾‹ï¼šå› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“è¶…ç±»ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œç¼–è¯‘å™¨å”¯ä¸€èƒ½ä¿è¯çš„åªæ˜¯å®ƒæ˜¯ä¸ª Objectï¼Œå› ä¸º Object æ˜¯ä»»ä½• Java ç±»å‹çš„è¶…ç±»ã€‚</p><h2 id="å­˜å–åŸåˆ™"><a href="#å­˜å–åŸåˆ™" class="headerlink" title="å­˜å–åŸåˆ™"></a>å­˜å–åŸåˆ™</h2><ul><li>å¦‚æœä½ æƒ³ä»ä¸€ä¸ªæ•°æ®ç±»å‹é‡Œè·å–æ•°æ®ï¼Œä½¿ç”¨<code>&lt;? extends T&gt;</code> é€šé…ç¬¦ã€‚</li><li>å¦‚æœä½ æƒ³æŠŠå¯¹è±¡å†™å…¥ä¸€ä¸ªæ•°æ®ç»“æ„é‡Œï¼Œä½¿ç”¨<code>&lt;? super T&gt;</code> é€šé…ç¬¦ã€‚</li><li>å¦‚æœä½ æ—¢æƒ³å­˜ï¼Œåˆæƒ³å–ï¼Œé‚£å°±åˆ«ç”¨é€šé…ç¬¦ã€‚</li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-åå˜ä¸é€†å˜</title>
      <link href="/2020/04/20/java/ji-chu/xie-bian-yu-ni-bian/"/>
      <url>/2020/04/20/java/ji-chu/xie-bian-yu-ni-bian/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>åœ¨ä»‹ç»æ³›å‹çš„é€šé…ç¬¦ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦äº†è§£ä¸‹åå˜ä¸é€†å˜çš„ç›¸å…³çŸ¥è¯†ã€‚</p><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>é€†å˜ä¸åå˜ç”¨æ¥æè¿°ç±»å‹è½¬æ¢ï¼ˆtype transformationï¼‰åçš„ç»§æ‰¿å…³ç³»ï¼Œå…¶å®šä¹‰ï¼šå¦‚æœ ğ´ã€ğµ è¡¨ç¤ºç±»å‹ï¼Œğ‘“(â‹…) è¡¨ç¤ºç±»å‹è½¬æ¢ï¼Œâ‰¤ è¡¨ç¤ºç»§æ‰¿å…³ç³»ï¼ˆæ¯”å¦‚ ğ´â‰¤ğµ è¡¨ç¤º ğ´ æ˜¯ç”± ğµ æ´¾ç”Ÿå‡ºæ¥çš„å­ç±»ï¼‰</p><ul><li>ğ‘“(â‹…) æ˜¯é€†å˜ï¼ˆcontravariantï¼‰çš„ï¼Œå½“ ğ´â‰¤ğµ æ—¶æœ‰ ğ‘“(ğµ)â‰¤ğ‘“(ğ´) æˆç«‹ï¼›</li><li>ğ‘“(â‹…) æ˜¯åå˜ï¼ˆcovariantï¼‰çš„ï¼Œå½“ ğ´â‰¤ğµ æ—¶æœ‰ ğ‘“(ğ´)â‰¤ğ‘“(ğµ) æˆç«‹ï¼›</li><li>ğ‘“(â‹…) æ˜¯ä¸å˜ï¼ˆinvariantï¼‰çš„ï¼Œå½“ ğ´â‰¤ğµ æ—¶ä¸Šè¿°ä¸¤ä¸ªå¼å­å‡ä¸æˆç«‹ï¼Œå³ ğ‘“(ğ´) ä¸ ğ‘“(ğµ) ç›¸äº’ä¹‹é—´æ²¡æœ‰ç»§æ‰¿å…³ç³»ã€‚</li></ul><h2 id="æ•°ç»„æ˜¯åå˜çš„"><a href="#æ•°ç»„æ˜¯åå˜çš„" class="headerlink" title="æ•°ç»„æ˜¯åå˜çš„"></a>æ•°ç»„æ˜¯åå˜çš„</h2><pre class="line-numbers language-java"><code class="language-java">Number<span class="token punctuation">[</span><span class="token punctuation">]</span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>numbers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>numbers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>numbers<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Long</span><span class="token punctuation">(</span>99L<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åŒ…è£…ç±» Integerã€Doubleã€Long æ˜¯ Number çš„å­ç±»ï¼Œnumbers æ•°ç»„ä¸­çš„å…ƒç´ çš„ç±»å‹å¯ä»¥æ˜¯ä»»ä½• Number çš„å­ç±»ã€‚æˆ‘ä»¬ç§° Java æ•°ç»„æ˜¯åå˜çš„ (Covariant)ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œä¸‹é¢çš„ä»£ç ä¹Ÿæ˜¯åˆæ³•çš„ï¼š</p><pre class="line-numbers language-java"><code class="language-java">Integer<span class="token punctuation">[</span><span class="token punctuation">]</span> IntArray <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Number<span class="token punctuation">[</span><span class="token punctuation">]</span> NumberArray <span class="token operator">=</span> IntArray<span class="token punctuation">;</span>Number n <span class="token operator">=</span> NumberArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//ä»ä¸€ä¸ªåå˜ç»“æ„ä¸­è¯»å–å…ƒç´ </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ ¹æ®åå˜çš„å®šä¹‰ï¼Œå› ä¸ºæ•°ç»„æ˜¯åå˜çš„ï¼Œæ‰€ä»¥ Integer[] æ˜¯ Number[] çš„å­ç±»ã€‚å¯ä»¥å°†å­ç±»å‹çš„æ•°ç»„èµ‹äºˆåŸºç±»å‹çš„æ•°ç»„å¼•ç”¨ã€‚å³çˆ¶ç±»çš„å¼•ç”¨å¯ä»¥æŒ‡å‘å­ç±»å¯¹è±¡ã€‚</p><p>ä½†æ˜¯è¿™ä¼šå¯¼è‡´ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼š</p><pre class="line-numbers language-java"><code class="language-java">Integer<span class="token punctuation">[</span><span class="token punctuation">]</span> IntArray <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Number<span class="token punctuation">[</span><span class="token punctuation">]</span> NumberArray <span class="token operator">=</span> IntArray<span class="token punctuation">;</span>NumberArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>NumberArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//å°è¯•æ±¡æŸ“ä¸€ä¸ªIntegeræ•°ç»„ runtime error</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ç¼–è¯‘æ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶æœ€åä¸€è¡Œä»£ç ä¼šæŠ›å‡º ArrayStoreExceptionã€‚å¾ˆæ˜æ˜¾ï¼Œå³ä½¿é€šè¿‡ä¸€ä¸ª Number[] å¼•ç”¨ï¼Œä¹Ÿä¸èƒ½å°†ä¸€ä¸ªæµ®ç‚¹æ•°æ”¾å…¥ä¸€ä¸ªäº‹å®ä¸Šçš„ Integer[] æ•°ç»„ã€‚å› ä¸ºåœ¨è¿è¡Œæ—¶çŸ¥é“è¿™ä¸ªæ•°ç»„çš„çœŸå®ç±»å‹ä¸ºå­˜æ”¾ Integer ç±»å‹çš„æ•°ç»„ã€‚</p><h2 id="æ³›å‹æ˜¯ä¸å˜çš„"><a href="#æ³›å‹æ˜¯ä¸å˜çš„" class="headerlink" title="æ³›å‹æ˜¯ä¸å˜çš„"></a>æ³›å‹æ˜¯ä¸å˜çš„</h2><p>è¦ç†è§£æ³›å‹æ˜¯ä¸å˜çš„ï¼Œéœ€è¦åœ¨æ­¤ä¹‹å‰è¯´æ˜æ³›å‹çš„æ“¦é™¤æœºåˆ¶ã€‚</p><p>å› ä¸º JDK1.5 ä¸­æ‰å¼•å…¥æ³›å‹æœºåˆ¶ï¼Œä¸ºäº†å…¼å®¹æ—§çš„å­—èŠ‚ç ï¼ŒJava è§„èŒƒåœ¨ç¼–è¯‘æ—¶å¯¹æ³›å‹è¿›è¡Œäº†ç±»å‹æ“¦é™¤ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä½¿ç”¨çš„æ‰€æœ‰æ³›å‹ä»…ä»…å­˜åœ¨äºç¼–è¯‘æœŸé—´ï¼Œå½“é€šè¿‡ç¼–è¯‘å™¨æ£€æŸ¥åï¼Œæ³›å‹ä¿¡æ¯éƒ½ä¼šè¢«åˆ é™¤ã€‚åœ¨è¿è¡Œæ—¶ï¼ŒJVM å¤„ç†çš„éƒ½æ˜¯æ²¡æœ‰æºå¸¦æ³›å‹ä¿¡æ¯çš„ç±»å‹ã€‚</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ErasedTypeEquivalence</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Class <span class="token class-name">c1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Class <span class="token class-name">c2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c1 <span class="token operator">==</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„æ‰§è¡Œç»“æœä¸º trueã€‚</p><p>å°½ç®¡ ArrayList&lt;String&gt; å’Œ ArrayList&lt;Integer&gt; çœ‹ä¸Šå»æ˜¯ä¸åŒçš„ç±»å‹ï¼Œä½†åœ¨è¿è¡Œæ—¶å®é™…ä¸Šæ˜¯ç›¸åŒçš„ç±»å‹ã€‚è¿™ä¸¤ç§ç±»å‹éƒ½è¢«æ“¦é™¤æˆå®ƒä»¬çš„åŸç”Ÿç±»å‹ï¼Œå³ ArrayListã€‚</p><p>å†çœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Fruit</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Apple</span> <span class="token keyword">extends</span> <span class="token class-name">Fruit</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NonCovariantGenerics</span> <span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>Fruit<span class="token operator">></span> flist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Apple<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¼–è¯‘é”™è¯¯</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CovariantArrays</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Fruit<span class="token punctuation">[</span><span class="token punctuation">]</span> fruit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Apple</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¼–è¯‘æ­£ç¡®</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸æ•°ç»„ä¸åŒï¼Œæ³›å‹æ²¡æœ‰å†…å»ºçš„åå˜ç±»å‹ã€‚è™½ç„¶ Apple æ˜¯ Fruit çš„å­ç±»ï¼Œä½† <code>ArrayList&lt;Apple&gt;</code> å¹¶ä¸æ˜¯ <code>List&lt;Fruit&gt;</code> çš„å­ç±»ï¼ŒNonCovariantGenerics ç›´æ¥åœ¨ç¼–è¯‘æ—¶æŠ¥é”™äº†ã€‚</p><p>æ³›å‹è™½ç„¶æ˜¯ä¸å˜çš„ï¼Œä½†æœ‰æ—¶éœ€è¦å®ç°åå˜å’Œé€†å˜ï¼Œè¿™æ—¶å°±è¦ç”¨åˆ°æ³›å‹é€šé…ç¬¦äº†ã€‚</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ³›å‹</title>
      <link href="/2020/04/17/java/ji-chu/fan-xing/"/>
      <url>/2020/04/17/java/ji-chu/fan-xing/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨æ²¡æœ‰æ³›å‹å‰ï¼Œä¸€æ—¦æŠŠä¸€ä¸ªå¯¹è±¡ä¸¢è¿›é›†åˆä¸­ï¼Œé›†åˆå°±ä¼šå¿˜è®°å¯¹è±¡çš„ç±»å‹ï¼ŒæŠŠæ‰€æœ‰çš„å¯¹è±¡éƒ½å½“æˆ Object ç±»å‹å¤„ç†ã€‚å½“ç¨‹åºä»é›†åˆä¸­å–å‡ºå¯¹è±¡åï¼Œå°±éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè¿™ç§è½¬æ¢å¾ˆå®¹æ˜“å¼•èµ· ClassCastException å¼‚å¸¸ã€‚</p><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>ç¨‹åºåœ¨åˆ›å»ºé›†åˆæ—¶æŒ‡å®šé›†åˆå…ƒç´ çš„ç±»å‹ã€‚å¢åŠ äº†æ³›å‹æ”¯æŒåçš„é›†åˆï¼Œå¯ä»¥è®°ä½é›†åˆä¸­å…ƒç´ çš„ç±»å‹ï¼Œå¹¶å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥é›†åˆä¸­å…ƒç´ çš„ç±»å‹ï¼Œå¦‚æœè¯•å›¾å‘é›†åˆä¸­æ·»åŠ ä¸æ»¡è¶³ç±»å‹è¦æ±‚çš„å¯¹è±¡ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ä¸¤ä¸ªç¤ºä¾‹ï¼Œç®€å•ä»‹ç»æ³›å‹çš„åŸºæœ¬ä½¿ç”¨ã€‚</p><h3 id="é›†åˆä½¿ç”¨æ³›å‹"><a href="#é›†åˆä½¿ç”¨æ³›å‹" class="headerlink" title="é›†åˆä½¿ç”¨æ³›å‹"></a>é›†åˆä½¿ç”¨æ³›å‹</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashMap<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DiamondTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        List<span class="token operator">&lt;</span>String<span class="token operator">></span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"learn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>book <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> List<span class="token operator">&lt;</span>String<span class="token operator">>></span> schoolsInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        List<span class="token operator">&lt;</span>String<span class="token operator">></span> schools <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        schools<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        schools<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"love"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        schoolsInfo<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"java"</span><span class="token punctuation">,</span> schools<span class="token punctuation">)</span><span class="token punctuation">;</span>        schoolsInfo<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">"--->"</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç±»ã€æ¥å£ä½¿ç”¨æ³›å‹"><a href="#ç±»ã€æ¥å£ä½¿ç”¨æ³›å‹" class="headerlink" title="ç±»ã€æ¥å£ä½¿ç”¨æ³›å‹"></a>ç±»ã€æ¥å£ä½¿ç”¨æ³›å‹</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Apple</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> T info<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Apple</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">Apple</span><span class="token punctuation">(</span>T info<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> info<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setInfo</span><span class="token punctuation">(</span>T info<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> info<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> T <span class="token function">getinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Apple<span class="token operator">&lt;</span>String<span class="token operator">></span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Apple</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">"Apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">getinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Apple<span class="token operator">&lt;</span>Double<span class="token operator">></span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Apple</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">5.67</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span><span class="token function">getinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-é›†åˆ</title>
      <link href="/2020/04/02/java/ji-chu/ji-he/"/>
      <url>/2020/04/02/java/ji-chu/ji-he/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="List-é›†åˆ"><a href="#List-é›†åˆ" class="headerlink" title="List é›†åˆ"></a>List é›†åˆ</h2><p>List é›†åˆä¸­å…ƒç´ æœ‰åºã€å¯é‡å¤ï¼Œé›†åˆä¸­æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„ç´¢å¼•é¡ºåºã€‚</p><blockquote><p>List åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåªè¦é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› true å³å¯ã€‚</p></blockquote><p>çœ‹ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListTest2</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        List books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>        books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“è¯•å›¾åˆ é™¤ä¸€ä¸ª A å¯¹è±¡æ—¶ï¼ŒList ä¼šè°ƒç”¨ A å¯¹è±¡çš„ equals æ–¹æ³•ä¾æ¬¡ä¸é›†åˆå…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœ equals æ–¹æ³•ä»¥æŸä¸ªé›†åˆå…ƒç´ ä½œä¸ºå‚æ•°æ—¶è¿”å› trueï¼ŒList å°†ä¼šåˆ é™¤è¯¥å…ƒç´ ã€‚è¿™é‡Œ A é‡å†™äº† equals æ–¹æ³•ï¼Œæ€»æ˜¯è¿”å› trueï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šä» List é›†åˆä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚</p><h3 id="ArrayList-ç±»"><a href="#ArrayList-ç±»" class="headerlink" title="ArrayList ç±»"></a>ArrayList ç±»</h3><p>ArrayList ç±»æ˜¯åŸºäºæ•°ç»„å®ç°çš„ List ç±»ï¼Œå®Œå…¨æ”¯æŒå‰é¢ä»‹ç»çš„ List æ¥å£çš„å…¨éƒ¨åŠŸèƒ½ã€‚</p><p>ArrayList å°è£…äº†ä¸€ä¸ªåŠ¨æ€çš„ã€å…è®¸å†åˆ†é…çš„ Object[] æ•°ç»„ã€‚</p><h2 id="Set-é›†åˆ"><a href="#Set-é›†åˆ" class="headerlink" title="Set é›†åˆ"></a>Set é›†åˆ</h2><h3 id="HashSet-ç±»"><a href="#HashSet-ç±»" class="headerlink" title="HashSet ç±»"></a>HashSet ç±»</h3><ul><li><p>å…ƒç´ æ²¡æœ‰é¡ºåºï¼Œé›†åˆå…ƒç´ çš„å€¼å¯ä»¥æ˜¯ null</p></li><li><p>HashSet ä¸æ˜¯åŒæ­¥çš„ï¼Œå‡è®¾æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹äº† HashSet é›†åˆæ—¶ï¼Œå¿…é¡»é€šè¿‡ä»£ç æ¥ä¿è¯å…¶åŒæ­¥</p></li></ul><blockquote><p>HashSet åˆ¤æ–­å…ƒç´ ç›¸ç­‰çš„æ ‡å‡†æ˜¯ä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals() æ¯”è¾ƒç›¸ç­‰ï¼ŒåŒæ—¶ä¸¤ä¸ªå¯¹è±¡çš„ hashCode()è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚</p></blockquote><blockquote><p>hashCode å’Œ equals ç¬¦åˆè¿™æ ·ä¸€ä¸ªçº¦å®š:equals è¿”å› trueï¼Œ hashCode å¿…é¡»ç›¸ç­‰ã€‚å¾ˆå¤š Java ç±»åº“ä¸­çš„ä»£ç éƒ½æ˜¯æŒ‰ç…§è¿™ç§çº¦å®šä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•çš„ï¼Œæ¯”å¦‚ HashSetã€‚</p></blockquote><p>å½“å‘ HashSet é›†åˆä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHashSet ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ hashCode() æ–¹æ³•æ¥è·å¾—è¯¥å¯¹è±¡çš„ hashCode å€¼ï¼Œç„¶åæ ¹æ®è¯¥ hashCode å€¼å†³å®šè¯¥å¯¹è±¡åœ¨ HashSet ä¸­çš„å­˜å‚¨ä½ç½®ã€‚</p><p>HashSet ä¸­æ¯ä¸ªèƒ½å­˜å‚¨å…ƒç´ çš„æ§½ä½ç§°ä¸ºæ¡¶(bucket)ã€‚å¦‚æœå¤šä¸ªå…ƒç´ çš„ hashCode å€¼ç›¸åŒï¼Œä½†å®ƒä»¬é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› falseï¼Œå°±éœ€è¦åœ¨ä¸€ä¸ªæ¡¶é‡Œæ”¾å¤šä¸ªå…ƒç´ ï¼Œè¿™ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚æ‰€ä»¥ï¼Œå»ºè®®åœ¨éœ€è¦æŠŠæŸä¸ªç±»çš„å¯¹è±¡ä¿å­˜åˆ° HashSet é›†åˆæ—¶ï¼Œé‡å†™è¯¥ç±»çš„ equals å’Œ hashCode æ–¹æ³•ï¼Œå°½é‡ä¿è¯ä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œä»–ä»¬çš„ hashCode æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚</p><p>å½“æŠŠå¯å˜å¯¹è±¡æ·»åŠ åˆ° HashSet ä¸­åï¼Œéœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå°½é‡ä¸è¦å»ä¿®æ”¹å¯å˜å¯¹è±¡ä¸­å‚ä¸è®¡ç®— hashCode() ã€equals() æ–¹æ³•çš„å®ä¾‹å˜é‡ï¼Œå¦åˆ™ä¼šå¯¼è‡´ HashSet æ— æ³•æ­£ç¡®è®¿é—®è¿™äº›é›†åˆå…ƒç´ ã€‚</p><p>çœ‹ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> count<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">R</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"R[count:"</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> R<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            R r <span class="token operator">=</span> <span class="token punctuation">(</span>R<span class="token punctuation">)</span>obj<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">==</span> r<span class="token punctuation">.</span>count<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>HashSet<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Iterator<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashSetTest2</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        HashSet hs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hs<span class="token punctuation">)</span><span class="token punctuation">;</span>        Iterator it <span class="token operator">=</span> hs<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        R first <span class="token operator">=</span> <span class="token punctuation">(</span>R<span class="token punctuation">)</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        first<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hs<span class="token punctuation">)</span><span class="token punctuation">;</span>        hs<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hs<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hs æ˜¯å¦åŒ…å« count ä¸º -3 çš„ R å¯¹è±¡"</span> <span class="token operator">+</span> hs<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hs æ˜¯å¦åŒ…å« count ä¸º -2 çš„ R å¯¹è±¡"</span> <span class="token operator">+</span> hs<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*[R[count:-2], R[count:-3], R[count:5], R[count:9]][R[count:-3], R[count:-3], R[count:5], R[count:9]][R[count:-3], R[count:5], R[count:9]]hs æ˜¯å¦åŒ…å« count ä¸º -3 çš„ R å¯¹è±¡falsehs æ˜¯å¦åŒ…å« count ä¸º -2 çš„ R å¯¹è±¡false*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LinkedHashSet-ç±»"><a href="#LinkedHashSet-ç±»" class="headerlink" title="LinkedHashSet ç±»"></a>LinkedHashSet ç±»</h3><p>LinkedHashSet æ˜¯ HashSet çš„å­ç±»ï¼ŒåŒæ ·æ ¹æ® hashCode å€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ã€‚ä½†æ˜¯ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œä½¿å¾—å½“éå† LinkedHashSet é›†åˆé‡Œçš„å…ƒç´ æ—¶ï¼ŒLinkedHashSet ä¼šæŒ‰å…ƒç´ çš„æ·»åŠ é¡ºåºè®¿é—®é›†åˆé‡Œçš„å…ƒç´ ã€‚</p><p>LinkedHashSet éœ€è¦ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå› æ­¤æ€§èƒ½ç•¥ä½äº HashSetï¼Œä½†åœ¨è¿­ä»£è®¿é—® Set é‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶ä¼šæœ‰å¾ˆå¥½çš„æ€§èƒ½ï¼Œå› ä¸ºå®ƒä»¥é“¾è¡¨ç»´æŠ¤å†…éƒ¨çš„é¡ºåºã€‚</p><h3 id="TreeSet-ç±»"><a href="#TreeSet-ç±»" class="headerlink" title="TreeSet ç±»"></a>TreeSet ç±»</h3><p>TreeSet æ˜¯ SortedSet æ¥å£çš„å®ç°ç±»ï¼Œé¡¾åæ€ä¹‰è¿™æ˜¯ä¸€ç§æ’åºçš„ Set é›†åˆã€‚</p><p>TreeSet åº•å±‚ä½¿ç”¨ TreeMap å®ç°ï¼Œé‡‡ç”¨çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨é›†åˆå…ƒç´ ã€‚TreeSet æ”¯æŒä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨è‡ªç„¶æ’åºã€‚</p><h4 id="è‡ªç„¶æ’åº"><a href="#è‡ªç„¶æ’åº" class="headerlink" title="è‡ªç„¶æ’åº"></a>è‡ªç„¶æ’åº</h4><p>Java æä¾›äº† Comparable æ¥å£ï¼Œæ¥å£å®šä¹‰äº†ä¸€ä¸ª compareTo(Object obj) æ–¹æ³•ã€‚å®ç°è¯¥æ¥å£çš„ç±»å¿…é¡»å®ç°è¯¥æŠ½è±¡æ–¹æ³•ã€‚</p><p>compareTo(Object obj) æ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>obj1.compareTo(obj2) è¿”å›å€¼ä¸º 0ï¼Œè¡¨æ˜ç›¸ç­‰</li><li>obj1.compareTo(obj2) è¿”å›å€¼å¤§äº 0ï¼Œè¡¨æ˜ obj1 &gt; obj2</li><li>obj1.compareTo(obj2) è¿”å›å€¼å°äº 0ï¼Œè¡¨æ˜ obj1 &lt; obj2</li></ul><p>TreeSet ä¼šè°ƒç”¨é›†åˆå…ƒç´ çš„ compareTo(Object obj) æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ å¤§å°å…³ç³»ï¼Œå†å°†é›†åˆå…ƒç´ æŒ‰å‡åºæ’åºï¼Œè¿™å°±æ˜¯è‡ªç„¶æ’åºã€‚æ‰€ä»¥è‡ªç„¶æ’åºä¸­çš„å…ƒç´ å¯¹è±¡éƒ½å¿…é¡»å®ç°äº† Comparable æ¥å£ã€‚</p><blockquote><p>å¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡ compareTo(Object obj) æ¯”è¾ƒç›¸ç­‰ï¼Œ å³è¿”å›å€¼ä¸º0ï¼ŒTreeSet è®¤ä¸ºå®ƒä»¬ç›¸ç­‰ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å°†æ— æ³•æ·»åŠ åˆ° TreeSet é›†åˆä¸­ã€‚</p></blockquote><blockquote><p>å¦‚æœå¸Œæœ› TreeSet èƒ½æ­£å¸¸å·¥ä½œï¼ŒTreeSet åªèƒ½æ·»åŠ åŒä¸€ç§ç±»å‹çš„å¯¹è±¡ã€‚</p></blockquote><h4 id="å®šåˆ¶æ’åº"><a href="#å®šåˆ¶æ’åº" class="headerlink" title="å®šåˆ¶æ’åº"></a>å®šåˆ¶æ’åº</h4><p>å¦‚æœéœ€è¦å®ç°å®šåˆ¶æ’åºï¼Œéœ€è¦åœ¨åˆ›å»º TreeSet é›†åˆå¯¹è±¡æ—¶ï¼Œæä¾›ä¸€ä¸ª Comparator å¯¹è±¡ä¸è¯¥ TreeSet é›†åˆå…³è”ã€‚Comparator æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨ Lambda è¡¨è¾¾å¼ä»£æ›¿ã€‚</p><p>é€šè¿‡å®šåˆ¶æ’åºæ–¹å¼æ—¶ï¼Œä¾ç„¶ä¸å¯ä»¥å‘ TreeSet ä¸­æ·»åŠ ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œå¦åˆ™å¼•å‘ ClassCastException å¼‚å¸¸ã€‚æ­¤æ—¶é›†åˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šé€šè¿‡ Comparator æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ è¿”å›äº† 0ï¼Œ è¿™æ · TreeSet ä¹Ÿä¸ä¼šæŠŠç¬¬äºŒä¸ªå…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ã€‚</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>TreeSet<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSettest4</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        TreeSet ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">{</span>            M m1 <span class="token operator">=</span> <span class="token punctuation">(</span>M<span class="token punctuation">)</span> o1<span class="token punctuation">;</span>            M m2 <span class="token operator">=</span> <span class="token punctuation">(</span>M<span class="token punctuation">)</span> o2<span class="token punctuation">;</span>            <span class="token keyword">return</span> m1<span class="token punctuation">.</span>age <span class="token operator">></span> m2<span class="token punctuation">.</span>age <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> m1<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> m2<span class="token punctuation">.</span>age <span class="token operator">?</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢ä½¿ç”¨ç›®æ ‡ç±»å‹ä¸º Comparator çš„ Lambda è¡¨è¾¾å¼ï¼Œå®ƒè´Ÿè´£ ts é›†åˆçš„æ’åºã€‚æ‰€æœ‰ M ç±»æ— éœ€å®ç° Comparable æ¥å£ï¼Œè€Œæ˜¯ç”± TreeSet å…³è”çš„ Lambda è¡¨è¾¾å¼è´Ÿè´£å…ƒç´ çš„æ’åºã€‚</p><p>åœ¨å®ç° compareTo æ–¹æ³•æ—¶ï¼Œå¼ºçƒˆæ¨èä¸ equals ç»“æœä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ã€‚å› ä¸ºæœ‰äº›ç±»æ˜¯æ ¹æ® equals æ¥åˆ¤æ–­é‡å¤æ€§ï¼Œæœ‰äº›æ˜¯åˆ©ç”¨è‡ªç„¶æ’åº x.compareTo(y) == 0 æ¥åˆ¤æ–­ã€‚compareTo æ˜¯åˆ¤æ–­å…ƒç´ åœ¨æ’åºä¸­çš„ä½ç½®æ˜¯å¦ç›¸ç­‰ï¼Œequals æ˜¯åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œæ—¢ç„¶ä¸€ä¸ªå†³å®šæ’åºä½ç½®ï¼Œä¸€ä¸ªå†³å®šç›¸ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éå¸¸æœ‰å¿…è¦ç¡®ä¿å½“æ’åºä½ç½®ç›¸åŒæ—¶ï¼Œå…¶equalsä¹Ÿåº”è¯¥ç›¸ç­‰ã€‚</p><h3 id="EnumSet-ç±»"><a href="#EnumSet-ç±»" class="headerlink" title="EnumSet ç±»"></a>EnumSet ç±»</h3><p>EnumSet æ˜¯ä¸“ä¸ºæšä¸¾ç±»è®¾è®¡çš„é›†åˆç±»ï¼ŒEnumSet ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»æ˜¯æŒ‡å®šæšä¸¾ç±»å‹çš„æšä¸¾ç±»ï¼Œè¯¥æšä¸¾ç±»å‹åœ¨åˆ›å»º EnumSet æ—¶æ˜¾å¼æˆ–éšå¼çš„çš„æŒ‡å®šã€‚</p><p>EnumSet çš„é›†åˆå…ƒç´ æ˜¯æœ‰åºçš„ï¼Œä»¥æšä¸¾å€¼åœ¨ Enum ç±»å†…çš„å®šä¹‰é¡ºåºæ¥å†³å®šé›†åˆå…ƒç´ çš„é¡ºåºã€‚EnumSet é›†åˆä¸å…è®¸æ’å…¥ null å…ƒç´ ã€‚</p><p>EnumSet å†…éƒ¨ä»¥ä½å‘é‡çš„å½¢å¼å­˜å‚¨ï¼Œè¿™ç§å­˜å‚¨å½¢å¼ç´§å‡‘é«˜æ•ˆï¼Œå ç”¨å†…å­˜å¾ˆå°ï¼Œè¿è¡Œæ•ˆç‡å¾ˆé«˜ã€‚å°¤å…¶æ˜¯åœ¨è¿›è¡Œæ‰¹é‡æ“ä½œæ—¶ï¼Œæ¯”å¦‚è°ƒç”¨ containsAll å’Œ retainAll æ–¹æ³•æ—¶ã€‚</p><h2 id="Map-é›†åˆ"><a href="#Map-é›†åˆ" class="headerlink" title="Map é›†åˆ"></a>Map é›†åˆ</h2><p>å®šä¹‰ï¼šMap ç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼Œkey å’Œ value ä¹‹é—´å­˜åœ¨å•å‘çš„ä¸€å¯¹ä¸€å…³ç³»ï¼Œkey ä¸å…è®¸é‡å¤ã€‚</p><blockquote><p>Set ä¸ Map ä¹‹é—´å…³ç³»éå¸¸å¯†åˆ‡ï¼Œå¦‚æœæŠŠ key-value å¯¹ä¸­çš„ value å½“æˆ key çš„é™„åº¸ï¼Œkey åœ¨å“ªé‡Œï¼Œvalue å°±åœ¨å“ªé‡Œã€‚è¿™æ ·å°±å¯ä»¥åƒå¯¹å¾… Set ä¸€æ ·å¯¹å¾… Map äº†ã€‚</p><p>å®é™…ä¸Šï¼ŒMap æä¾›äº†ä¸€ä¸ª Entry å†…éƒ¨ç±»æ¥å°è£… key-value å¯¹ï¼Œè€Œè®¡ç®— Entry å­˜å‚¨æ—¶åˆ™åªè€ƒè™‘ Entry å°è£…çš„ keyã€‚ä»æºç æ¥çœ‹ï¼ŒJava æ˜¯å…ˆå®ç°äº† Mapï¼Œç„¶åé€šè¿‡åŒ…è£…ä¸€ä¸ªæ‰€æœ‰ value éƒ½ä¸º null çš„ Map å°±å®ç°äº† Set é›†åˆã€‚</p></blockquote><h3 id="HashMap-å®ç°ç±»"><a href="#HashMap-å®ç°ç±»" class="headerlink" title="HashMap å®ç°ç±»"></a>HashMap å®ç°ç±»</h3><p>HashMap ä¸­ç”¨ä½œ key çš„å¯¹è±¡å¿…é¡»å®ç° hashCode() æ–¹æ³•å’Œ equals() æ–¹æ³•ã€‚</p><blockquote><p>HashMap åˆ¤æ–­ä¸¤ä¸ª key ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ª key é€šè¿‡ equals() æ–¹æ³•æ¯”è¾ƒè¿”å› trueï¼Œä¸¤ä¸ª key çš„ hashCode å€¼ä¹Ÿç›¸ç­‰ã€‚</p></blockquote><blockquote><p>HashMap åˆ¤æ–­ä¸¤ä¸ª value ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals() æ–¹æ³•è¿”å› true å³å¯ã€‚</p></blockquote><p>ä¸ HashSet ç±»ä¼¼ï¼Œå½“ä½¿ç”¨è‡ªå®šä¹‰ç±»ä½œä¸º HashMap çš„ key æ—¶ï¼Œå¦‚æœé‡å†™è¯¥ç±»çš„ equals() æ–¹æ³• å’Œ hashCode() æ–¹æ³•ï¼Œåˆ™åº”è¯¥ä¿è¯ä¸¤ä¸ªæ–¹æ³•çš„åˆ¤æ–­æ ‡å‡†ä¸€è‡´ï¼Œå³å½“ä¸¤ä¸ª key é€šè¿‡ equals() æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œä¸¤ä¸ª key çš„ hashCode() æ–¹æ³•è¿”å›å€¼ä¹Ÿåº”è¯¥ç›¸åŒã€‚</p><p>ä¸ HashSet ç±»ä¼¼ï¼Œå°½é‡ä¸è¦ä½¿ç”¨å¯å˜å¯¹è±¡ä½œä¸º HashMap çš„ keyï¼Œå¦‚æœä½¿ç”¨äº†ï¼Œåˆ™å°½é‡ä¸è¦åœ¨ç¨‹åºä¸­ä¿®æ”¹ä½œä¸º key çš„å¯å˜å¯¹è±¡ã€‚</p><h3 id="LinkedHashMap-å®ç°ç±»"><a href="#LinkedHashMap-å®ç°ç±»" class="headerlink" title="LinkedHashMap å®ç°ç±»"></a>LinkedHashMap å®ç°ç±»</h3><p>LinkedHashMap ä¹Ÿä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤ key-value å¯¹çš„æ¬¡åºï¼ˆå…¶å®åªéœ€è¦è€ƒè™‘ key çš„æ¬¡åºï¼‰ï¼Œè¯¥é“¾è¡¨è´Ÿè´£ç»´æŠ¤ Map çš„è¿­ä»£é¡ºåºï¼Œè¿­ä»£é¡ºåºä¸ key-value å¯¹çš„æ’å…¥é¡ºåºä¿æŒä¸€è‡´ã€‚</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>LinkedHashMap<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkedHashMapTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        LinkedHashMap scores <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Chinses"</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"English"</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Math"</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scores<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key <span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">"--->"</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="TreeMap-å®ç°ç±»"><a href="#TreeMap-å®ç°ç±»" class="headerlink" title="TreeMap å®ç°ç±»"></a>TreeMap å®ç°ç±»</h3><p>TreeMap æ˜¯ä¸€ä¸ªçº¢é»‘æ ‘æ•°æ®ç»“æ„ï¼Œæ¯ä¸ª key-value å¯¹å³ä½œä¸ºçº¢é»‘æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚TreeMap å­˜å‚¨ key-value å¯¹èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ ¹æ® key å¯¹èŠ‚ç‚¹è¿›è¡Œæ’åºã€‚TreeMap å¯ä»¥ä¿è¯æ‰€æœ‰çš„ key-value å¯¹å¤„äºæœ‰åºçŠ¶æ€ã€‚</p><p>ä¸¤ç§æ’åºæ–¹å¼ï¼š</p><ul><li>è‡ªç„¶æ’åºï¼šTreeMap çš„æ‰€æœ‰ key å¿…é¡»å®ç° Comparable æ¥å£ï¼Œè€Œä¸”æ‰€æœ‰çš„ key åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¦åˆ™ä¼šæŠ›å‡º ClassCastException å¼‚å¸¸</li><li>å®šåˆ¶æ’åºï¼šåˆ›å»º TreeMap æ—¶ï¼Œä¼ å…¥ä¸€ä¸ª Comparator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹ TreeMap ä¸­çš„æ‰€æœ‰ key è¿›è¡Œæ’åºã€‚é‡‡ç”¨å®šåˆ¶æ’åºæ—¶ä¸è¦æ±‚ Map çš„ key å®ç° Comparable æ¥å£</li></ul><blockquote><p>TreeMap åˆ¤æ–­ä¸¤ä¸ª key ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ª key é€šè¿‡ compareTo æ–¹æ³•è¿”å› 0ã€‚</p></blockquote><p>ç±»ä¼¼äº TreeSetï¼Œå¦‚æœä½¿ç”¨è‡ªå®šä¹‰ç±»ä½œä¸º TreeMap çš„ keyï¼Œä¸ºäº†è®© TreeMap è‰¯å¥½çš„å·¥ä½œï¼Œåˆ™é‡å†™è¯¥ç±»çš„ equals() æ–¹æ³•å’Œ compareTo() æ–¹æ³•æ—¶åº”è¯¥ä¿æŒä¸€è‡´çš„ç»“æœï¼šä¸¤ä¸ª key é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œå®ƒä»¬é€šè¿‡ compareTo æ–¹æ³•æ¯”è¾ƒåº”è¯¥è¿”å› 0ã€‚</p><p>åœ¨å®ç° compareTo æ–¹æ³•æ—¶ï¼Œå¼ºçƒˆæ¨èä¸ equals ç»“æœä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ã€‚å› ä¸ºæœ‰äº›ç±»æ˜¯æ ¹æ® equals æ¥åˆ¤æ–­é‡å¤æ€§ï¼Œæœ‰äº›æ˜¯åˆ©ç”¨è‡ªç„¶æ’åº x.compareTo(y) == 0 æ¥åˆ¤æ–­ã€‚compareTo æ˜¯åˆ¤æ–­å…ƒç´ åœ¨æ’åºä¸­çš„ä½ç½®æ˜¯å¦ç›¸ç­‰ï¼Œequals æ˜¯åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œæ—¢ç„¶ä¸€ä¸ªå†³å®šæ’åºä½ç½®ï¼Œä¸€ä¸ªå†³å®šç›¸ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éå¸¸æœ‰å¿…è¦ç¡®ä¿å½“æ’åºä½ç½®ç›¸åŒæ—¶ï¼Œå…¶equalsä¹Ÿåº”è¯¥ç›¸ç­‰ã€‚</p><p>å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜ï¼š</p><blockquote><p>Virtually all Java core classes that implement Comparable have natural orderings that are consistent with equals.</p></blockquote><h3 id="EnumMap-å®ç°ç±»"><a href="#EnumMap-å®ç°ç±»" class="headerlink" title="EnumMap å®ç°ç±»"></a>EnumMap å®ç°ç±»</h3><p>EnumMap çš„ key å¿…é¡»æ˜¯å•ä¸ªæšä¸¾ç±»çš„æšä¸¾å€¼ã€‚</p><p>EnumMap å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li><p>EnumMap åœ¨å†…éƒ¨ä»¥æ•°ç»„å½¢å¼ä¿å­˜</p></li><li><p>EnumMap æ ¹æ® key çš„è‡ªç„¶é¡ºåºï¼ˆå³æšä¸¾å€¼åœ¨æšä¸¾ç±»ä¸­çš„å®šä¹‰é¡ºåºï¼‰æ¥ç»´æŠ¤ key-value å¯¹çš„é¡ºåº</p></li><li><p>EnumMap ä¸èƒ½ä½¿ç”¨ null ä½œä¸º key å€¼</p></li></ul><p>åˆ›å»º EnumMap æ—¶å¿…é¡»æŒ‡å®šä¸€ä¸ªæšä¸¾ç±»ï¼Œä»è€Œå°†è¯¥ EnumMap å’ŒæŒ‡å®šæšä¸¾ç±»ç›¸å…³è”ã€‚</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-å¼‚å¸¸</title>
      <link href="/2020/04/02/java/ji-chu/yi-chang/"/>
      <url>/2020/04/02/java/ji-chu/yi-chang/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="å¼‚å¸¸å±‚æ¬¡"><a href="#å¼‚å¸¸å±‚æ¬¡" class="headerlink" title="å¼‚å¸¸å±‚æ¬¡"></a>å¼‚å¸¸å±‚æ¬¡</h2><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/Exception.png" alt></p><ul><li>Errorï¼šJava è¿è¡Œæ—¶ç³»ç»Ÿçš„å†…éƒ¨é”™è¯¯å’Œèµ„æºè€—å°½é”™è¯¯ã€‚åº”ç”¨ç¨‹åºä¸åº”è¯¥æŠ›å‡ºè¿™ç§ç±»å‹çš„å¯¹è±¡ã€‚å¦‚æœå‡ºç°äº†è¿™æ ·çš„å†…éƒ¨é”™è¯¯ï¼Œé™¤äº†é€šå‘Šç»™ç”¨æˆ·ï¼Œå¹¶å°½åŠ›ä½¿ç¨‹åºå®‰å…¨åœ°ç»ˆæ­¢ä¹‹å¤–ï¼Œå†ä¹Ÿæ— èƒ½ä¸ºåŠ›äº†ã€‚</li><li>Exception<ul><li>RuntimeExceptionï¼šç”±ç¨‹åºé”™è¯¯å¯¼è‡´çš„å¼‚å¸¸</li><li>å…¶ä»–å¼‚å¸¸ï¼šç¨‹åºæœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œä½†ç”±ç±»ä¼¼ IO é”™è¯¯å¯¼è‡´çš„å¼‚å¸¸</li></ul></li></ul><h2 id="Checked-å¼‚å¸¸-amp-Runtime-å¼‚å¸¸"><a href="#Checked-å¼‚å¸¸-amp-Runtime-å¼‚å¸¸" class="headerlink" title="Checked å¼‚å¸¸ &amp; Runtime å¼‚å¸¸"></a>Checked å¼‚å¸¸ &amp; Runtime å¼‚å¸¸</h2><p>Checked å¼‚å¸¸ï¼šä¸æ˜¯ RuntimeException ç±»åŠå…¶å­ç±»çš„å¼‚å¸¸å®ä¾‹</p><p>Runtime å¼‚å¸¸ï¼šæ‰€æœ‰ RuntimeException ç±»åŠå…¶å­ç±»çš„å¼‚å¸¸å®ä¾‹</p><blockquote><p>Java è®¤ä¸º Checked å¼‚å¸¸éƒ½æ˜¯å¯ä»¥è¢«å¤„ç†ä¿®å¤çš„å¼‚å¸¸ï¼Œæ‰€ä»¥ç¨‹åºå¿…é¡»æ˜¾ç¤ºå¤„ç† Checked å¼‚å¸¸ï¼Œå¦‚æœç¨‹åºæ²¡æœ‰å¤„ç† Checked å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶ä¼šå‡ºé”™ã€‚Checked å¼‚å¸¸ä½“ç°äº† Java çš„è®¾è®¡ç†å¿µï¼Œæ²¡æœ‰å®Œå–„é”™è¯¯å¤„ç†çš„ä»£ç æ ¹æœ¬ä¸ä¼šè¢«æ‰§è¡Œã€‚</p></blockquote><p>å¯¹ Checked å¼‚å¸¸å¤„ç†æ–¹å¼ï¼š</p><ul><li><p>å½“å‰æ–¹æ³•æ˜ç¡®çŸ¥é“å¦‚ä½•å¤„ç†è¯¥å¼‚å¸¸ï¼Œåº”è¯¥ä½¿ç”¨ try-catch å¤„ç†è¯¥å¼‚å¸¸</p></li><li><p>å½“å‰æ–¹æ³•ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¯¥å¼‚å¸¸ï¼Œåº”åœ¨å®šä¹‰è¯¥æ–¹æ³•æ—¶å£°æ˜æŠ›å‡ºè¯¥å¼‚å¸¸</p></li></ul><p>å¯¹ Runtime å¼‚å¸¸çš„å¤„ç†æ–¹å¼ï¼š</p><ul><li>Runtime å¼‚å¸¸æ— éœ€æ˜¾å¼å£°æ˜æŠ›å‡ºï¼Œå¦‚æœç¨‹åºéœ€è¦æ•è· Runtime å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ try-catch å—</li></ul><h2 id="throws-å£°æ˜æŠ›å‡ºå¼‚å¸¸"><a href="#throws-å£°æ˜æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="throws å£°æ˜æŠ›å‡ºå¼‚å¸¸"></a>throws å£°æ˜æŠ›å‡ºå¼‚å¸¸</h2><p>å¦‚æœå½“å‰æ–¹æ³•ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¿™ç§ç±»å‹çš„å¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸åº”è¯¥ç”±ä¸Šä¸€çº§è°ƒç”¨è€…å¤„ç†ï¼Œå¦‚æœä¸Šä¸€çº§è°ƒç”¨è€…ä¹Ÿä¸çŸ¥é“å¦‚ä½•å¤„ç†ï¼Œå†æŠ›å‡ºç›´è‡³äº¤ç”± JVM å¤„ç†ã€‚</p><p>throws å£°æ˜æŠ›å‡ºåªèƒ½åœ¨æ–¹æ³•å£°æ˜ä¸­ä½¿ç”¨ï¼Œå¯ä»¥å£°æ˜æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ç±»ã€‚ä¸€æ—¦ä½¿ç”¨ throws è¯­å¥å£°æ˜æŠ›å‡ºè¯¥å¼‚å¸¸ï¼Œç¨‹åºå°±æ— éœ€ä½¿ç”¨ try-catch æ¥æ•è·å¼‚å¸¸äº†ã€‚</p><p>ç¤ºä¾‹ï¼šä¸‹é¢ç¨‹åºå£°æ˜ä¸å¤„ç† IOException å¼‚å¸¸ï¼Œè€Œæ˜¯å°†è¯¥å¼‚å¸¸äº¤ç”± JVM å¤„ç†</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>FileInputStream<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThrowsTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>        FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæŸæ®µä»£ç ä¸­è°ƒç”¨äº†ä¸€ä¸ªå¸¦ throws å£°æ˜çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å£°æ˜æŠ›å‡ºäº† Checked å¼‚å¸¸ï¼Œåˆ™è¡¨æ˜è¯¥æ–¹æ³•å¸Œæœ›å®ƒçš„è°ƒç”¨è€…æ¥å¤„ç†è¯¥å¼‚å¸¸ã€‚é‚£ä¹ˆè°ƒç”¨è€…åœ¨è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œè¦ä¹ˆå°†å…¶æ”¾å…¥ try å—ä¸­å¹¶æ˜¾ç¤ºæ•è·è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆæ”¾åœ¨å¦ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ã€‚</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>FileInputStream<span class="token punctuation">;</span><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThrowsTest2</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">/* å› ä¸º FileInputStream çš„æ„é€ å™¨å£°æ˜æŠ›å‡º IOException å¼‚å¸¸           æ‰€ä»¥è°ƒç”¨ test() æ–¹æ³• çš„ä»£ç è¦ä¹ˆå¤„äº try-catch å—ä¸­           è¦ä¹ˆå¤„äºå¦ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­        */</span>        FileInputStream fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"a.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">/* å› ä¸º test() æ–¹æ³•å£°æ˜æŠ›å‡º IOException å¼‚å¸¸           æ‰€ä»¥è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç è¦ä¹ˆå¤„äº try-catch å—ä¸­           è¦ä¹ˆå¤„äºå¦ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­        */</span>        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸-throw"><a href="#ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸-throw" class="headerlink" title="ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ throw"></a>ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ throw</h2><p>å¦‚æœ throw è¯­å¥æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ Checked å¼‚å¸¸ï¼Œåˆ™è¯¥ throw è¯­å¥è¦ä¹ˆå¤„äº try å—é‡Œï¼Œæ˜¾å¼æ•è·è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆæ”¾åœ¨ä¸€ä¸ªå¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ï¼›å¦‚æœ throw è¯­å¥æŠ›å‡ºçš„æ˜¯ Runtime å¼‚å¸¸ï¼Œåˆ™æ— éœ€æ”¾åœ¨ try å—é‡Œï¼Œä¹Ÿæ— éœ€æ”¾åœ¨å¸¦ throws å£°æ˜æŠ›å‡ºçš„æ–¹æ³•ä¸­ï¼Œæ—¢å¯ä»¥æ˜¾å¼çš„ç”¨ try-catch æ¥æ•è·å¹¶å¤„ç†å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥å®Œå…¨ä¸ç†ä¼šè¯¥å¼‚å¸¸ï¼ŒæŠŠè¯¥å¼‚å¸¸äº¤ç»™è¯¥æ–¹æ³•è°ƒç”¨è€…å¤„ç†ã€‚</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThrowTest3</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">throwChecked</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// è‡ªè¡ŒæŠ›å‡º Exception å¼‚å¸¸</span>            <span class="token comment" spellcheck="true">// è¯¥ä»£ç å¿…é¡»å¤„äº try å—é‡Œï¼Œæˆ–å¤„äºå¸¦ throws å£°æ˜çš„æ–¹æ³•ä¸­</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"açš„å€¼å¤§äº0ï¼Œä¸ç¬¦åˆè¦æ±‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">throwRuntime</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// è‡ªè¡ŒæŠ›å‡º RuntimeException å¼‚å¸¸</span>            <span class="token comment" spellcheck="true">// æ—¢å¯ä»¥æ•è·è¯¥å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥å®Œå…¨ä¸ç†ä¼šè¯¥å¼‚å¸¸ï¼ŒæŠŠå¼‚å¸¸äº¤ç»™æ–¹æ³•è°ƒç”¨è€…å¤„ç†</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"açš„å€¼å¤§äº0ï¼Œä¸ç¬¦åˆè¦æ±‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// è°ƒç”¨å£°æ˜æŠ›å‡º Checked å¼‚å¸¸çš„æ–¹æ³•ï¼Œè¦ä¹ˆæ˜¾å¼åœ¨ try-catch ä¸­æ•è·è¯¥å¼‚å¸¸ï¼Œè¦ä¹ˆåœ¨ main æ–¹æ³•ä¸­å†æ¬¡å£°æ˜æŠ›å‡º</span>            <span class="token function">throwChecked</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// è°ƒç”¨å£°æ˜æŠ›å‡º Runtime å¼‚å¸¸çš„æ–¹æ³•æ—¢å¯ä»¥æ˜¾å¼æ•è·è¯¥å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥ä¸ç†ä¼šè¯¥å¼‚å¸¸</span>        <span class="token function">throwRuntime</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è‡ªå®šä¹‰å¼‚å¸¸ç±»"><a href="#è‡ªå®šä¹‰å¼‚å¸¸ç±»" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸ç±»"></a>è‡ªå®šä¹‰å¼‚å¸¸ç±»</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuctionException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// æ— å‚æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token function">AuctionException</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// å¸¦ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°çš„æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token function">AuctionException</span><span class="token punctuation">(</span>String msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¼‚å¸¸é“¾"><a href="#å¼‚å¸¸é“¾" class="headerlink" title="å¼‚å¸¸é“¾"></a>å¼‚å¸¸é“¾</h2><p>å°†åŸå§‹ä¿¡æ¯éšè—èµ·æ¥ï¼Œä»…å‘ä¸Šæä¾›å¿…è¦çš„å¼‚å¸¸æç¤ºä¿¡æ¯çš„å¤„ç†æ–¹å¼ï¼Œå¯ä»¥ä¿è¯åº•å±‚å¼‚å¸¸ä¸ä¼šæ‰©æ•£åˆ°è¡¨ç°å±‚ï¼Œé¿å…å‘ä¸Šæš´éœ²å¤ªå¤šçš„ç»†èŠ‚ï¼Œç¬¦åˆé¢å‘å¯¹è±¡çš„å°è£…åŸåˆ™ã€‚</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token function">calSal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SalException <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// å®ç°ç»“ç®—å·¥èµ„çš„ä¸šåŠ¡é€»è¾‘</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> sqle<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// å°†åŸå§‹å¼‚å¸¸è®°å½•ä¸‹æ¥ï¼Œç•™ç»™ç®¡ç†å‘˜</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        <span class="token comment" spellcheck="true">// ä¸‹é¢å¼‚å¸¸ä¸­çš„ message å°±æ˜¯ç»™ç”¨æˆ·çš„æç¤º</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SalException</span><span class="token punctuation">(</span>"è®¿é—®æ•°æ®åº“å¼‚å¸¸â€œ<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// å°†åŸå§‹å¼‚å¸¸è®°å½•ä¸‹æ¥ï¼Œç•™ç»™ç®¡ç†å‘˜</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        <span class="token comment" spellcheck="true">// ä¸‹é¢å¼‚å¸¸ä¸­çš„ message å°±æ˜¯ç»™ç”¨æˆ·çš„æç¤º</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">SalException</span><span class="token punctuation">(</span>"ç³»ç»Ÿå‡ºç°æœªçŸ¥å¼‚å¸¸â€œ<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-åŒ¿åå†…éƒ¨ç±»</title>
      <link href="/2020/04/02/java/ji-chu/ni-ming-nei-bu-lei/"/>
      <url>/2020/04/02/java/ji-chu/ni-ming-nei-bu-lei/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>åŒ¿åå†…éƒ¨ç±»é€‚åˆåˆ›å»ºåªéœ€è¦ä¸€æ¬¡ä½¿ç”¨çš„ç±»ï¼Œåˆ›å»ºåŒ¿åå†…éƒ¨ç±»æ—¶ä¼šç«‹å³åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ï¼Œè¿™ä¸ªç±»å®šä¹‰ç«‹å³æ¶ˆå¤±ï¼ŒåŒ¿åç±»ä¸èƒ½é‡å¤ä½¿ç”¨ã€‚</p><p>åŒ¿åç±»æ˜¯ç”¨æ¥åˆ›å»ºæ¥å£æˆ–è€…æŠ½è±¡ç±»çš„å®ä¾‹çš„ã€‚</p><p>åŒ¿åå†…éƒ¨ç±»ä¸èƒ½å®šä¹‰æ„é€ å™¨ã€‚å› ä¸ºåŒ¿åå†…éƒ¨ç±»æ²¡æœ‰ç±»åï¼Œæ‰€æœ‰æ— æ³•å®šä¹‰æ„é€ å™¨ã€‚ä½†åŒ¿åå†…éƒ¨ç±»å¯ä»¥å®šä¹‰åˆå§‹åŒ–å—ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹åˆå§‹åŒ–å—æ¥å®Œæˆæ„é€ å™¨éœ€è¦å®Œæˆçš„äº‹æƒ…ã€‚</p><p>å®šä¹‰åŒ¿åå†…éƒ¨ç±»æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">new</span> å®ç°æ¥å£ <span class="token operator">|</span> æŠ½è±¡çˆ¶ç±»æ„é€ å™¨<span class="token punctuation">(</span>å®å‚åˆ—è¡¨<span class="token punctuation">)</span><span class="token punctuation">{</span>    åŒ¿åå†…éƒ¨ç±»çš„ç±»ä½“éƒ¨åˆ†<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€å¸¸ç”¨çš„åˆ›å»ºåŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼æ˜¯éœ€è¦åˆ›å»ºæŸä¸ªæ¥å£ç±»å‹çš„å¯¹è±¡ï¼Œå¦‚ä¸‹</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductA</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnonymousTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>ProductA p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Buy a"</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"Cost "</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        AnonymousTest ta <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnonymousTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// è°ƒç”¨ test() æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ª Product å‚æ•°</span>        <span class="token comment" spellcheck="true">// æ­¤å¤„ä¼ å…¥å…¶åŒ¿åå®ç°ç±»çš„å®ä¾‹</span>        ta<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token number">567.8</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token string">"APG Card"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡ç»§æ‰¿æŠ½è±¡çˆ¶ç±»æ¥åˆ›å»ºåŒ¿åå†…éƒ¨ç±»æ—¶ï¼ŒåŒ¿åå†…éƒ¨ç±»å°†æ‹¥æœ‰å’Œçˆ¶ç±»ç›¸åŒå½¢å‚åˆ—è¡¨çš„æ„é€ å™¨ã€‚çœ‹ä¸‹é¢ä¸€æ®µä»£ç </p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Device</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Device</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Device</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnonymousInner</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>Device d<span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Buy a"</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token string">"Cost"</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        AnonymousInner ai <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnonymousInner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// è°ƒç”¨æœ‰å‚æ•°çš„æ„é€ å™¨åˆ›å»º Device åŒ¿åå®ç°ç±»çš„å¯¹è±¡</span>        ai<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Device</span><span class="token punctuation">(</span><span class="token string">"ç”µå­æ˜¾ç¤ºå™¨"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token number">67.8</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// è°ƒç”¨æ— å‚æ•°çš„æ„é€ å™¨åˆ›å»º Device åŒ¿åå®ç°ç±»çš„å¯¹è±¡</span>        Device d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Device</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// åˆå§‹åŒ–å—</span>            <span class="token punctuation">{</span>                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åŒ¿åå†…éƒ¨ç±»çš„åˆå§‹åŒ–å—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// å®ç°æŠ½è±¡æ–¹æ³•</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token number">56.2</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// é‡å†™çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•</span>            <span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token string">"keyboard"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        ai<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-å†…éƒ¨ç±»</title>
      <link href="/2020/04/02/java/ji-chu/nei-bu-lei/"/>
      <url>/2020/04/02/java/ji-chu/nei-bu-lei/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="éé™æ€å†…éƒ¨ç±»"><a href="#éé™æ€å†…éƒ¨ç±»" class="headerlink" title="éé™æ€å†…éƒ¨ç±»"></a>éé™æ€å†…éƒ¨ç±»</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cow</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">double</span> weight<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token function">Cow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token function">Cow</span><span class="token punctuation">(</span><span class="token keyword">double</span> weight<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// å®šä¹‰ä¸€ä¸ªéé™æ€å†…éƒ¨ç±»</span>    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">CowLeg</span> <span class="token punctuation">{</span>        <span class="token keyword">private</span> <span class="token keyword">double</span> length<span class="token punctuation">;</span>        <span class="token keyword">private</span> String color<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token function">CowLeg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token function">CowLeg</span><span class="token punctuation">(</span><span class="token keyword">double</span> length<span class="token punctuation">,</span> String color<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLength</span><span class="token punctuation">(</span><span class="token keyword">double</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> String <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setColor</span><span class="token punctuation">(</span>String color<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å½“å‰ç‰›è…¿çš„é¢œè‰²æ˜¯ "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">", é•¿ "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„ private ä¿®é¥°çš„æˆå‘˜å˜é‡</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯¥ç‰›è…¿æ‰€å±çš„å¥¶ç‰›é‡: "</span> <span class="token operator">+</span> weight<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        CowLeg cl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CowLeg</span><span class="token punctuation">(</span><span class="token number">1.12</span><span class="token punctuation">,</span> <span class="token string">"é»‘ç™½ç›¸é—´"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cl<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Cow cow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cow</span><span class="token punctuation">(</span><span class="token number">378.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cow<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨éé™æ€å†…éƒ¨ç±»é‡Œå¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„ private æˆå‘˜ï¼Œè¿™æ˜¯å› ä¸ºåœ¨éé™æ€å†…éƒ¨ç±»å¯¹è±¡é‡Œï¼Œä¿å­˜äº†ä¸€ä¸ªå®ƒæ‰€å¯„ç”Ÿçš„å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200402104437.png" alt></p><p>å¦‚æœå¤–éƒ¨ç±»æˆå‘˜å˜é‡ã€å†…éƒ¨ç±»æˆå‘˜å˜é‡ä¸å†…éƒ¨ç±»é‡Œæ–¹æ³•çš„å±€éƒ¨å˜é‡ååŒå</p><ul><li><p>ç›´æ¥è®¿é—®å±€éƒ¨å˜é‡</p></li><li><p>thisï¼Œè®¿é—®å†…éƒ¨ç±»å®ä¾‹çš„å˜é‡</p></li><li><p>å¤–éƒ¨ç±»ç±»å.this.varName è®¿é—®å¤–éƒ¨ç±»å®ä¾‹å˜é‡</p></li></ul><p>å¤–éƒ¨ç±»ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œæ— è®ºéé™æ€å†…éƒ¨ç±»çš„æˆå‘˜æ˜¯ä»€ä¹ˆä¿®é¥°ç¬¦ä¿®é¥°çš„ã€‚åªèƒ½æ˜¾ç¤ºåˆ›å»ºéé™æ€å†…éƒ¨ç±»å¯¹è±¡æ¥è®¿é—®å…¶å®ä¾‹æˆå‘˜ã€‚</p><h2 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h2><p>å¦‚æœç”¨ static ä¿®é¥°ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œåˆ™è¿™ä¸ªå†…éƒ¨ç±»å°±å±äºå¤–éƒ¨ç±»æœ¬èº«ï¼Œè€Œä¸å±äºå¤–éƒ¨ç±»çš„æŸä¸ªå¯¹è±¡ã€‚å› æ­¤ä¹Ÿå«åšç±»å†…éƒ¨ç±»ã€‚å³é™æ€å†…éƒ¨ç±»æ˜¯å¤–éƒ¨ç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜ã€‚</p><p>é™æ€å†…éƒ¨ç±»å¯ä»¥åŒ…å«é™æ€æˆå‘˜ï¼Œä¹Ÿå¯ä»¥åŒ…å«éé™æ€æˆå‘˜ã€‚</p><p>é™æ€å†…éƒ¨ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼Œåªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„ç±»æˆå‘˜ã€‚</p><p>å¤–éƒ¨ç±»ä¾ç„¶ä¸èƒ½ç›´æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œä½†å¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»çš„ç±»åä½œä¸ºè°ƒç”¨è€…æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„ç±»æˆå‘˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»å¯¹è±¡ä½œä¸ºè°ƒç”¨è€…æ¥è®¿é—®é™æ€å†…éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ã€‚</p><hr><blockquote><p>åœ¨å¤–éƒ¨ç±»ä»¥å¤–çš„åœ°æ–¹è®¿é—®å†…éƒ¨ç±»ï¼ˆåŒ…æ‹¬é™æ€å’Œéé™æ€ä¸¤ç§ï¼‰ï¼Œåˆ™å†…éƒ¨ç±»ä¸èƒ½ä½¿ç”¨ private ä¿®é¥°ï¼Œprivate ä¿®é¥°çš„å†…éƒ¨ç±»åªèƒ½åœ¨å¤–éƒ¨ç±»å†…éƒ¨ä½¿ç”¨ã€‚å¯¹äºä½¿ç”¨å…¶ä»–è®¿é—®ä¿®é¥°ç¬¦çš„å†…éƒ¨ç±»ï¼ŒæŒ‰ç…§è®¿é—®ä¿®é¥°ç¬¦èŒƒå›´è®¿é—®ã€‚</p></blockquote><h2 id="åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨éé™æ€å†…éƒ¨ç±»"><a href="#åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨éé™æ€å†…éƒ¨ç±»" class="headerlink" title="åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨éé™æ€å†…éƒ¨ç±»"></a>åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨éé™æ€å†…éƒ¨ç±»</h2><p>ç”±äºéé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡å¿…é¡»å¯„ç”Ÿåœ¨å¤–éƒ¨ç±»çš„å¯¹è±¡é‡Œï¼Œå› æ­¤åœ¨åˆ›å»ºéé™æ€å†…éƒ¨ç±»å¯¹è±¡ä¹‹å‰ï¼Œå¿…é¡»å…ˆåˆ›å»ºå…¶å¤–éƒ¨ç±»å¯¹è±¡ã€‚</p><p>ç¤ºä¾‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Out</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ä½¿ç”¨é»˜è®¤è®¿é—®æ§åˆ¶ç¬¦ï¼ŒåŒä¸€ä¸ªåŒ…ä¸­çš„å…¶ä»–ç±»å¯ä»¥è®¿é—®è¯¥å†…éƒ¨ç±»</span>    <span class="token keyword">class</span> <span class="token class-name">In</span> <span class="token punctuation">{</span>        <span class="token keyword">public</span> <span class="token function">In</span><span class="token punctuation">(</span>String msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateInnerInstance</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Out<span class="token punctuation">.</span>In in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">In</span><span class="token punctuation">(</span><span class="token string">"Test Msg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/*        ä¸Šé¢ä»£ç å¯ä»¥æ”¹ä¸ºå¦‚ä¸‹ä¸‰è¡Œä»£ç         ä½¿ç”¨ OutterClass.InnerClass çš„å½¢å¼å®šä¹‰å†…éƒ¨ç±»å˜é‡        Out.In in;        åˆ›å»ºå¤–éƒ¨ç±»å®ä¾‹ï¼Œéé™æ€å†…éƒ¨ç±»å®ä¾‹å°†å¯„ç”Ÿåœ¨è¯¥å®ä¾‹ä¸­        Out out = new Out();        é€šè¿‡å¤–éƒ¨ç±»å®ä¾‹å’Œnewæ¥è°ƒç”¨å†…éƒ¨ç±»æ„é€ å™¨åˆ›å»ºéé™æ€å†…éƒ¨ç±»å®ä¾‹        in = out.new In("Test Msg");        */</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªå­ç±»ç»§æ‰¿äº† Out ç±»çš„éé™æ€å†…éƒ¨ç±» In ç±»</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubClass</span> <span class="token keyword">extends</span> <span class="token class-name">Out<span class="token punctuation">.</span>In</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// æ˜¾ç¤ºå®šä¹‰ SubClass çš„æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token function">SubClass</span><span class="token punctuation">(</span>Out out<span class="token punctuation">)</span><span class="token punctuation">{</span>        out<span class="token punctuation">.</span><span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„ä»£ç å¯èƒ½çœ‹èµ·æ¥å¾ˆæ€ªï¼Œå…¶å®å¾ˆæ­£å¸¸ï¼šéé™æ€å†…éƒ¨ç±» In ç±»çš„æ„é€ å™¨å¿…é¡»ä½¿ç”¨å¤–éƒ¨ç±»å¯¹è±¡æ¥è°ƒç”¨ï¼Œä»£ç ä¸­ super ä»£è¡¨è°ƒç”¨ In ç±»çš„æ„é€ å™¨ï¼Œè€Œ out åˆ™ä»£è¡¨å¤–éƒ¨ç±»å¯¹è±¡ã€‚</p><p>å¦‚æœéœ€è¦åˆ›å»º SubClass å¯¹è±¡æ—¶ï¼Œå¿…é¡»åˆ›å»ºä¸€ä¸ª Out å¯¹è±¡ã€‚å› ä¸º SubClass æ˜¯éé™æ€å†…éƒ¨ç±» In çš„å­ç±»ï¼Œéé™æ€å†…éƒ¨ç±» In å¯¹è±¡é‡Œå¿…é¡»æœ‰ä¸€ä¸ªå¯¹ Out å¯¹è±¡çš„å¼•ç”¨ï¼Œå…¶å­ç±» SubClass å¯¹è±¡é‡Œä¹Ÿåº”è¯¥æŒæœ‰å¯¹ Out å¯¹è±¡çš„å¼•ç”¨ã€‚å½“åˆ›å»º SubClass å¯¹è±¡æ—¶ä¼ ç»™è¯¥æ„é€ å™¨çš„ Out å¯¹è±¡ï¼Œå°±æ˜¯ SubClass å¯¹è±¡é‡Œ Out å¯¹åº”å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚</p><p>ç»“åˆä¸Šé¢ä¸¤æ®µä»£ç ï¼Œéé™æ€å†…éƒ¨ç±» In å¯¹è±¡å’Œ SubClass å¯¹è±¡éƒ½å¿…é¡»æŒæœ‰æŒ‡å‘ Outer å¯¹è±¡çš„å¼•ç”¨ï¼ŒåŒºåˆ«æ˜¯åˆ›å»ºä¸¤ç§å¯¹è±¡æ—¶ä¼ å…¥ Out å¯¹è±¡çš„æ–¹å¼ä¸åŒï¼šå½“åˆ›å»ºéé™æ€å†…éƒ¨ç±» In ç±»çš„å¯¹è±¡æ—¶ï¼Œå¿…é¡»é€šè¿‡ Outer å¯¹è±¡æ¥è°ƒç”¨ new å…³é”®å­—ï¼›å½“åˆ›å»º SubClass ç±»çš„å¯¹è±¡æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ Outer å¯¹è±¡ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ In ç±»çš„æ„é€ å™¨</p><h2 id="åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨é™æ€å†…éƒ¨ç±»"><a href="#åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨é™æ€å†…éƒ¨ç±»" class="headerlink" title="åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨é™æ€å†…éƒ¨ç±»"></a>åœ¨å¤–éƒ¨ç±»ä¹‹å¤–ä½¿ç”¨é™æ€å†…éƒ¨ç±»</h2><p>å› ä¸ºé™æ€å†…éƒ¨ç±»æ˜¯å¤–éƒ¨ç±»ç±»ç›¸å…³çš„ï¼Œå› æ­¤åˆ›å»ºé™æ€å†…éƒ¨ç±»å¯¹è±¡æ—¶æ— éœ€åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡ã€‚</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateStaticInnerInstance</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        StaticOut<span class="token punctuation">.</span>StaticIn in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StaticOut<span class="token punctuation">.</span>StaticIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/* ä¸Šé¢çš„ä»£ç å¯æ”¹ä¸ºå¦‚ä¸‹ä¸¤è¡Œä»£ç         ä½¿ç”¨ OuterClass.InnerClass çš„å½¢å¼å®šä¹‰å†…éƒ¨ç±»å˜é‡        StaticOut.StaticIn in;        é€šè¿‡ new è°ƒç”¨å†…éƒ¨ç±»æ„é€ å™¨åˆ›å»ºé™æ€å†…éƒ¨ç±»å®ä¾‹        in = new StaticOut.StaticIn();        */</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºè°ƒç”¨é™æ€å†…éƒ¨ç±»çš„æ„é€ å™¨æ—¶ä¸éœ€è¦ä½¿ç”¨å¤–éƒ¨ç±»å¯¹è±¡ï¼Œæ‰€ä»¥åˆ›å»ºé™æ€å†…éƒ¨ç±»çš„å­ç±»ä¹Ÿæ¯”è¾ƒç®€å•ã€‚ä¸‹é¢ä»£ç ä¸ºé™æ€é™æ€å†…éƒ¨ç±» StaticIn å®šä¹‰äº†ä¸€ä¸ªç©ºçš„å­ç±»</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticSubClass</span> <span class="token keyword">extends</span> <span class="token class-name">StaticOut<span class="token punctuation">.</span>StaticIn</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æŠ½è±¡ç±»</title>
      <link href="/2020/04/02/java/ji-chu/chou-xiang-lei/"/>
      <url>/2020/04/02/java/ji-chu/chou-xiang-lei/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="è®¾è®¡æ€æƒ³"><a href="#è®¾è®¡æ€æƒ³" class="headerlink" title="è®¾è®¡æ€æƒ³"></a>è®¾è®¡æ€æƒ³</h2><p>æŠ½è±¡ç±»æ˜¯æ¨¡æ¿æ¨¡å¼çš„è®¾è®¡æ¨¡å¼ä½“ç°ã€‚æŠ½è±¡ç±»æ˜¯ä»å¤šä¸ªå…·ä½“ç±»ä¸­æŠ½è±¡å‡ºæ¥çš„çˆ¶ç±»ï¼Œå…·æœ‰æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚ä»å¤šä¸ªå…·æœ‰ç›¸åŒç‰¹å¾çš„ç±»ä¸­æŠ½è±¡å‡ºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä»¥è¿™ä¸ªæŠ½è±¡ç±»ä¸ºå…¶å­ç±»çš„æ¨¡æ¿ï¼Œé¿å…å­ç±»è®¾è®¡çš„éšæ„æ€§</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><ul><li><p>æŠ½è±¡ç±»ä½¿ç”¨ abstract ä¿®é¥°ã€‚</p></li><li><p>æŠ½è±¡ç±»å¯ä»¥å’Œæ™®é€šç±»ä¸€æ ·å¯ä»¥åŒ…å«æˆå‘˜å˜é‡ã€æ–¹æ³•ã€æ„é€ å™¨ã€åˆå§‹åŒ–å—ã€å†…éƒ¨ç±»ã€‚ä½†æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼ŒæŠ½è±¡ç±»çš„æ„é€ å™¨ä¸»è¦ç”¨æ¥è¢«å­ç±»è°ƒç”¨ã€‚</p></li><li><p>æŠ½è±¡ç±»å¯ä»¥ä¸åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»è¢«å®šä¹‰ä¸ºæŠ½è±¡ç±»ã€‚</p></li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ¥å£</title>
      <link href="/2020/04/02/java/ji-chu/jie-kou/"/>
      <url>/2020/04/02/java/ji-chu/jie-kou/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="è®¾è®¡æ€æƒ³"><a href="#è®¾è®¡æ€æƒ³" class="headerlink" title="è®¾è®¡æ€æƒ³"></a>è®¾è®¡æ€æƒ³</h2><ul><li><p>æ¥å£ä½“ç°çš„æ˜¯è§„èŒƒå’Œå®ç°åˆ†ç¦»çš„è®¾è®¡å“²å­¦ï¼Œè®©è½¯ä»¶ç³»ç»Ÿçš„å„ç»„ä»¶ä¹‹é—´é¢å‘æ¥å£è€¦åˆï¼Œæ˜¯ä¸€ç§æ¾è€¦åˆçš„è®¾è®¡ã€‚</p></li><li><p>æ¥å£å®šä¹‰çš„æ˜¯å¤šä¸ªç±»å…±åŒçš„å…¬å…±è¡Œä¸ºè§„èŒƒï¼Œè¿™äº›è¡Œä¸ºæ˜¯ä¸å¤–éƒ¨äº¤æµçš„é€šé“ï¼Œæ„å‘³ç€æ¥å£é€šå¸¸æ˜¯å®šä¹‰ä¸€ç»„å…¬å…±æ–¹æ³•ã€‚</p></li></ul><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><ul><li><p>æ¥å£çš„ä¿®é¥°ç¬¦ï¼Œåªèƒ½æ˜¯ public æˆ–è€… defaultã€‚</p></li><li><p>ç”±äºæ¥å£å®šä¹‰çš„æ˜¯ä¸€ç§è§„èŒƒï¼Œæ‰€ä»¥æ¥å£é‡Œä¸èƒ½åŒ…å«æ„é€ å™¨å’Œåˆå§‹åŒ–å—å®šä¹‰ï¼Œåªèƒ½åŒ…å«é™æ€å¸¸é‡ã€æ–¹æ³•ï¼ˆåªèƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œç±»æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•ï¼‰ä»¥åŠå†…éƒ¨ç±»ã€å†…éƒ¨æ¥å£ã€å†…éƒ¨æšä¸¾ã€‚</p></li><li><p>æ¥å£é‡Œçš„å¸¸é‡åªèƒ½æ˜¯é™æ€å¸¸é‡ï¼Œé»˜è®¤ä½¿ç”¨ public static final ä¿®é¥°ã€‚</p></li><li><p>æ¥å£é‡Œçš„å†…éƒ¨ç±»ã€å†…éƒ¨æ¥å£ã€å†…éƒ¨æšä¸¾ï¼Œé»˜è®¤ä½¿ç”¨ public static ä¿®é¥°ã€‚</p></li><li><p>æ¥å£é‡Œçš„æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰æ–¹æ³•ä½“ï¼Œä½†ç±»æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•å¿…é¡»æœ‰æ–¹æ³•ä½“ã€‚</p></li></ul><h2 id="æ–¹æ³•è¯´æ˜"><a href="#æ–¹æ³•è¯´æ˜" class="headerlink" title="æ–¹æ³•è¯´æ˜"></a>æ–¹æ³•è¯´æ˜</h2><p>æ¥å£ä¸­å®šä¹‰æŠ½è±¡æ–¹æ³•å¯ä»¥çœç•¥ abstract å…³é”®å­—å’Œä¿®é¥°ç¬¦ï¼Œé»˜è®¤ä¿®é¥°ç¬¦ä¸º publicã€‚</p><p>Java 8 æ–°å¢å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰é»˜è®¤æ–¹æ³•ï¼Œä½¿ç”¨ default ä¿®é¥°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä½¿ç”¨ public ä¿®é¥°é»˜è®¤æ–¹æ³•ã€‚</p><p>Java 8 æ–°å¢å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰ç§æœ‰æ–¹æ³•ã€‚</p><p>Java 8 æ–°å¢å…è®¸åœ¨æ¥å£ä¸­å®šä¹‰é™æ€æ–¹æ³•ã€‚é™æ€æ–¹æ³•å¯ä»¥è¢«å®ç°çš„æ¥å£çš„ç±»ç»§æ‰¿ã€‚</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ä¸€ä¸ªç±»å¯ä»¥å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚</p><p>ä¸€ä¸ªç±»å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œè¿™ä¸ªç±»å¿…é¡»é‡å†™æ‰€å®ç°çš„æ¥å£ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚å¦åˆ™ï¼Œè¯¥ç±»å¿…é¡»è¢«å®šä¹‰æˆæŠ½è±¡ç±»ï¼Œä¿ç•™ä»çˆ¶æ¥å£ç»§æ‰¿åˆ°çš„æŠ½è±¡æ–¹æ³•ã€‚</p><p>æ¥å£ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å¯ä»¥ç”¨äºå£°æ˜å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œè¯¥å˜é‡å¿…é¡»æŒ‡å‘å®ç°è¯¥æ¥å£çš„ç±»çš„å®ä¾‹å¯¹è±¡ã€‚</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-Object ç±»</title>
      <link href="/2020/04/02/java/ji-chu/object-lei/"/>
      <url>/2020/04/02/java/ji-chu/object-lei/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>Object ç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ã€‚</p><p>ä¸‹é¢ä»‹ç»å‡ ä¸ª Object ç±»ä¸­å¸¸ç”¨çš„æ–¹æ³•ã€‚</p><h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><p>toString ç”¨äºè¾“å‡ºå¯¹è±¡çš„è‡ªæˆ‘æè¿°ä¿¡æ¯ã€‚</p><p>Object ç±»æä¾›çš„ toString è¿”å›è¯¥å¯¹è±¡å®ç°ç±»çš„ â€œç±»å + @ + hashCodeâ€ã€‚</p><p>é€šå¸¸éœ€è¦é‡å†™è¯¥æ–¹æ³•ã€‚</p><h2><a href="#" class="headerlink" title="=="></a>==</h2><p>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåªè¦ä¸¤ä¸ªå˜é‡çš„å€¼ç›¸ç­‰ï¼ˆä¸éœ€è¦æ•°æ®ç±»å‹å®Œå…¨ç›¸åŒï¼‰ï¼Œå°±è¿”å› trueã€‚</p><p>å¯¹äºä¸¤ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåªæœ‰å®ƒä»¬æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ== åˆ¤æ–­æ‰ä¼šè¿”å› trueã€‚</p><h2 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h2><p>å¯¹äºå¼•ç”¨å˜é‡ï¼Œåªæœ‰æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ—¶æ‰è¿”å› trueã€‚</p><p>å½“ä»…éœ€è¦åˆ¤æ–­å€¼ç›¸ç­‰æ—¶ï¼Œä¸€èˆ¬éœ€è¦é‡å†™ equals æ–¹æ³•ã€‚</p><p>é‡å†™ equals æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">!=</span>null <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Person<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            Person personObj <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token punctuation">)</span>obj<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getIdStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>personObj<span class="token punctuation">.</span><span class="token function">getIdStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šå¦‚æœequals ä¸º trueï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦é‡å†™ hashcode æ–¹æ³•ï¼Œä»¥ä¿è¯ hashCode() è¿”å›å€¼ç›¸ç­‰ï¼Œè¿™æ˜¯ä¸€ç§<strong>çº¦å®šä¿—ç§°</strong>çš„è§„èŒƒã€‚å³ equals ä¸º true æ˜¯ hashCode ç›¸ç­‰çš„å……åˆ†éå¿…è¦æ¡ä»¶ã€‚</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡ºåº å¹¶è¡Œ å¹¶å‘</title>
      <link href="/2020/03/29/java/duo-xian-cheng/shun-xu-bing-xing-bing-fa/"/>
      <url>/2020/03/29/java/duo-xian-cheng/shun-xu-bing-xing-bing-fa/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UML å›¾ç¤º</title>
      <link href="/2020/03/26/java/ji-chu/uml-tu-shi/"/>
      <url>/2020/03/26/java/ji-chu/uml-tu-shi/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>UML æ˜¯åˆ†æç¨‹åºå’Œç†è§£ç¨‹åºé—´çš„è°ƒç”¨å…³ç³»æ—¶ï¼Œä¸å¯å¤šå¾—çš„åˆ©å™¨ã€‚</p><p>è¿™é‡Œç®€å•ä»‹ç»å‡ ç§ç¨‹åºå¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„ UML è§†å›¾ï¼Œå¹¶è¾…ä»¥çœŸå®çš„ Java æ¡ˆä¾‹ã€‚</p><h2 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><p>UML ä¸­çš„ç±»å›¾è¡¨ç¤ºç”¨äºè¡¨ç¤ºç±»ã€æ¥å£ã€å®ä¾‹ä¹‹é—´çš„é™æ€å…³ç³»ã€‚</p><h3 id="ç±»çš„å±‚æ¬¡å…³ç³»"><a href="#ç±»çš„å±‚æ¬¡å…³ç³»" class="headerlink" title="ç±»çš„å±‚æ¬¡å…³ç³»"></a>ç±»çš„å±‚æ¬¡å…³ç³»</h3><p>å±•ç¤ºç±»çš„å±‚æ¬¡å…³ç³»ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200326094046.png" alt></p><h3 id="æ¥å£ä¸å®ç°"><a href="#æ¥å£ä¸å®ç°" class="headerlink" title="æ¥å£ä¸å®ç°"></a>æ¥å£ä¸å®ç°</h3><p>å±•ç¤ºæ¥å£ä¸å®ç°ç±»çš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200326094335.png" alt></p><h3 id="èšåˆ"><a href="#èšåˆ" class="headerlink" title="èšåˆ"></a>èšåˆ</h3><p>åªè¦åœ¨ä¸€ä¸ªç±»ä¸­æŒæœ‰å¦ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ— è®ºæ˜¯å•ä¸ªè¿˜æ˜¯å¤šä¸ªï¼Œè¿™ç§æŒæœ‰å…³ç³»å°±ç§°ä¹‹ä¸ºèšåˆã€‚</p><p>å±•ç¤ºèšåˆå…³ç³»ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200326094652.png" alt></p><h3 id="å¯è§æ€§"><a href="#å¯è§æ€§" class="headerlink" title="å¯è§æ€§"></a>å¯è§æ€§</h3><p>ç±»çš„å±æ€§å’Œæ–¹æ³•çš„å¯è§æ€§ï¼ˆè®¿é—®æ§åˆ¶ï¼‰ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200326094839.png" alt></p><h3 id="ç±»çš„å…³è”"><a href="#ç±»çš„å…³è”" class="headerlink" title="ç±»çš„å…³è”"></a>ç±»çš„å…³è”</h3><p>ç±»ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200326095003.png" alt></p><h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><p>ç±»å›¾è¡¨ç¤ºçš„é™æ€å…³ç³»ä¸éšæ—¶é—´æµé€è€Œå˜åŒ–ï¼Œè€Œæ—¶åºå›¾æ°å¥½ç›¸åï¼Œéšç€æ—¶é—´æµé€è€Œå‘ç”Ÿå˜åŒ–çš„å…³ç³»ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/uml.png" alt></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-å¤šæ€</title>
      <link href="/2020/03/17/java/ji-chu/duo-tai/"/>
      <url>/2020/03/17/java/ji-chu/duo-tai/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>Java å¼•ç”¨å˜é‡æœ‰ä¸¤ä¸ªç±»å‹ã€‚å¦‚æœç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹ä¸ä¸€è‡´ï¼Œå°±å¯èƒ½å‡ºç°å¤šæ€ã€‚</p><ul><li><p>ç¼–è¯‘æ—¶ç±»å‹ï¼šç”±å£°æ˜è¯¥å˜é‡æ—¶ä½¿ç”¨çš„ç±»å‹å†³å®š</p></li><li><p>è¿è¡Œæ—¶ç±»å‹ï¼šç”±å®é™…è¿è¡Œæ—¶èµ‹ç»™è¯¥å˜é‡çš„å¯¹è±¡å†³å®š</p></li></ul><h3 id="å‘ä¸Šç±»å‹è½¬æ¢"><a href="#å‘ä¸Šç±»å‹è½¬æ¢" class="headerlink" title="å‘ä¸Šç±»å‹è½¬æ¢"></a>å‘ä¸Šç±»å‹è½¬æ¢</h3><p>ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseClass</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> book <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">base</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çˆ¶ç±»çš„æ™®é€šæ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çˆ¶ç±»çš„testæ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubClass</span> <span class="token keyword">extends</span> <span class="token class-name">BaseClass</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> String book <span class="token operator">=</span> <span class="token string">"è½»é‡çº§ Java EE"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­ç±»çš„testæ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­ç±»çš„subæ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        BaseClass ploymophicBc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ploymophicBc<span class="token punctuation">.</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>        ploymophicBc<span class="token punctuation">.</span><span class="token function">base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ploymophicBc<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// å› ä¸º ploymophicBc çš„ç¼–è¯‘æ—¶ç±»å‹æ˜¯ BaseClass</span>        <span class="token comment" spellcheck="true">// BaseClass ç±»æ²¡æœ‰æä¾› sub æ–¹æ³•ï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç ç¼–è¯‘æ—¶ä¼šå‡ºé”™</span>        <span class="token comment" spellcheck="true">// ploymophicBc.sub();</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¼•ç”¨å˜é‡ ploymophicBc æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„ç¼–è¯‘æ—¶ç±»å‹æ˜¯ BaseClassï¼Œè€Œè¿è¡Œæ—¶ç±»å‹æ˜¯ SubClassã€‚</p><p>ploymophicBc.sub() è¿™è¡Œä»£ç ä¼šåœ¨ç¼–è¯‘æ—¶æŠ¥é”™ï¼Œå› ä¸º ploymophicBc ç¼–è¯‘æ—¶ç±»å‹ä¸º BaseClassï¼Œè€Œ BaseClass ä¸­æ²¡æœ‰å®šä¹‰ sub æ–¹æ³•ï¼Œå› æ­¤ç¼–è¯‘æ—¶æ— æ³•é€šè¿‡ã€‚</p><p>ä½†æ˜¯æ³¨æ„ï¼ŒploymophicBc.book çš„å€¼ä¸º 6ï¼Œ è€Œä¸æ˜¯ â€è½»é‡çº§ Java EEâ€œã€‚å› ä¸º<strong>å¯¹è±¡çš„å®ä¾‹å˜é‡ä¸å…·å¤‡å¤šæ€æ€§</strong>ï¼Œç³»ç»Ÿæ€»æ˜¯è¯•å›¾è®¿é—®å®ƒç¼–è¯‘æ—¶ç±»å‹æ‰€å®šä¹‰çš„æˆå‘˜å˜é‡ï¼Œè€Œéè¿è¡Œæ—¶ã€‚</p><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>å­ç±»å…¶å®æ˜¯ä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»ï¼Œå› æ­¤ java å…è®¸æŠŠçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œè¿™è¢«ç§°ä¸ºå‘ä¸Šè½¬å‹ï¼ˆupcastingï¼‰ï¼Œå‘ä¸Šè½¬å‹ç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆã€‚</p><p>å¯ä»¥è°ƒç”¨å“ªäº›æ–¹æ³•ï¼Œå–å†³äºå¼•ç”¨ç±»å‹ï¼ˆç¼–è¯‘æ—¶ï¼‰ã€‚</p><p>å…·ä½“è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œå–å†³äºå¼•ç”¨æŒ‡å‘çš„å®ä¾‹å¯¹è±¡ï¼ˆè¿è¡Œæ—¶ï¼‰ã€‚</p><h3 id="å‘ä¸‹ç±»å‹è½¬æ¢"><a href="#å‘ä¸‹ç±»å‹è½¬æ¢" class="headerlink" title="å‘ä¸‹ç±»å‹è½¬æ¢"></a>å‘ä¸‹ç±»å‹è½¬æ¢</h3><p>é—®é¢˜ï¼šå¼•ç”¨å˜é‡åœ¨ä»£ç ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œåªèƒ½è°ƒç”¨å®ƒç¼–è¯‘æ—¶ç±»å‹å…·å¤‡çš„æ–¹æ³•ï¼Œè€Œä¸èƒ½è°ƒç”¨å®ƒè¿è¡Œæ—¶ç±»å‹å…·å¤‡çš„æ–¹æ³•</p><p>è§£å†³ï¼šå¼ºåˆ¶è½¬æ¢æˆè¿è¡Œæ—¶ç±»å‹</p><p>æ–¹æ³•ï¼šå¼•ç”¨ç±»å‹ä¹‹é—´çš„è½¬æ¢åªèƒ½åœ¨æœ‰ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»å‹ä¹‹é—´è¿›è¡Œï¼Œå¦åˆ™ç¼–è¯‘å‡ºé”™ã€‚å¦‚æœæƒ³æŠŠä¸€ä¸ªçˆ¶ç±»å¼•ç”¨å˜é‡çš„ç¼–è¯‘æ—¶ç±»å‹è½¬æ¢æˆå­ç±»ç±»å‹ï¼Œåˆ™è¿™ä¸ªå¼•ç”¨å˜é‡çš„è¿è¡Œæ—¶ç±»å‹å¾—æ˜¯å­ç±»ç±»å‹ï¼Œå¦åˆ™å¼•å‘ ClassCastException å¼‚å¸¸</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//åˆ›å»ºå­ç±»å¯¹è±¡</span>Dog dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å‘ä¸Šç±»å‹è½¬æ¢(ç±»å‹è‡ªåŠ¨æå‡),ä¸å­˜åœ¨é£é™©</span><span class="token comment" spellcheck="true">// æ­¤æ—¶ animal ä¸º Dog ç±»å‹</span>Animal animal <span class="token operator">=</span> dog<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// é£é™©æ¼”ç¤ºï¼šç¼–è¯‘é˜¶æ®µä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä¼šæŠ¥é”™</span><span class="token comment" spellcheck="true">// æ ¹æ®ä¸Šé¢çš„è¯­å¥ï¼Œæ­¤æ—¶ animal æŒ‡å‘ Dog ç±»å‹å¯¹è±¡ï¼Œæ²¡æœ‰åŠæ³•è½¬åŒ–æˆ Cat å¯¹è±¡ã€‚</span>Cat cat <span class="token operator">=</span> <span class="token punctuation">(</span>Cat<span class="token punctuation">)</span>animal<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1.å¼ºè½¬æˆåŠŸï¼Œç¼–è¯‘æ—¶æŒ‰ Cat ç±»å‹  2. ä½†è¿è¡Œæ—¶ Dog ç±»å‹ï¼Œç±»å‹ä¸åŒ¹é…ï¼Œç›´æ¥æŠ¥é”™</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h4><p>ä¸ºäº†è§£å†³å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¯èƒ½å¼•å‘çš„ ClassCastException å¼‚å¸¸ï¼Œå¼•å…¥ instanceof è¿ç®—ç¬¦ã€‚</p><p>instanceof è¿ç®—ç¬¦çš„å«ä¹‰ï¼šç”¨äºåˆ¤æ–­å·¦è¾¹çš„å¯¹è±¡ï¼ˆè¿è¡Œæ—¶ç±»å‹ï¼‰æ˜¯å¦æ˜¯å³è¾¹çš„ç±»æˆ–è€…å…¶å­ç±»ã€å®ç°ç±»çš„å®ä¾‹ã€‚å¦‚æœæ˜¯è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><p>åœ¨ä¹‹å‰çš„ä»£ç ä¸­ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢å‰ä½¿ç”¨ instanceof åˆ¤æ–­ï¼š</p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>anmial <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Cat cat <span class="token operator">=</span> <span class="token punctuation">(</span>Cat<span class="token punctuation">)</span>animal<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ–¹æ³•ä¼ å‚</title>
      <link href="/2020/03/17/java/ji-chu/fang-fa-chuan-can/"/>
      <url>/2020/03/17/java/ji-chu/fang-fa-chuan-can/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><blockquote><p>æ— è®ºæ˜¯åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’ï¼Œè¿˜æ˜¯å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’ï¼Œåœ¨ Java ä¸­æ–¹æ³•æ€»æ˜¯é‡‡ç”¨<strong>æŒ‰å€¼è°ƒç”¨</strong>ã€‚å¯¹äºå¼•ç”¨ç±»å‹ï¼Œä¼ é€’çš„æ˜¯å…¶å¯¹åº”çš„å†…å­˜ç©ºé—´åœ°å€ã€‚</p></blockquote><h3 id="åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’"><a href="#åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’" class="headerlink" title="åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’"></a>åŸºæœ¬ç±»å‹çš„å€¼ä¼ é€’</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrimitiveTransferTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tmp <span class="token operator">=</span> a<span class="token punctuation">;</span>        a <span class="token operator">=</span> b<span class="token punctuation">;</span>        b <span class="token operator">=</span> tmp<span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"swap æ–¹æ³•é‡Œ a çš„å€¼ä¸º: "</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">" bçš„å€¼ä¸º: "</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äº¤æ¢ç»“æŸå a çš„å€¼ä¸º "</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">" bçš„å€¼ä¸º "</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/**è¿è¡Œç»“æœï¼šswap æ–¹æ³•é‡Œ a çš„å€¼ä¸º: 9 bçš„å€¼ä¸º: 6äº¤æ¢ç»“æŸå a çš„å€¼ä¸º 6 bçš„å€¼ä¸º 9*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ†æå›¾ï¼š</p><p>main æ–¹æ³•ä¸­å®šä¹‰äº†aã€b å˜é‡å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200317093701.png" alt></p><p>main æ–¹æ³•ä¸­çš„å˜é‡ä½œä¸ºå‚æ•°å€¼ä¼ å…¥ swap() æ–¹æ³•å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200317093735.png" alt></p><p>swap æ–¹æ³•ä¸­ aã€b äº¤æ¢åçš„å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/1.png" alt></p><p>java ç¨‹åºæ€»æ˜¯ä» main() æ–¹æ³•å¼€å§‹æ‰§è¡Œï¼Œmain() æ–¹æ³•å®šä¹‰äº† aã€b ä¸¤ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸¤ä¸ªå˜é‡åœ¨ main æ ˆåŒºä¸­ã€‚åœ¨ main() æ–¹æ³•ä¸­è°ƒç”¨ swap() æ–¹æ³•æ—¶ï¼Œmain() æ–¹æ³•æ­¤æ—¶è¿˜æœªç»“æŸï¼Œå› æ­¤ç³»ç»Ÿä¸º main æ–¹æ³•å’Œ swap æ–¹æ³•åˆ†é…äº†ä¸¤å—æ ˆåŒºï¼Œç”¨äºä¿å­˜ main æ–¹æ³•å’Œ swap æ–¹æ³•çš„å±€éƒ¨å˜é‡ã€‚main æ–¹æ³•ä¸­çš„ aã€b å˜é‡ä½œä¸ºå‚æ•°ä¼ å…¥ swap æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯åœ¨ swap æ–¹æ³•æ ˆåŒºä¸­é‡æ–°äº§ç”Ÿäº†ä¸¤ä¸ªå˜é‡ aã€bï¼Œå¹¶å°† main æ–¹æ³•æ ˆåŒºä¸­ aã€b å˜é‡çš„å€¼åˆ†åˆ«èµ‹ç»™ swap æ–¹æ³•æ ˆåŒºä¸­çš„ aã€b å‚æ•°ï¼ˆè¿™å°±æ˜¯åˆå§‹åŒ–ï¼‰ã€‚æ­¤æ—¶ç³»ç»Ÿå†…å­˜ä¸­æœ‰ä¸¤ä¸ª a å˜é‡ã€ä¸¤ä¸ª b å˜é‡ï¼Œåªæ˜¯å­˜åœ¨äºä¸åŒçš„æ–¹æ³•æ ˆåŒºä¸­è€Œå·²ã€‚</p><h3 id="å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’"><a href="#å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’" class="headerlink" title="å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’"></a>å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’</h3><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReferenceTransferTest</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>DataWrap dw<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tmp <span class="token operator">=</span> dw<span class="token punctuation">.</span>a<span class="token punctuation">;</span>        dw<span class="token punctuation">.</span>a <span class="token operator">=</span> dw<span class="token punctuation">.</span>b<span class="token punctuation">;</span>        dw<span class="token punctuation">.</span>b <span class="token operator">=</span> tmp<span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"swap æ–¹æ³•é‡Œï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: "</span> <span class="token operator">+</span> dw<span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token string">" b æˆå‘˜å˜é‡çš„å€¼ä¸º: "</span> <span class="token operator">+</span> dw<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        DataWrap dw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataWrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dw<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>        dw<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>dw<span class="token punctuation">)</span><span class="token punctuation">;</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äº¤æ¢ç»“æŸåï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: "</span> <span class="token operator">+</span> dw<span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token string">" b æˆå‘˜å˜é‡çš„å€¼ä¸º: "</span> <span class="token operator">+</span> dw<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/**swap æ–¹æ³•é‡Œï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: 9 b æˆå‘˜å˜é‡çš„å€¼ä¸º: 6äº¤æ¢ç»“æŸåï¼Œ a æˆå‘˜å˜é‡çš„çš„å€¼ä¸º: 9 b æˆå‘˜å˜é‡çš„å€¼ä¸º: 6*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯èƒ½ä¼šç–‘é—®ï¼Œdw å¯¹è±¡çš„æˆå‘˜å˜é‡ aã€bçš„å€¼ä¹Ÿè¢«æ›¿æ¢äº†ï¼Œè¿™è·Ÿå‰é¢åŸºæœ¬ç±»å‹çš„ä¼ é€’å®Œå…¨ä¸ä¸€æ ·ã€‚è¿™éå¸¸å®¹æ˜“è®©äººè§‰å¾—ï¼Œè°ƒç”¨ä¼ å…¥ swap æ–¹æ³•çš„å°±æ˜¯ dw å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯å®ƒçš„å¤åˆ¶å“ã€‚å…¶å®ä¼ é€’çš„ä¾ç„¶æ˜¯ dw çš„å€¼ã€‚</p><p>åˆ†æå›¾ï¼š</p><p>main æ–¹æ³•ä¸­åˆ›å»º DataWrap å¯¹è±¡åçš„å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200317094351.png" alt></p><p>main æ–¹æ³•ä¸­ dw ä¼ å…¥ swap() æ–¹æ³•åçš„å­˜å‚¨ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹:</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200317094417.png" alt></p><p>ç³»ç»Ÿä¸€æ ·èµ‹å€¼äº† dw çš„å‰¯æœ¬ï¼Œåªæ˜¯å…³é”®åœ¨äº dw åªæ˜¯ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œå®ƒå­˜å‚¨çš„å€¼åªæ˜¯ä¸€æ®µå†…å­˜åœ°å€ï¼Œå°†è¯¥å†…å­˜åœ°å€ä¼ é€’ç»™ swap æ ˆåŒºï¼Œæ­¤æ—¶ swap æ ˆåŒºçš„ dw å’Œ main æ ˆåŒºçš„ dw çš„å€¼ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€ç›¸åŒï¼Œè¯¥æ®µå†…å­˜åœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„ DataWrap å¯¹è±¡ã€‚å¯¹ swap æ ˆåŒºçš„ dw æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¯¹ DataWrap å¯¹è±¡æ“ä½œã€‚</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ•°ç»„</title>
      <link href="/2020/03/15/java/ji-chu/shu-zu/"/>
      <url>/2020/03/15/java/ji-chu/shu-zu/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><p>æ•°ç»„æ˜¯ç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´ ã€‚ä¸€æ—¦æ•°ç»„åˆå§‹åŒ–å®Œæˆï¼Œæ•°ç»„åœ¨å†…å­˜ä¸­æ‰€å çš„ç©ºé—´å°†è¢«å›ºå®šä¸‹æ¥ï¼Œå› æ­¤æ•°ç»„çš„é•¿åº¦ä¸å¯ä»¥æ”¹å˜ã€‚å³ä½¿æŸä¸ªæ•°ç»„çš„å…ƒç´ è¢«æ¸…ç©ºï¼Œä½†æ˜¯å®ƒæ‰€å çš„ç©ºé—´ä¾ç„¶ä¿ç•™ã€‚</p><p>æ•°ç»„æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œæ—¢å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å¼•ç”¨ç±»å‹ï¼Œåªè¦å­˜å‚¨çš„æ•°ç»„å…ƒç´ å…·æœ‰ç›¸åŒçš„ç±»å‹å³å¯ã€‚</p><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><h3 id="åŠ¨æ€åˆå§‹åŒ–"><a href="#åŠ¨æ€åˆå§‹åŒ–" class="headerlink" title="åŠ¨æ€åˆå§‹åŒ–"></a>åŠ¨æ€åˆå§‹åŒ–</h3><p>æ‰§è¡ŒåŠ¨æ€åˆå§‹åŒ–æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®å£°æ˜çš„æ•°ç»„ç±»å‹è‡ªåŠ¨ä¸ºæ•°ç»„å…ƒç´ åˆ†é…åˆå§‹å€¼ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™æ•°ç»„å…ƒç´ çš„åˆå§‹å€¼ä¸º nullã€‚</p><pre class="line-numbers language-java">int[] scores = new int[5];</code></pre><h3 id="é™æ€åˆå§‹åŒ–"><a href="#é™æ€åˆå§‹åŒ–" class="headerlink" title="é™æ€åˆå§‹åŒ–"></a>é™æ€åˆå§‹åŒ–</h3><p>æ˜¾å¼æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„åˆå§‹å€¼</p><pre><code class="java">int[] scores = {1,2,3,4};</code></pre><h2 id="éå†æ•°ç»„"><a href="#éå†æ•°ç»„" class="headerlink" title="éå†æ•°ç»„"></a>éå†æ•°ç»„</h2><p>foreach éå†æ•°ç»„</p><pre><code class="java"><code class="language-java">int[] scores = new int[5];</code></pre><h3 id="é™æ€åˆå§‹åŒ–"><a href="#é™æ€åˆå§‹åŒ–" class="headerlink" title="é™æ€åˆå§‹åŒ–"></a>é™æ€åˆå§‹åŒ–</h3><p>æ˜¾å¼æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„åˆå§‹å€¼</p><pre><code class="java">int[] scores = {1,2,3,4};</code></pre><h2 id="éå†æ•°ç»„"><a href="#éå†æ•°ç»„" class="headerlink" title="éå†æ•°ç»„"></a>éå†æ•°ç»„</h2><p>foreach éå†æ•°ç»„</p><pre><code class="java">int[] scores = {1,2,3,4};for (int score : scores) {    System.out.println(score);}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•°ç»„çš„æœ¬è´¨"><a href="#æ•°ç»„çš„æœ¬è´¨" class="headerlink" title="æ•°ç»„çš„æœ¬è´¨"></a>æ•°ç»„çš„æœ¬è´¨</h2><p>å°†æ•°ç»„çœ‹æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªéƒ¨åˆ†æ˜¯æ•°ç»„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨ä»£ç ä¸­å®šä¹‰çš„æ•°ç»„å¼•ç”¨å˜é‡ï¼›å¦ä¸€éƒ¨åˆ†æ˜¯å®é™…çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™éƒ¨åˆ†æ˜¯åœ¨å †å†…å­˜ä¸­è¿è¡Œçš„ï¼Œé€šå¸¸æ— æ³•ç›´æ¥è®¿é—®å®ƒï¼Œåªèƒ½é€šè¿‡å¼•ç”¨å˜é‡æ¥è®¿é—®ã€‚</p><h2 id="äºŒç»´æ•°ç»„"><a href="#äºŒç»´æ•°ç»„" class="headerlink" title="äºŒç»´æ•°ç»„"></a>äºŒç»´æ•°ç»„</h2><p>äºŒç»´æ•°ç»„æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ç»´æ•°ç»„ï¼Œåªæ˜¯å…¶æ•°ç»„å…ƒç´ ä¹Ÿæ˜¯å¼•ç”¨ï¼Œæ•°ç»„å…ƒç´ é‡Œä¿å­˜çš„å¼•ç”¨æŒ‡å‘ä¸€ç»´æ•°ç»„ã€‚</p><pre class="line-numbers language-java"><code class="language-java">String <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"hello"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»£ç ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200315143323.png" alt></p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ§åˆ¶ç»“æ„</title>
      <link href="/2020/03/15/java/ji-chu/kong-zhi-jie-gou/"/>
      <url>/2020/03/15/java/ji-chu/kong-zhi-jie-gou/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>   statement<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   statement<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">switch</span> <span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">case</span> value1<span class="token operator">:</span>        statement1<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> value2<span class="token operator">:</span>        statement2<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> valuen<span class="token operator">:</span>        statementn<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        é»˜è®¤æ‰§è¡Œçš„ä»£ç <span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“ switch åè¡¨è¾¾å¼çš„å€¼å’Œ case è¯­å¥åçš„å€¼ç›¸åŒæ—¶ï¼Œä»è¯¥ä½ç½®å‘ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ° break è¯­å¥æˆ–è€… switch è¯­å¥å—ç»“æŸï¼›å¦‚æœæ²¡æœ‰åŒ¹é…çš„ case è¯­å¥åˆ™æ‰§è¡Œ default å—çš„ä»£ç ã€‚</p><ul><li><p>case åé¢çš„å€¼å¯ä»¥æ˜¯å¸¸é‡æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œä½†ä¸èƒ½æ˜¯å˜é‡æˆ–å¸¦æœ‰å˜é‡çš„è¡¨è¾¾å¼</p></li><li><p>å¯ä»¥æŠŠåŠŸèƒ½ç›¸åŒçš„ case è¯­å¥åˆå¹¶èµ·æ¥</p></li><li><p>default å—å¯ä»¥å‡ºç°åœ¨ä»»æ„ä½ç½®ï¼Œä¹Ÿå¯ä»¥çœç•¥</p></li></ul><h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>    statement<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="do-while"><a href="#do-while" class="headerlink" title="do-while"></a>do-while</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">do</span> <span class="token punctuation">{</span>    statement<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span>å¾ªç¯å˜é‡åˆå§‹åŒ–<span class="token punctuation">;</span> å¾ªç¯æ¡ä»¶<span class="token punctuation">;</span> å¾ªç¯å˜é‡å˜åŒ–<span class="token punctuation">)</span> <span class="token punctuation">{</span>    statementï¼›<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…¥é—¨-æ•°æ®ç±»å‹</title>
      <link href="/2020/03/15/java/ji-chu/shu-ju-lei-xing/"/>
      <url>/2020/03/15/java/ji-chu/shu-ju-lei-xing/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><ul><li>åŸºæœ¬æ•°æ®ç±»å‹å˜é‡å­˜å‚¨çš„æ˜¯æ•°æ®æœ¬èº«</li><li>å¼•ç”¨ç±»å‹å˜é‡å­˜å‚¨çš„æ˜¯æ•°æ®çš„ç©ºé—´åœ°å€</li></ul><h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><h3 id="è‡ªåŠ¨ç±»å‹è½¬æ¢"><a href="#è‡ªåŠ¨ç±»å‹è½¬æ¢" class="headerlink" title="è‡ªåŠ¨ç±»å‹è½¬æ¢"></a>è‡ªåŠ¨ç±»å‹è½¬æ¢</h3><p>æŠŠä¸€ä¸ªè¡¨æ•°èŒƒå›´å°çš„æ•°å€¼æˆ–å˜é‡ç›´æ¥èµ‹ç»™å¦ä¸€ä¸ªè¡¨æ•°èŒƒå›´å¤§çš„å˜é‡æ—¶ï¼Œç³»ç»Ÿå°†ä¼šè¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼è½¬æ¢ï¼‰ï¼Œå¦åˆ™éœ€è¦å¼ºåˆ¶è½¬æ¢ã€‚</p><h3 id="å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p>å¼ºåˆ¶ç±»å‹è½¬æ¢å¯èƒ½å­˜åœ¨æº¢å‡ºå¯¼è‡´æ•°æ®ç²¾åº¦ä¸¢å¤±çš„æƒ…å†µã€‚</p><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>Java æ²¡æœ‰å†…ç½®çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œè€Œæ˜¯æä¾›äº†ä¸€ä¸ªæ ‡å‡†ç±»åº“ Stringã€‚</p><p>ç‰¹å¾ï¼šä¸å¯å˜å­—ç¬¦ä¸²</p><p>ä¼˜ç‚¹ï¼šç¼–è¯‘å™¨å¯ä»¥è®©å­—ç¬¦ä¸²å…±äº«ï¼ˆåªæœ‰å­—ç¬¦ä¸²å¸¸é‡æ˜¯å…±äº«çš„ï¼Œè€Œ + æˆ– substring ç­‰æ“ä½œäº§ç”Ÿçš„ç»“æœå¹¶ä¸æ˜¯å…±äº«çš„ï¼‰</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> J2SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDFS è¯»å†™æµç¨‹</title>
      <link href="/2019/09/09/da-shu-ju/hdfs/hdfs-du-xie-liu-cheng/"/>
      <url>/2019/09/09/da-shu-ju/hdfs/hdfs-du-xie-liu-cheng/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="HDFS-æ–‡ä»¶è¯»å–æµç¨‹"><a href="#HDFS-æ–‡ä»¶è¯»å–æµç¨‹" class="headerlink" title="HDFS æ–‡ä»¶è¯»å–æµç¨‹"></a>HDFS æ–‡ä»¶è¯»å–æµç¨‹</h2><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200314185440.png" alt></p><p>Client ç«¯è°ƒç”¨ DistributedFileSystem å¯¹è±¡çš„ open() æ–¹æ³•ã€‚</p><p>ç”± DistributedFileSystem é€šè¿‡ RPC å‘ NameNode è¯·æ±‚è¿”å›æ–‡ä»¶çš„ Block å—æ‰€åœ¨çš„ DataNode çš„åœ°å€ã€‚ï¼ˆæˆ‘ä»¬çŸ¥é“ HDFS é»˜è®¤ç­–ç•¥å¯¹æŸä¸ª Block ä¼šä¿å­˜ä¸‰ä»½å‰¯æœ¬åˆ°ä¸åŒçš„ DataNodeï¼Œé‚£ä¹ˆ NameNode åº”è¯¥è¿”å›å“ªä¸ª DataNodeï¼Ÿç­”æ¡ˆæ˜¯æ ¹æ® DataNode åˆ° Client ç«¯çš„è·ç¦»ã€‚å‡è®¾è¯·æ±‚çš„ Block å—åˆšå¥½å°±è½åœ¨ Client ç«¯æ‰€åœ¨æœºå™¨ä¸Šï¼Œå³ Client ç«¯æœ¬èº«ä¹Ÿæ˜¯ DataNodeï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—® DataNode å°†ä¼šè¿”å› Client ç«¯æ‰€åœ¨æœºå™¨åœ°å€ã€‚è¿™ä¹ŸéªŒè¯äº† Hadoop çš„ä¸€ä¸ªè®¾è®¡ç‰¹æ€§ï¼Œç§»åŠ¨è®¡ç®—è€Œä¸æ˜¯ç§»åŠ¨æ•°æ®ï¼Œæå¤§äº†å‡å°äº†å¸¦å®½ã€‚ï¼‰</p><p>Client ç«¯è°ƒç”¨ FSDataInputStream å¯¹è±¡çš„ read() æ–¹æ³•ï¼Œé€šè¿‡ FSDataInputStream å‘ DataNode è·å– Block æ•°æ®ã€‚ä¹‹åæ•°æ®æµæºæºä¸æ–­åœ°ä» DataNode è¿”å›è‡³ Clientã€‚å½“æœ€åä¸€ä¸ª Block è¿”å›è‡³ Client ç«¯åï¼Œ DFSInputStream ä¼šå…³é—­ä¸ DataNode è¿æ¥ã€‚ä¸Šè¿°è¿‡ç¨‹å¯¹ Client ç«¯éƒ½æ˜¯é€æ˜çš„ï¼Œä» Client æ¥çœ‹ï¼Œå®ƒåªæ˜¯åœ¨ä¸åœçš„è¯»å–æ•°æ®æµã€‚</p><p>å¦‚æœ DFSInputStream åœ¨è¯»å–çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ï¼Œå°†ä¼šå°è¯•ä¸å­˜æœ‰è¯¥ Block å‰¯æœ¬ä¸”è·ç¦»æœ€è¿‘çš„ DataNode é€šä¿¡ã€‚åŒæ—¶ï¼Œå®ƒä¼šè®°å½•ä¸‹å‡ºé—®é¢˜çš„ DataNodeï¼Œåœ¨ä¹‹åçš„æ•°æ®è¯·æ±‚è¿‡ç¨‹ä¸­ä¸å†ä¸ä¹‹é€šä¿¡ã€‚å¹¶æŠ¥å‘Šç»™ NameNodeã€‚DFSInputStream å…·å¤‡æ£€æŸ¥æ•°æ®æ ¡éªŒå’Œçš„åŠŸèƒ½ã€‚</p><h2 id="HDFS-æ–‡ä»¶å†™å…¥æµç¨‹"><a href="#HDFS-æ–‡ä»¶å†™å…¥æµç¨‹" class="headerlink" title="HDFS æ–‡ä»¶å†™å…¥æµç¨‹"></a>HDFS æ–‡ä»¶å†™å…¥æµç¨‹</h2><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200314185557.png" alt></p><p>Client å†™å…¥æ–‡ä»¶æ—¶ï¼Œè°ƒç”¨ DistributedFileSystem å¯¹è±¡çš„ create() æ–¹æ³•ã€‚</p><p>DistributedFileSystem é€šè¿‡ RPC è¯·æ±‚ NameNode å‘å…¶ NameSpace å†™å…¥æ–‡ä»¶å…ƒæ•°æ®ä¿¡æ¯ã€‚NameNode ä¼šåšå¤šç§æ£€æŸ¥ï¼Œå¦‚åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦æœ‰ç›¸åº”çš„å†™æƒé™ç­‰ç­‰ã€‚å¦‚æœæ£€æŸ¥é€šè¿‡ï¼ŒNameNode ä¼šå°†æ–‡ä»¶å…ƒæ•°æ®å†™å…¥ NameSpaceã€‚DistributedFileSystem å°†ä¼šè¿”å› FSDataOutputStream ç”¨äº Client ç«¯ç›´æ¥å‘ DataNode å†™å…¥æ•°æ®ã€‚</p><p>DFSOutputStream å°† Client è¦å†™å…¥çš„æ•°æ®åˆ†å‰²æˆ Packetsã€‚Packets ä¼šè¢«ä¿å­˜åˆ° Data Queue é˜Ÿåˆ—ä¸­ï¼Œå¹¶ç”± DataStreamer æ¶ˆè´¹å¤„ç†ã€‚DataStreamer è¯·æ±‚ NameNode åˆ†é… DataNode åˆ—è¡¨ï¼Œå°† Packets å†™å…¥åˆ° DataNode ä¸­ã€‚å‡è®¾æ”¾ç½®å‰¯æœ¬çš„é»˜è®¤ç­–ç•¥æ˜¯ 3ï¼Œé‚£ä¹ˆ NameNode å°†è¿”å› 3 ä¸ª DataNodeï¼Œå¹¶ä¸²è”èµ·æ¥ç»„æˆä¸€æ¡ Pipelineã€‚ DataStreamer å°† Packets å†™å…¥åˆ°ç¬¬ä¸€ä¸ª DataNode1ï¼ŒDataNode1 å­˜å‚¨å®Œåç›´æ¥è½¬å‘è‡³ DataNode2ï¼ŒDataNode2 å­˜å‚¨å®Œåå†ç›´æ¥è½¬å‘è‡³ DataNode3ã€‚ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œç›´æ¥æ˜¯ DataNode1 ç›´æ¥å°† Packet è½¬å‘è‡³ DataNode2ã€‚ï¼‰</p><p>DFSOutputStream ä¸ºäº†é˜²æ­¢å‡ºé—®é¢˜æ—¶æ•°æ®çš„ä¸¢å¤±ï¼Œç»´æŒäº†ä¸€ä¸ªç­‰å¾… DataNode æˆåŠŸå†™å…¥çš„ ACK Queueã€‚åªæœ‰å½“ Packet è¢«æˆåŠŸå†™å…¥ Pipeline ä¸­çš„æ¯ä¸ª DataNode æ—¶ï¼Œæ­¤ Packet æ‰ä¼šä» ACK Queue ä¸­ç§»é™¤ã€‚</p><p>åœ¨ Pipeline å†™å…¥çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸä¸ª DataNode å‡ºç°é—®é¢˜ï¼ŒPipeline é¦–å…ˆå°†ä¼šè¢«å…³é—­ï¼Œéšååœ¨ ACK Queue ä¸­çš„ Packets ä¼šè¢«æ·»åŠ åˆ° Data Queue çš„æœ€å‰é¢ï¼Œç”¨æ¥é˜²æ­¢ä½äºé—®é¢˜èŠ‚ç‚¹ä¸‹æ¸¸çš„ DataNode å†™å…¥æ—¶çš„æ•°æ®ä¸¢å¤±ã€‚å‡ºé—®é¢˜çš„ DataNode ä¼šè¢«ä» Pipeline ä¸­ç§»é™¤ã€‚NameNode ä¼šé‡æ–°åˆ†é…ä¸€ä¸ªå¥åº·çš„ DataNode æ„æˆæ–°çš„ Pipelineã€‚</p><p>å½“ Client ç«¯å†™å®Œæ•°æ®ï¼Œè°ƒç”¨ DFSOutputStream å¯¹è±¡çš„ close() æ–¹æ³•ã€‚è¯¥æ“ä½œå°†ä¼šå°†æ‰€æœ‰å‰©ä½™çš„ Packets åˆ·å†™åˆ° DataNode Pipeline å¹¶ç­‰å¾…è¿”å›ç¡®è®¤ï¼Œä¹‹åå‘ NameNode å‘é€æ–‡ä»¶å†™å…¥å®Œæˆä¿¡å·ã€‚</p><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å¤§æ•°æ® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CM &amp; CDH åŸºæœ¬ä»‹ç»</title>
      <link href="/2019/08/17/da-shu-ju/cdh/cm-cdh-ji-ben-jie-shao/"/>
      <url>/2019/08/17/da-shu-ju/cdh/cm-cdh-ji-ben-jie-shao/</url>
      
        <content type="html"><![CDATA[<!-- build time:Sun Jul 12 2020 12:22:02 GMT+0800 (CST) --><h2 id="ä»€ä¹ˆæ˜¯-CDH"><a href="#ä»€ä¹ˆæ˜¯-CDH" class="headerlink" title="ä»€ä¹ˆæ˜¯ CDH"></a>ä»€ä¹ˆæ˜¯ CDH</h2><p>Hadoop æ˜¯å¼€æºé¡¹ç›®ï¼Œæ‰€ä»¥å¾ˆå¤šå…¬å¸åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå•†ä¸šåŒ–ï¼Œä¸æ”¶è´¹çš„ Hadoop ä¸»è¦æœ‰ä¸‰ä¸ªï¼š</p><ul><li><p>Apacheï¼Œæœ€åŸå§‹çš„ç‰ˆæœ¬ï¼Œæ‰€æœ‰å‘è¡Œç‰ˆå‡åŸºäºè¿™ä¸ªç‰ˆæœ¬è¿›è¡Œ</p></li><li><p>Cloudearï¼Œå…¨ç§° Clouderaâ€™s Distribution Including Apache Hadoopï¼Œç®€ç§° CDH</p></li><li><p>Hortonworksï¼Œå…¨ç§° Hortonworks Data Platformï¼Œç®€ç§° HDP</p></li></ul><h2 id="ä»€ä¹ˆæ˜¯-Cloudera-Manager"><a href="#ä»€ä¹ˆæ˜¯-Cloudera-Manager" class="headerlink" title="ä»€ä¹ˆæ˜¯ Cloudera Manager"></a>ä»€ä¹ˆæ˜¯ Cloudera Manager</h2><p>Cloudear Managerï¼Œç®€ç§° CMï¼Œç”¨äºç®¡ç† CDH é›†ç¾¤ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯å¯¹ CDH é›†ç¾¤è¿›è¡Œç›‘æ§ï¼Œå¤§å¤§æ”¹å–„åŸç”Ÿ Apache Hadoop çš„å®‰è£…ã€é…ç½®å¤æ‚åº¦å’Œéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºç›‘æ§å·¥å…·æ‰€å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ï¼Œå¯è¿›è¡ŒèŠ‚ç‚¹å®‰è£…ã€é…ç½®ã€è¯Šæ–­ã€é›†æˆå¹¶æä¾› web ç•Œé¢ã€‚</p><h2 id="CM-æ¶æ„"><a href="#CM-æ¶æ„" class="headerlink" title="CM æ¶æ„"></a>CM æ¶æ„</h2><p><img src="https://cdn.jsdelivr.net/gh/Tianny/Pic/img/20200314185027.png" alt></p><p>åŸºæœ¬ç»„æˆï¼š</p><ul><li><p>Server</p></li><li><p>Agentï¼šå®‰è£…åœ¨æ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¸Šï¼ŒServer ä¸‹å‘çš„æ“ä½œéƒ½ç”± Agent æ¥å®ç°</p></li><li><p>Management Serviceï¼šç›‘æ§æŠ¥è­¦ç­‰åŠŸèƒ½</p></li><li><p>Databaseï¼šå­˜å‚¨å„ç§æœåŠ¡é…ç½®ä¿¡æ¯å’ŒæŠ¥è­¦ä¿¡æ¯</p></li><li><p>Cloudera Repoistoryï¼šç”¨æ¥åˆ†å‘ Parcels åŒ…çš„è¿œç¨‹ä»“åº“</p></li><li><p>Clients</p></li></ul><p>Server å’Œ Agent é€šä¿¡æ–¹å¼ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒAgent æ¯éš” 15s å‘ Server å‘é€å¿ƒè·³ã€‚ä½†æ˜¯å½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸ºäº†å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œä¼šåŠ å¿«å¿ƒè·³é¢‘ç‡ã€‚</p><h2 id="CM-æœ¯è¯­"><a href="#CM-æœ¯è¯­" class="headerlink" title="CM æœ¯è¯­"></a>CM æœ¯è¯­</h2><ul><li><p>host ä¸»æœº</p></li><li><p>rack æœºæ¶</p></li><li><p>cluster é›†ç¾¤</p></li><li><p>service æœåŠ¡ï¼Œä¾‹å¦‚ HDFSã€YARN éƒ½æ˜¯ä¸€ä¸ªä¸ªæœåŠ¡</p></li><li><p>role è§’è‰²ï¼Œä¾‹å¦‚ HDFS çš„ NameNode å’Œ DataNode éƒ½å¯ä»¥ç§°ä¸º HDFS çš„ è§’è‰²</p></li><li><p>role group è§’è‰²ç»„ï¼Œå°†è§’è‰²åˆ’åˆ†ä¸ºä¸€ç»„æ–¹ä¾¿ç®¡ç†</p></li><li><p>host template ä¸»æœºæ¨¡æ¿</p></li><li><p>parcel åŒ…</p></li><li><p>static service pool é™æ€æœåŠ¡æ± </p></li><li><p>dynamic resource pool åŠ¨æ€èµ„æºæ± </p></li></ul><!-- rebuild by neat -->]]></content>
      
      
      <categories>
          
          <category> å¤§æ•°æ® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CDH </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
